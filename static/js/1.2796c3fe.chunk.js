(window.webpackJsonp=window.webpackJsonp||[]).push([[1],[function(t,H,z){"use strict";z.r(H),function(t){z.d(H,"Children",function(){return w}),z.d(H,"PropTypes",function(){return d}),z.d(H,"PureComponent",function(){return j}),z.d(H,"createFactory",function(){return V}),z.d(H,"hydrate",function(){return i}),z.d(H,"isValidElement",function(){return h}),z.d(H,"render",function(){return q}),z.d(H,"unmountComponentAtNode",function(){return b}),z.d(H,"unstable_renderSubtreeIntoContainer",function(){return U}),z.d(H,"version",function(){return C});var T=z(1);z.d(H,"Component",function(){return T.a}),z.d(H,"EMPTY_OBJ",function(){return T.b}),z.d(H,"Fragment",function(){return T.c}),z.d(H,"_CI",function(){return T.d}),z.d(H,"_HI",function(){return T.e}),z.d(H,"_M",function(){return T.f}),z.d(H,"_MCCC",function(){return T.g}),z.d(H,"_ME",function(){return T.h}),z.d(H,"_MFCC",function(){return T.i}),z.d(H,"_MP",function(){return T.j}),z.d(H,"_MR",function(){return T.k}),z.d(H,"_MT",function(){return T.l}),z.d(H,"__render",function(){return T.m}),z.d(H,"createComponentVNode",function(){return T.n}),z.d(H,"createFragment",function(){return T.o}),z.d(H,"createPortal",function(){return T.p}),z.d(H,"createRef",function(){return T.q}),z.d(H,"createRenderer",function(){return T.r}),z.d(H,"createTextVNode",function(){return T.s}),z.d(H,"createVNode",function(){return T.t}),z.d(H,"directClone",function(){return T.u}),z.d(H,"findDOMfromVNode",function(){return T.v}),z.d(H,"forwardRef",function(){return T.w}),z.d(H,"getFlagsForElementVnode",function(){return T.x}),z.d(H,"linkEvent",function(){return T.y}),z.d(H,"normalizeProps",function(){return T.z}),z.d(H,"options",function(){return T.A}),z.d(H,"rerender",function(){return T.C});var e=z(14);z.d(H,"cloneElement",function(){return e.a}),z.d(H,"cloneVNode",function(){return e.a});var n=z(33);z.d(H,"createClass",function(){return n.a});var r=z(26);z.d(H,"createElement",function(){return r.a});var o=z(34);z.d(H,"findDOMNode",function(){return o.a});var x="a runtime error occured! Use Inferno in development environment to find the error.";function O(t){return null===t}function N(t){return void 0===t}function P(t,e,n,r,o,i){var a,s,u,c,l,h=t.childFlags,p=t.children,f=t.props,d=t.flags;if(1!==h){if(2===h)O(n)?Object(T.f)(p,e,r,o,null,i):n=(n=I(p,e,n,r,o,i))?n.nextSibling:null;else if(16===h)O(n)?e.appendChild(document.createTextNode(p)):1!==e.childNodes.length||3!==n.nodeType?e.textContent=p:n.nodeValue!==p&&(n.nodeValue=p),n=null;else if(12&h)for(var y=!1,v=0,_=p.length;v<_;++v){var g=p[v];O(n)||y&&0<(16&g.flags)?Object(T.f)(g,e,r,o,n,i):n=(n=I(g,e,n,r,o,i))?n.nextSibling:null,y=0<(16&g.flags)}if(0==(8192&d))for(var m=null;n;)m=n.nextSibling,e.removeChild(n),n=m}else O(e.firstChild)||(a=e,s=f,Boolean(s&&s.dangerouslySetInnerHTML&&s.dangerouslySetInnerHTML.__html&&(u=a,c=s.dangerouslySetInnerHTML.__html,(l=document.createElement("i")).innerHTML=c,l.innerHTML===u.innerHTML)))||(e.textContent="",448&d&&(e.defaultValue=""))}function R(t,e,n){if(3!==n.nodeType)Object(T.l)(t,null,null),e.replaceChild(t.dom,n);else{var r=t.children;n.nodeValue!==r&&(n.nodeValue=r),t.dom=n}return t.dom}function I(t,e,n,r,o,i){var a,s,u,c,l,h,p,f,d,y,v,_,g,m,b,E,w,C,S=t.flags|=16384;return 14&S?function(t,e,n,r,o,i,a){var s,u=t.type,c=t.ref,l=t.props||{};if(i){var h=Object(T.d)(t,u,l,r,o,a);s=I(h.$LI,e,n,h.$CX,o,a),Object(T.g)(c,h,a)}else{var p=Object(T.e)(u(l,r));s=I(p,e,n,r,o,a),t.children=p,Object(T.i)(l,c,t,a)}return s}(t,e,n,r,o,0<(4&S),i):481&S?(d=e,y=n,v=r,_=o,g=i,b=(f=t).props,E=f.className,w=f.flags,C=f.ref,_=_||0<(32&w),1!==y.nodeType||y.tagName.toLowerCase()!==f.type?(Object(T.h)(f,null,v,_,null,g),d.replaceChild(f.dom,y)):(f.dom=y,P(f,y,y.firstChild,v,_,g),O(b)||Object(T.j)(f,w,b,y,_),N(m=E)||O(m)?""!==y.className&&y.removeAttribute("class"):_?y.setAttribute("class",E):y.className=E,Object(T.k)(C,y,g)),f.dom):16&S?R(t,e,n):512&S?t.dom=n:8192&S?(s=e,u=n,c=r,l=o,h=i,p=(a=t).children,2===a.childFlags?(R(p,s,u),p.dom):(P(a,s,u,c,l,h),function(t){for(var e,n;t;){if(2033&(e=t.flags))return t.dom;n=t.children,t=8192&e?2===t.childFlags?n:n[n.length-1]:4&e?n.$LI:n}return null}(p[p.length-1]))):(function(t){throw t||(t=x),new Error("Inferno Error: "+t)}(),null)}function i(t,e,n){var r,o=e.firstChild;if(O(o))Object(T.B)(t,e,n);else{var i=[];for(O(r=t)||!1===r||!0===r||N(r)||(o=I(t,e,o,{},!1,i));o&&(o=o.nextSibling);)e.removeChild(o);if(0<i.length)for(var a;void 0!==(a=i.shift());)a()}e.$V=t,"function"==typeof n&&n()}var a=Array.isArray;function s(t){return l(t)||c(t)}function u(t){return"string"==typeof t}function c(t){return null===t}function l(t){return void 0===t}function h(t){return!1!=("object"==typeof t&&!1===c(t))&&0<(495&t.flags)}function p(){}var f=function(){return p},d={any:f,array:p.isRequired=p,arrayOf:f,bool:p,checkPropTypes:function(){return null},element:f,func:p,instanceOf:f,node:f,number:p,object:p,objectOf:f,oneOf:f,oneOfType:f,shape:f,string:p,symbol:p},y={htmlFor:"for",onDoubleClick:"onDblClick"},v=/[\-\:]([a-z])/g,_=function(t){return t[1].toUpperCase()};function g(t,e){switch(t){case"animation-iteration-count":case"border-image-outset":case"border-image-slice":case"border-image-width":case"box-flex":case"box-flex-group":case"box-ordinal-group":case"column-count":case"fill-opacity":case"flex":case"flex-grow":case"flex-negative":case"flex-order":case"flex-positive":case"flex-shrink":case"flood-opacity":case"font-weight":case"grid-column":case"grid-row":case"line-clamp":case"line-height":case"opacity":case"order":case"orphans":case"stop-opacity":case"stroke-dasharray":case"stroke-dashoffset":case"stroke-miterlimit":case"stroke-opacity":case"stroke-width":case"tab-size":case"widows":case"z-index":case"zoom":return e;default:return e+"px"}}["accent-height","alignment-baseline","arabic-form","baseline-shift","cap-height","clip-path","clip-rule","color-interpolation","color-interpolation-filters","color-profile","color-rendering","dominant-baseline","enable-background","fill-opacity","fill-rule","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-constiant","font-weight","glyph-name","glyph-orientation-horizontal","glyph-orientation-vertical","horiz-adv-x","horiz-origin-x","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","overline-position","overline-thickness","paint-order","panose-1","pointer-events","rendering-intent","shape-rendering","stop-color","stop-opacity","strikethrough-position","strikethrough-thickness","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-rendering","underline-position","underline-thickness","unicode-bidi","unicode-range","units-per-em","v-alphabetic","v-hanging","v-ideographic","v-mathematical","vector-effect","vert-adv-y","vert-origin-x","vert-origin-y","word-spacing","writing-mode","x-height","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xmlns:xlink","xml:lang","xml:space"].forEach(function(t){var e=t.replace(v,_);y[e]=t});var m=/[A-Z]/g;function b(t){return Object(T.m)(null,t,null,null),!0}T.A.reactStyles=!0;var E=[],w={map:function(t,e,n){return s(t)?t:(t=w.toArray(t),n&&n!==t&&(e=e.bind(n)),t.map(e))},forEach:function(t,e,n){if(!s(t)){t=w.toArray(t),n&&n!==t&&(e=e.bind(n));for(var r=0,o=t.length;r<o;++r)e(c(i=t[r])||!1===i||!0===i||l(i)?null:t[r],r,t);var i}},count:function(t){return(t=w.toArray(t)).length},only:function(t){if(1!==(t=w.toArray(t)).length)throw new Error("Children.only() expects only one child.");return t[0]},toArray:function(t){if(s(t))return[];if(a(t)){var e=[];return function t(e,n){for(var r=0,o=e.length;r<o;++r){var i=e[r];a(i)?t(i,n):n.push(i)}return n}(t,e),e}return E.concat(t)}};T.a.prototype.isReactComponent={};var C="15.4.2",S={date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};if("undefined"!=typeof Event){var k=Event.prototype;k.persist||(k.persist=function(){}),k.isDefaultPrevented||(k.isDefaultPrevented=function(){return this.defaultPrevented}),k.isPropagationStopped||(k.isPropagationStopped=function(){return this.cancelBubble})}var A="undefined"==typeof window?t:window,D=void 0!==A.Symbol,F=D?A.Symbol.iterator:"",L=T.A.createVNode;function M(t,e){var n;for(n in t)if(!(n in e))return!0;for(n in e)if(t[n]!==e[n])return!0;return!1}T.A.createVNode=function(t){var e=t.children,n=t.props;s(n)&&(n=t.props={}),!D||c(e)||"object"!=typeof e||a(e)||"function"!=typeof e[F]||(t.children=function(t){for(var e,n=[];e=t.next(),n.push(e.value),!e.done;);return n}(e[F]())),!s(e)&&s(n.children)&&(n.children=e),14&t.flags&&u(t.type)&&(t.flags=Object(T.x)(t.type),n&&Object(T.z)(t));var r=t.flags;448&r&&function(t,e){if(("input"===t||"textarea"===t)&&"radio"!==e.type&&e.onChange){var n,r=e.type&&e.type.toLowerCase();r&&!S[r]||(n="oninput"),n&&!e[n]&&(e[n]=e.onChange,e.onChange=void 0)}}(t.type,n),481&r&&(t.className&&(n.className=t.className),function(t){for(var e in t){var n=y[e];if(n&&t[e]&&n!==e&&(t[n]=t[e],t[e]=void 0),T.A.reactStyles&&"style"===e){var r=t.style;if(r&&!u(r)){var o={};for(var i in r){var a=r[i],s=i.replace(m,"-$&").toLowerCase();o[s]="number"==typeof a?g(s,a):a}t.style=o}}}}(n)),L&&L(t)};var j=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),((e.prototype=Object.create(t&&t.prototype)).constructor=e).prototype.shouldComponentUpdate=function(t,e){return M(this.props,t)||M(this.state,e)},e}(T.a),W=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),((e.prototype=Object.create(t&&t.prototype)).constructor=e).prototype.getChildContext=function(){return this.props.context},e.prototype.render=function(t){return t.children},e}(T.a);function U(t,e,n,r){q(Object(T.n)(4,W,{children:e,context:t.context}),n,null);var o=e.children;return r&&r.call(o),o}function V(t){return r.a.bind(null,t)}function q(t,e,n,r){void 0===n&&(n=null),void 0===r&&(r=T.b),Object(T.m)(t,e,n,r);var o=e.$V;if(o&&14&o.flags)return o.children}if("undefined"!=typeof window&&void 0===window.React){var B={Children:w,Component:T.a,EMPTY_OBJ:T.b,Fragment:T.c,PropTypes:d,PureComponent:j,_CI:T.d,_HI:T.e,_M:T.f,_MCCC:T.g,_ME:T.h,_MFCC:T.i,_MP:T.j,_MR:T.k,_MT:T.l,__render:T.m,cloneElement:e.a,cloneVNode:e.a,createClass:n.a,createComponentVNode:T.n,createElement:r.a,createFactory:V,createFragment:T.o,createPortal:T.p,createRef:T.q,createRenderer:T.r,createTextVNode:T.s,createVNode:T.t,directClone:T.u,findDOMNode:o.a,findDOMfromVNode:T.v,forwardRef:T.w,getFlagsForElementVnode:T.x,hydrate:i,isValidElement:h,linkEvent:T.y,normalizeProps:T.z,options:T.A,render:q,rerender:T.C,unmountComponentAtNode:b,unstable_renderSubtreeIntoContainer:U,version:C};window.React=B,window.ReactDOM=B}var Q={Children:w,Component:T.a,EMPTY_OBJ:T.b,Fragment:T.c,PropTypes:d,PureComponent:j,_CI:T.d,_HI:T.e,_M:T.f,_MCCC:T.g,_ME:T.h,_MFCC:T.i,_MP:T.j,_MR:T.k,_MT:T.l,__render:T.m,cloneElement:e.a,cloneVNode:e.a,createClass:n.a,createComponentVNode:T.n,createElement:r.a,createFactory:V,createFragment:T.o,createPortal:T.p,createRef:T.q,createRenderer:T.r,createTextVNode:T.s,createVNode:T.t,directClone:T.u,findDOMNode:o.a,findDOMfromVNode:T.v,forwardRef:T.w,getFlagsForElementVnode:T.x,hydrate:i,isValidElement:h,linkEvent:T.y,normalizeProps:T.z,options:T.A,render:q,rerender:T.C,unmountComponentAtNode:b,unstable_renderSubtreeIntoContainer:U,version:C};H.default=Q}.call(this,z(27))},function(t,e,n){"use strict";var h=Array.isArray;function p(t){var e=typeof t;return"string"===e||"number"===e}function C(t){return d(t)||S(t)}function E(t){return S(t)||!1===t||!0===t||d(t)}function w(t){return"function"==typeof t}function f(t){return"string"==typeof t}function S(t){return null===t}function d(t){return void 0===t}function T(t,e){var n={};if(t)for(var r in t)n[r]=t[r];if(e)for(var o in e)n[o]=e[o];return n}var k={};function x(t,e){t.appendChild(e)}function y(t,e,n){S(n)?x(t,e):t.insertBefore(e,n)}function O(t,e){t.removeChild(e)}function a(t){for(var e;void 0!==(e=t.shift());)e()}function P(t,e){for(var n,r;t;){if(2033&(n=t.flags))return t.dom;r=t.children,t=8192&n?2===t.childFlags?r:r[e?0:r.length-1]:4&n?r.$LI:r}return null}function N(t,e){var n=t.flags;if(2033&n)O(e,t.dom);else{var r=t.children;if(4&n)N(r.$LI,e);else if(8&n)N(r,e);else if(8192&n)if(2===t.childFlags)N(r,e);else for(var o=0,i=r.length;o<i;++o)N(r[o],e)}}function R(t,e,n){var r=t.flags;if(2033&r)y(e,t.dom,n);else{var o=t.children;if(4&r)R(o.$LI,e,n);else if(8&r)R(o,e,n);else if(8192&r)if(2===t.childFlags)R(o,e,n);else for(var i=0,a=o.length;i<a;++i)R(o[i],e,n)}}function m(t,e,n){return t.constructor.getDerivedStateFromProps?T(n,t.constructor.getDerivedStateFromProps(e,n)):n}var s={v:!1},v={componentComparator:null,createVNode:null,renderComplete:null},_="$";function g(t,e,n,r,o,i,a,s){this.childFlags=t,this.children=e,this.className=n,this.dom=null,this.flags=r,this.key=void 0===o?null:o,this.props=void 0===i?null:i,this.ref=void 0===a?null:a,this.type=s}function o(t,e,n,r,o,i,a,s){var u=void 0===o?1:o,c=new g(u,r,n,t,a,i,s,e),l=v.createVNode;return w(l)&&l(c),0===u&&F(c,c.children),c}function r(t,e,n,r,o){0!=(2&t)&&(e.prototype&&e.prototype.render?t=4:e.render?(t=32776,e=e.render):t=8);var i=e.defaultProps;if(!C(i))for(var a in n||(n={}),i)d(n[a])&&(n[a]=i[a]);if(0<(8&t)&&0==(32768&t)){var s=e.defaultHooks;if(!C(s))if(o)for(var u in s)d(o[u])&&(o[u]=s[u]);else o=s}var c=new g(1,null,null,t,r,n,o,e),l=v.createVNode;return w(l)&&l(c),c}function b(t,e){return new g(1,C(t)?"":t,null,16,e,null,null,null)}function u(t,e,n){var r=o(8192,8192,null,t,e,null,n,null);switch(r.childFlags){case 1:r.children=A(),r.childFlags=2;break;case 16:r.children=[b(t)],r.childFlags=4}return r}function i(t){var e=t.props;if(e){var n=t.flags;481&n&&(void 0!==e.children&&C(t.children)&&F(t,e.children),void 0!==e.className&&(t.className=e.className||null,e.className=void 0)),void 0!==e.key&&(t.key=e.key,e.key=void 0),void 0!==e.ref&&(t.ref=8&n?T(t.ref,e.ref):e.ref,e.ref=void 0)}return t}function I(t){var e=-16385&t.flags,n=t.props;if(14&e&&!S(n)){var r=n;for(var o in n={},r)n[o]=r[o]}return 0==(8192&e)?new g(t.childFlags,t.children,t.className,e,t.key,n,t.ref,t.type):function(t){var e,n=t.children,r=t.childFlags;if(2===r)e=I(n);else if(12&r){e=[];for(var o=0,i=n.length;o<i;++o)e.push(I(n[o]))}return u(e,r,t.key)}(t)}function A(){return b("",null)}function c(t,e){return o(1024,1024,null,t,0,null,E(t)?null:t.key,e)}function D(t,e,n,r){for(var o=t.length;n<o;n++){var i=t[n];if(!E(i)){var a=r+_+n;if(h(i))D(i,e,0,a);else{if(p(i))i=b(i,a);else{var s=i.key,u=f(s)&&s[0]===_;(81920&i.flags||u)&&(i=I(i)),i.flags|=65536,S(s)||u?i.key=a:i.key=r+s}e.push(i)}}}}function l(t){switch(t){case"svg":return 32;case"input":return 64;case"select":return 256;case"textarea":return 128;case"$F":return 8192;default:return 1}}function F(t,e){var n,r=1;if(E(e))n=e;else if(p(e))r=16,n=e;else if(h(e)){for(var o=e.length,i=0;i<o;++i){var a=e[i];if(E(a)||h(a)){D(e,n=n||e.slice(0,i),i,"");break}if(p(a))(n=n||e.slice(0,i)).push(b(a,_+i));else{var s=a.key,u=0<(81920&a.flags),c=S(s),l=!c&&f(s)&&s[0]===_;u||c||l?(n=n||e.slice(0,i),(u||l)&&(a=I(a)),(c||l)&&(a.key=_+i),n.push(a)):n&&n.push(a),a.flags|=65536}}r=0===(n=n||e).length?1:8}else(n=e).flags|=65536,81920&e.flags&&(n=I(e)),r=2;return t.children=n,t.childFlags=r,t}function L(t,e){return w(e)?{data:t,event:e}:null}var M="http://www.w3.org/1999/xlink",j="http://www.w3.org/XML/1998/namespace",W={"xlink:actuate":M,"xlink:arcrole":M,"xlink:href":M,"xlink:role":M,"xlink:show":M,"xlink:title":M,"xlink:type":M,"xml:base":j,"xml:lang":j,"xml:space":j};function U(t){return{onClick:t,onDblClick:t,onFocusIn:t,onFocusOut:t,onKeyDown:t,onKeyPress:t,onKeyUp:t,onMouseDown:t,onMouseMove:t,onMouseUp:t,onSubmit:t,onTouchEnd:t,onTouchMove:t,onTouchStart:t}}var V=U(0),q=U(null),B=U(!0);function Q(t,e,n){var r,o,i=n.$EV;e?(0===V[t]&&(q[t]=(r=t,o=function(t){var e="onClick"===r||"onDblClick"===r;if(e&&0!==t.button)t.stopPropagation();else{t.stopPropagation=z;var n={dom:document};Object.defineProperty(t,"currentTarget",{configurable:!0,get:function(){return n.dom}}),function(t,e,n,r,o){for(var i=e;!S(i);){if(n&&i.disabled)return;var a=i.$EV;if(a){var s=a[r];if(s&&(o.dom=i,s.event?s.event(s.data,t):s(t),t.cancelBubble))return}i=i.parentNode}}(t,t.target,e,r,n)}},document.addEventListener(H(r),o),o)),i||(i=n.$EV=U(null)),i[t]||++V[t],i[t]=e):i&&i[t]&&(0==--V[t]&&(document.removeEventListener(H(t),q[t]),q[t]=null),i[t]=null)}function H(t){return t.substr(2).toLowerCase()}function z(){this.cancelBubble=!0,this.immediatePropagationStopped||this.stopImmediatePropagation()}function $(t,e,n){if(t[e]){var r=t[e];r.event?r.event(r.data,n):r(n)}else{var o=e.toLowerCase();t[o]&&t[o](n)}}function Y(s,u){var t=function(t){var e=this.$V;if(e){var n=e.props||k,r=e.dom;if(f(s))$(n,s,t);else for(var o=0;o<s.length;++o)$(n,s[o],t);if(w(u)){var i=this.$V,a=i.props||k;u(a,r,!1,i)}}};return Object.defineProperty(t,"wrapped",{configurable:!1,enumerable:!1,value:!0,writable:!1}),t}function G(t){return"checkbox"===t||"radio"===t}var K=Y("onInput",Z),X=Y(["onClick","onChange"],Z);function J(t){t.stopPropagation()}function Z(t,e){var n=t.type,r=t.value,o=t.checked,i=t.multiple,a=t.defaultValue,s=!C(r);n&&n!==e.type&&e.setAttribute("type",n),C(i)||i===e.multiple||(e.multiple=i),C(a)||s||(e.defaultValue=a+""),G(n)?(s&&(e.value=r),C(o)||(e.checked=o)):s&&e.value!==r?(e.defaultValue=r,e.value=r):C(o)||(e.checked=o)}J.wrapped=!0;var tt=Y("onChange",et);function et(t,e,n,r){var o=Boolean(t.multiple);if(C(t.multiple)||o===e.multiple||(e.multiple=o),1!==r.childFlags){var i=t.value;n&&C(i)&&(i=t.defaultValue),function t(e,n){if("option"===e.type)u=n,c=(s=e).props||k,(l=s.dom).value=c.value,c.value===u||h(u)&&-1!==u.indexOf(c.value)?l.selected=!0:C(u)&&C(c.selected)||(l.selected=c.selected||!1);else{var r=e.children,o=e.flags;if(4&o)t(r.$LI,n);else if(8&o)t(r,n);else if(2===e.childFlags)t(r,n);else if(12&e.childFlags)for(var i=0,a=r.length;i<a;++i)t(r[i],n)}var s,u,c,l}(r,i)}}var nt=Y("onInput",ot),rt=Y("onChange");function ot(t,e,n){var r=t.value,o=e.value;if(C(r)){if(n){var i=t.defaultValue;C(i)||i===o||(e.defaultValue=i,e.value=i)}}else o!==r&&(e.defaultValue=r,e.value=r)}function it(t,e,n,r,o,i){64&t?Z(r,n):256&t?et(r,n,o,e):128&t&&ot(r,n,o),i&&(n.$V=e)}function at(t){return t.type&&G(t.type)?!C(t.checked):!C(t.value)}function st(){return{current:null}}function ut(t){return{render:t}}function ct(t){t&&(w(t)?t(null):t.current&&(t.current=null))}function lt(t,e,n){var r,o;t&&(w(t)?(r=e,o=t,n.push(function(){o(r)})):void 0!==t.current&&(t.current=e))}function ht(t,e){pt(t),e&&N(t,e)}function pt(t){var e,n=t.flags,r=t.children;if(481&n){e=t.ref;var o=t.props;ct(e);var i=t.childFlags;if(!S(o))for(var a=Object.keys(o),s=0,u=a.length;s<u;s++){var c=a[s];B[c]&&Q(c,null,t.dom)}12&i?ft(r):2===i&&pt(r)}else r&&(4&n?(w(r.componentWillUnmount)&&r.componentWillUnmount(),ct(t.ref),r.$UN=!0,pt(r.$LI)):8&n?(!C(e=t.ref)&&w(e.onComponentWillUnmount)&&e.onComponentWillUnmount(P(t,!0),t.props||k),pt(r)):1024&n?ht(r,t.ref):8192&n&&12&t.childFlags&&ft(r))}function ft(t){for(var e=0,n=t.length;e<n;++e)pt(t[e])}function dt(t){t.textContent=""}function yt(t,e,n){ft(n),8192&e.flags?N(e,t):dt(t)}function vt(u,t,e,n,r,o,i){switch(u){case"children":case"childrenType":case"className":case"defaultValue":case"key":case"multiple":case"ref":break;case"autoFocus":n.autofocus=!!e;break;case"allowfullscreen":case"autoplay":case"capture":case"checked":case"controls":case"default":case"disabled":case"hidden":case"indeterminate":case"loop":case"muted":case"novalidate":case"open":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"selected":n[u]=!!e;break;case"defaultChecked":case"value":case"volume":if(o&&"value"===u)break;var a=C(e)?"":e;n[u]!==a&&(n[u]=a);break;case"style":!function(t,e,n){if(C(e))n.removeAttribute("style");else{var r,o,i=n.style;if(f(e))i.cssText=e;else if(C(t)||f(t))for(r in e)o=e[r],i.setProperty(r,o);else{for(r in e)(o=e[r])!==t[r]&&i.setProperty(r,o);for(r in t)C(e[r])&&i.removeProperty(r)}}}(t,e,n);break;case"dangerouslySetInnerHTML":var s=t&&t.__html||"",c=e&&e.__html||"";s!==c&&(C(c)||(l=n,h=c,(p=document.createElement("i")).innerHTML=h,p.innerHTML===l.innerHTML)||(S(i)||(12&i.childFlags?ft(i.children):2===i.childFlags&&pt(i.children),i.children=null,i.childFlags=1),n.innerHTML=c));break;default:B[u]?t&&e&&!w(t)&&!w(e)&&t.event===e.event&&t.data===e.data||Q(u,e,n):111===u.charCodeAt(0)&&110===u.charCodeAt(1)?function(t,e,n){var r,o,i=u.toLowerCase();if(w(e)||C(e)){var a=n[i];a&&a.wrapped||(n[i]=e)}else{var s=e.event;w(s)&&(n[i]=(r=s,o=e,function(t){r(o.data,t)}))}}(0,e,n):C(e)?n.removeAttribute(u):r&&W[u]?n.setAttributeNS(W[u],u,e):n.setAttribute(u,e)}var l,h,p}function _t(t,e,n,r,o){var i,a,s,u,c,l,h=!1,p=0<(448&e);for(var f in p&&(h=at(n))&&(a=r,s=n,l=c=u=void 0,64&(i=e)?(l=a,G(s.type)?(l.onchange=X,l.onclick=J):l.oninput=K):256&i?a.onchange=tt:128&i&&(c=s,(u=a).oninput=nt,c.onChange&&(u.onchange=rt))),n)vt(f,null,n[f],r,o,h,null);p&&it(e,t,r,n,!0,h)}function gt(t,e,n){var r=bt(t.render(e,t.state,n)),o=n;return w(t.getChildContext)&&(o=T(n,t.getChildContext())),t.$CX=o,r}function mt(t,e,n,r,o,i){var a=new e(n,r),s=a.$N=Boolean(e.getDerivedStateFromProps||a.getSnapshotBeforeUpdate);if(a.$SVG=o,a.$L=i,(t.children=a).$BS=!1,a.context=r,a.props===k&&(a.props=n),s)a.state=m(a,n,a.state);else if(w(a.componentWillMount)){a.$BR=!0,a.componentWillMount();var u=a.$PS;if(!S(u)){var c=a.state;if(S(c))a.state=u;else for(var l in u)c[l]=u[l];a.$PS=null}a.$BR=!1}return a.$LI=gt(a,n,r),a}function bt(t){return E(t)?t=A():p(t)?t=b(t,null):h(t)?t=u(t,0,null):16384&t.flags&&(t=I(t)),t}function Et(t,e,n,r,o,i){var a,s,u,c,l,h,p,f,d,y,v,_,g,m,b,E,w,C,S,T,x,O,N,P,R,I=t.flags|=16384;481&I?St(t,e,n,r,o,i):4&I?(T=e,x=n,O=r,N=o,P=i,Et((R=mt(S=t,S.type,S.props||k,x,O,P)).$LI,T,R.$CX,O,N,P),xt(S.ref,R,P)):8&I?(y=e,v=n,_=r,g=o,m=i,b=(d=t).type,E=d.props||k,w=d.ref,C=bt(32768&d.flags?b(E,w,v):b(E,v)),Et(d.children=C,y,v,_,g,m),Ot(E,w,d,m)):512&I||16&I?wt(t,e,o):8192&I?(s=e,u=n,c=r,l=o,h=i,p=(a=t).children,12&(f=a.childFlags)&&0===p.length&&(f=a.childFlags=2,p=a.children=A()),2===f?Et(p,s,l,c,l,h):Tt(p,s,u,c,l,h)):1024&I&&function(t,e,n,r,o){Et(t.children,t.ref,e,!1,null,o);var i=A();wt(i,n,r),t.dom=i.dom}(t,n,e,o,i)}function wt(t,e,n){var r=t.dom=document.createTextNode(t.children);S(e)||y(e,r,n)}function Ct(t,e){t.textContent=e}function St(t,e,n,r,o,i){var a=t.flags,s=t.props,u=t.className,c=t.ref,l=t.children,h=t.childFlags;r=r||0<(32&a);var p,f=(p=t.type,r?document.createElementNS("http://www.w3.org/2000/svg",p):document.createElement(p));if(t.dom=f,C(u)||""===u||(r?f.setAttribute("class",u):f.className=u),16===h)Ct(f,l);else if(1!==h){var d=r&&"foreignObject"!==t.type;2===h?(16384&l.flags&&(t.children=l=I(l)),Et(l,f,n,d,null,i)):8!==h&&4!==h||Tt(l,f,n,d,null,i)}S(e)||y(e,f,o),S(s)||_t(t,a,s,f,r),lt(c,f,i)}function Tt(t,e,n,r,o,i){for(var a=0,s=t.length;a<s;++a){var u=t[a];16384&u.flags&&(t[a]=u=I(u)),Et(u,e,n,r,o,i)}}function xt(t,e,n){var r;lt(t,e,n),w(e.componentDidMount)&&n.push((r=e,function(){r.componentDidMount()}))}function Ot(t,e,n,r){var o,i,a;C(e)||(w(e.onComponentWillMount)&&e.onComponentWillMount(t),w(e.onComponentDidMount)&&r.push((o=e,i=n,a=t,function(){o.onComponentDidMount(P(i,!0),a)})))}function Nt(t,e,n,r,o,i,a){var s,u,c,l,h,p,f,d,y,v,_,g,m,b=e.flags|=16384;t.flags!==b||t.type!==e.type||t.key!==e.key||0!=(2048&b)?16384&t.flags?(p=e,f=n,d=r,y=o,v=a,pt(h=t),0!=(p.flags&h.flags&2033)?(Et(p,null,d,y,null,v),_=f,g=p.dom,m=h.dom,_.replaceChild(g,m)):(Et(p,f,d,y,P(h,!0),v),N(h,f))):Et(e,n,r,o,i,a):481&b?function(t,e,n,r,o,i){var a,s=t.dom,u=t.props,c=e.props,l=!1,h=!1;if(e.dom=s,r=r||0<(32&o),u!==c){var p=u||k;if((a=c||k)!==k)for(var f in(l=0<(448&o))&&(h=at(a)),a){var d=p[f],y=a[f];d!==y&&vt(f,d,y,s,r,h,t)}if(p!==k)for(var v in p)C(a[v])&&!C(p[v])&&vt(v,p[v],null,s,r,h,t)}var _,g,m=e.children,b=e.className;t.className!==b&&(C(b)?s.removeAttribute("class"):r?s.setAttribute("class",b):s.className=b),4096&o?(g=m,(_=s).textContent!==g&&(_.textContent=g)):Pt(t.childFlags,e.childFlags,t.children,m,s,n,r&&"foreignObject"!==e.type,null,t,i),l&&it(o,e,s,a,!1,h);var E=e.ref,w=t.ref;w!==E&&(ct(w),lt(E,s,i))}(t,e,r,o,b,a):4&b?function(t,e,n,r,o,i,a){var s=e.children=t.children;if(!S(s)){s.$L=a;var u=e.props||k,c=e.ref,l=t.ref,h=s.state;if(!s.$N){if(w(s.componentWillReceiveProps)){if(s.$BR=!0,s.componentWillReceiveProps(u,r),s.$UN)return;s.$BR=!1}S(s.$PS)||(h=T(h,s.$PS),s.$PS=null)}Rt(s,h,u,n,r,o,!1,i,a),l!==c&&(ct(l),lt(c,s,a))}}(t,e,n,r,o,i,a):8&b?function(t,e,n,r,o,i,a){var s=!0,u=e.props||k,c=e.ref,l=t.props,h=!C(c),p=t.children;if(h&&w(c.onComponentShouldUpdate)&&(s=c.onComponentShouldUpdate(l,u)),!1!==s){h&&w(c.onComponentWillUpdate)&&c.onComponentWillUpdate(l,u);var f=bt(e.type(u,r));Nt(p,f,n,r,o,i,a),e.children=f,h&&w(c.onComponentDidUpdate)&&c.onComponentDidUpdate(l,u)}else e.children=p}(t,e,n,r,o,i,a):16&b?(s=t,c=(u=e).children,l=s.dom,c!==s.children&&(l.nodeValue=c),u.dom=l):512&b?e.dom=t.dom:8192&b?function(t,e,n,r,o,i){var a=t.children,s=e.children,u=t.childFlags,c=e.childFlags,l=null;12&c&&0===s.length&&(c=e.childFlags=2,s=e.children=A());var h=0!=(2&c);if(12&u){var p=a.length;(8&u&&8&c||h||!h&&s.length>p)&&(l=P(a[p-1],!1).nextSibling)}Pt(u,c,a,s,n,r,o,l,t,i)}(t,e,n,r,o,a):function(t,e,n,r){var o=t.ref,i=e.ref,a=e.children;if(Pt(t.childFlags,e.childFlags,t.children,a,o,n,!1,null,t,r),e.dom=t.dom,o!==i&&!E(a)){var s=a.dom;O(o,s),x(i,s)}}(t,e,r,a)}function Pt(t,e,n,r,o,i,a,s,u,c){switch(t){case 2:switch(e){case 2:Nt(n,r,o,i,a,s,c);break;case 1:ht(n,o);break;case 16:pt(n),Ct(o,r);break;default:y=r,v=o,_=i,g=a,m=c,pt(d=n),Tt(y,v,_,g,P(d,!0),m),N(d,v)}break;case 1:switch(e){case 2:Et(r,o,i,a,s,c);break;case 1:break;case 16:Ct(o,r);break;default:Tt(r,o,i,a,s,c)}break;case 16:switch(e){case 16:f=o,n!==(p=r)&&(""!==n?f.firstChild.nodeValue=p:f.textContent=p);break;case 2:dt(o),Et(r,o,i,a,s,c);break;case 1:dt(o);break;default:dt(o),Tt(r,o,i,a,s,c)}break;default:switch(e){case 16:ft(n),Ct(o,r);break;case 2:yt(o,u,n),Et(r,o,i,a,s,c);break;case 1:yt(o,u,n);break;default:var l=0|n.length,h=0|r.length;0===l?0<h&&Tt(r,o,i,a,s,c):0===h?yt(o,u,n):8===e&&8===t?function(t,e,n,r,o,i,a,s,u,c){var l,h,p=i-1,f=a-1,d=0,y=0,v=t[y],_=e[y];t:{for(;v.key===_.key;){if(16384&_.flags&&(e[y]=_=I(_)),Nt(v,_,n,r,o,s,c),t[y]=_,++y>p||f<y)break t;v=t[y],_=e[y]}for(v=t[p],_=e[f];v.key===_.key;){if(16384&_.flags&&(e[f]=_=I(_)),Nt(v,_,n,r,o,s,c),t[p]=_,f--,y>--p||f<y)break t;v=t[p],_=e[f]}}if(p<y){if(y<=f)for(h=(l=f+1)<a?P(e[l],!0):s;y<=f;)16384&(_=e[y]).flags&&(e[y]=_=I(_)),++y,Et(_,n,r,o,h,c)}else if(f<y)for(;y<=p;)ht(t[y++],n);else{for(var g=y,m=y,b=p-y+1,E=f-y+1,w=[];d++<=E;)w.push(0);var C=b===i,S=!1,T=0,x=0;if(a<4||(b|E)<32)for(d=g;d<=p;++d)if(v=t[d],x<E){for(y=m;y<=f;y++)if(_=e[y],v.key===_.key){if(w[y-m]=d+1,C)for(C=!1;g<d;)ht(t[g++],n);y<T?S=!0:T=y,16384&_.flags&&(e[y]=_=I(_)),Nt(v,_,n,r,o,s,c),++x;break}!C&&f<y&&ht(v,n)}else C||ht(v,n);else{var O={};for(d=m;d<=f;++d)O[e[d].key]=d;for(d=g;d<=p;++d)if(v=t[d],x<E)if(void 0!==(y=O[v.key])){if(C)for(C=!1;g<d;)ht(t[g++],n);_=e[y],w[y-m]=d+1,y<T?S=!0:T=y,16384&_.flags&&(e[y]=_=I(_)),Nt(v,_,n,r,o,s,c),++x}else C||ht(v,n);else C||ht(v,n)}if(C)yt(n,u,t),Tt(e,n,r,o,s,c);else if(S){var N=function(t){var e,n,r,o,i,a=t.slice(),s=[0],u=t.length;for(e=0;e<u;++e){var c=t[e];if(0!==c){if(t[n=s[s.length-1]]<c){a[e]=n,s.push(e);continue}for(r=0,o=s.length-1;r<o;)t[s[i=(r+o)/2|0]]<c?r=i+1:o=i;c<t[s[r]]&&(0<r&&(a[e]=s[r-1]),s[r]=e)}}for(o=s[(r=s.length)-1];0<r--;)o=a[s[r]=o];return s}(w);for(y=N.length-1,d=E-1;0<=d;d--)0===w[d]?(16384&(_=e[T=d+m]).flags&&(e[T]=_=I(_)),Et(_,n,r,o,(l=T+1)<a?P(e[l],!0):s,c)):y<0||d!==N[y]?R(_=e[T=d+m],n,(l=T+1)<a?P(e[l],!0):s):y--}else if(x!==E)for(d=E-1;0<=d;d--)0===w[d]&&(16384&(_=e[T=d+m]).flags&&(e[T]=_=I(_)),Et(_,n,r,o,(l=T+1)<a?P(e[l],!0):s,c))}}(n,r,o,i,a,l,h,s,u,c):function(t,e,n,r,o,i,a,s,u){for(var c,l,h=a<i?a:i,p=0;p<h;++p)c=e[p],l=t[p],16384&c.flags&&(c=e[p]=I(c)),Nt(l,c,n,r,o,s,u),t[p]=c;if(i<a)for(p=h;p<a;++p)16384&(c=e[p]).flags&&(c=e[p]=I(c)),Et(c,n,r,o,s,u);else if(a<i)for(p=h;p<i;++p)ht(t[p],n)}(n,r,o,i,a,l,h,s,c)}}var p,f,d,y,v,_,g,m}function Rt(t,e,n,r,o,i,a,s,u){var c,l,h,p,f=t.state,d=t.props,y=Boolean(t.$N),v=w(t.shouldComponentUpdate);if(y&&(e=m(t,n,e!==f?T(f,e):e)),a||!v||v&&t.shouldComponentUpdate(n,e,o)){!y&&w(t.componentWillUpdate)&&t.componentWillUpdate(n,e,o),t.props=n,t.state=e,t.context=o;var _=null,g=gt(t,n,o);y&&w(t.getSnapshotBeforeUpdate)&&(_=t.getSnapshotBeforeUpdate(d,f)),Nt(t.$LI,g,r,t.$CX,i,s,u),t.$LI=g,w(t.componentDidUpdate)&&(c=t,l=d,h=f,p=_,u.push(function(){c.componentDidUpdate(l,h,p)}))}else t.props=n,t.state=e,t.context=o}function It(t,e,n,r){var o=[],i=e.$V;s.v=!0,C(i)?C(t)||(16384&t.flags&&(t=I(t)),Et(t,e,r,!1,null,o),i=e.$V=t):C(t)?(ht(i,e),e.$V=null):(16384&t.flags&&(t=I(t)),Nt(i,t,e,r,!1,null,o),i=e.$V=t),0<o.length&&a(o),s.v=!1,w(n)&&n(),w(v.renderComplete)&&v.renderComplete(i,e)}function kt(t,e,n,r){void 0===n&&(n=null),void 0===r&&(r=k),It(t,e,n,r)}function At(o){return function(t,e,n,r){o||(o=t),kt(e,o,n,r)}}"undefined"!=typeof document&&(document.body,Node.prototype.$EV=null,Node.prototype.$V=null);var Dt=[],Ft="undefined"!=typeof Promise?Promise.resolve().then.bind(Promise.resolve()):setTimeout.bind(window),Lt=!1;function Mt(t,e,n,r){var o=t.$PS;if(w(e)&&(e=e(o?T(t.state,o):t.state,t.props,t.context)),C(o))t.$PS=e;else for(var i in e)o[i]=e[i];if(t.$BR)w(n)&&t.$L.push(n.bind(t));else{if(!s.v&&0===Dt.length)return void Ut(t,r,n);if(-1===Dt.indexOf(t)&&Dt.push(t),Lt||(Lt=!0,Ft(Wt)),w(n)){var a=t.$QU;a||(a=t.$QU=[]),a.push(n)}}}function jt(t){for(var e=t.$QU,n=0,r=e.length;n<r;++n)e[n].call(t);t.$QU=null}function Wt(){var t;for(Lt=!1;t=Dt.pop();)Ut(t,!1,t.$QU?jt.bind(null,t):null)}function Ut(t,e,n){if(!t.$UN){if(e||!t.$BR){var r=t.$PS;t.$PS=null;var o=[];s.v=!0,Rt(t,T(t.state,r),t.props,P(t.$LI,!0).parentNode,t.context,t.$SVG,e,null,o),0<o.length&&a(o),s.v=!1}else t.state=t.$PS,t.$PS=null;w(n)&&n.call(t)}}var Vt=function(t,e){this.state=null,this.$BR=!1,this.$BS=!0,this.$PS=null,this.$LI=null,this.$UN=!1,this.$CX=null,this.$QU=null,this.$N=!1,this.$L=null,this.$SVG=!1,this.props=t||k,this.context=e||k};Vt.prototype.forceUpdate=function(t){this.$UN||Mt(this,{},t,!0)},Vt.prototype.setState=function(t,e){this.$UN||this.$BS||Mt(this,t,e,!1)},Vt.prototype.render=function(t,e,n){return null},n.d(e,"a",function(){return Vt}),n.d(e,"c",function(){return"$F"}),n.d(e,"b",function(){return k}),n.d(e,"n",function(){return r}),n.d(e,"o",function(){return u}),n.d(e,"p",function(){return c}),n.d(e,"q",function(){return st}),n.d(e,"r",function(){return At}),n.d(e,"s",function(){return b}),n.d(e,"t",function(){return o}),n.d(e,"w",function(){return ut}),n.d(e,"u",function(){return I}),n.d(e,"v",function(){return P}),n.d(e,"x",function(){return l}),n.d(e,"y",function(){return L}),n.d(e,"z",function(){return i}),n.d(e,"A",function(){return v}),n.d(e,"B",function(){return kt}),n.d(e,"C",function(){return Wt}),n.d(e,"d",function(){return mt}),n.d(e,"e",function(){return bt}),n.d(e,"f",function(){return Et}),n.d(e,"g",function(){return xt}),n.d(e,"h",function(){return St}),n.d(e,"i",function(){return Ot}),n.d(e,"k",function(){return lt}),n.d(e,"l",function(){return wt}),n.d(e,"j",function(){return _t}),n.d(e,"m",function(){return It})},function(t,e,n){t.exports=n(95)()},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,"a",function(){return r})},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}n.d(e,"a",function(){return o})},function(t,e,n){"use strict";function r(t){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n.d(e,"a",function(){return r})},function(t,e,n){"use strict";function r(t,e){return(r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}n.d(e,"a",function(){return o})},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t){return(o="function"==typeof Symbol&&"symbol"===r(Symbol.iterator)?function(t){return r(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":r(t)})(t)}var i=n(22);function a(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?Object(i.a)(t):e}n.d(e,"a",function(){return a})},function(t,e,n){"use strict";t.exports=function(){}},function(t,e,n){"use strict";t.exports=function(t,e,n,r,o,i,a,s){if(!t){var u;if(void 0===e)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,o,i,a,s],l=0;(u=new Error(e.replace(/%s/g,function(){return c[l++]}))).name="Invariant Violation"}throw u.framesToPop=1,u}}},function(t,e,n){"use strict";t.exports=function(){}},function(t,e,n){var r=n(48)("wks"),o=n(30),i=n(12).Symbol,a="function"==typeof i;(t.exports=function(t){return r[t]||(r[t]=a&&i[t]||(a?i:o)("Symbol."+t))}).store=r},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e){var n=t.exports={version:"2.5.5"};"number"==typeof __e&&(__e=n)},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var l=n(1);function h(t,e){var n={};if(t)for(var r in t)n[r]=t[r];if(e)for(var o in e)n[o]=e[o];return n}function r(t,e,n){var r=arguments,o=t.flags,i=14&o?t.props&&t.props.children:t.children,a=arguments.length-2,s=t.className,u=t.key,c=t.ref;if(e?(void 0!==e.className&&(s=e.className),void 0!==e.ref&&(c=e.ref),void 0!==e.key&&(u=e.key),void 0!==e.children&&(i=e.children)):e={},1===a)i=n;else if(1<a)for(i=[];0<a--;)i[a]=r[a+2];return e.children=i,14&o?Object(l.n)(o,t.type,t.props||e?h(t.props,e):l.b,u,c):16&o?Object(l.s)(i):8192&o?Object(l.o)(1===a?[i]:i,0,u):Object(l.z)(Object(l.t)(o,t.type,s,null,1,h(t.props,e),u,c))}},function(t,e,n){"use strict";var r=n(8),A=n.n(r),o=n(9),D=n.n(o);function f(t){return"/"===t.charAt(0)}function d(t,e){for(var n=e,r=n+1,o=t.length;r<o;n+=1,r+=1)t[n]=t[r];t.pop()}var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},F=function(t,e){return new RegExp("^"+e+"(\\/|\\?|#|$)","i").test(t)},i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},L=function(a,t,e,n){var r=void 0;"string"==typeof a?(r=function(t){var e=a||"/",n="",r="",o=e.indexOf("#");-1!==o&&(r=e.substr(o),e=e.substr(0,o));var i=e.indexOf("?");return-1!==i&&(n=e.substr(i),e=e.substr(0,i)),{pathname:e,search:"?"===n?"":n,hash:"#"===r?"":r}}()).state=t:(void 0===(r=i({},a)).pathname&&(r.pathname=""),r.search?"?"!==r.search.charAt(0)&&(r.search="?"+r.search):r.search="",r.hash?"#"!==r.hash.charAt(0)&&(r.hash="#"+r.hash):r.hash="",void 0!==t&&void 0===r.state&&(r.state=t));try{r.pathname=decodeURI(r.pathname)}catch(t){throw t instanceof URIError?new URIError('Pathname "'+r.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):t}return e&&(r.key=e),n?r.pathname?"/"!==r.pathname.charAt(0)&&(r.pathname=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",n=t&&t.split("/")||[],r=e&&e.split("/")||[],o=t&&f(t),i=e&&f(e),a=o||i;if(t&&f(t)?r=n:n.length&&(r.pop(),r=r.concat(n)),!r.length)return"/";var s=void 0;if(r.length){var u=r[r.length-1];s="."===u||".."===u||""===u}else s=!1;for(var c=0,l=r.length;0<=l;l--){var h=r[l];"."===h?d(r,l):".."===h?(d(r,l),c++):c&&(d(r,l),c--)}if(!a)for(;c--;c)r.unshift("..");!a||""===r[0]||r[0]&&f(r[0])||r.unshift("");var p=r.join("/");return s&&"/"!==p.substr(-1)&&(p+="/"),p}(r.pathname,n.pathname)):r.pathname=n.pathname:r.pathname||(r.pathname="/"),r},a=function(t,e){return t.pathname===e.pathname&&t.search===e.search&&t.hash===e.hash&&t.key===e.key&&function n(e,r){if(e===r)return!0;if(null==e||null==r)return!1;if(Array.isArray(e))return Array.isArray(r)&&e.length===r.length&&e.every(function(t,e){return n(t,r[e])});var t=void 0===e?"undefined":u(e);if(t!==(void 0===r?"undefined":u(r)))return!1;if("object"!==t)return!1;var o=e.valueOf(),i=r.valueOf();if(o!==e||i!==r)return n(o,i);var a=Object.keys(e),s=Object.keys(r);return a.length===s.length&&a.every(function(t){return n(e[t],r[t])})}(t.state,e.state)},M=!("undefined"==typeof window||!window.document||!window.document.createElement),j=function(t,e,n){return t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent("on"+e,n)},W=function(t,e,n){return t.removeEventListener?t.removeEventListener(e,n,!1):t.detachEvent("on"+e,n)},U=function(t,e){return e(window.confirm(t))},V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},q=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},B=function(){try{return window.history.state||{}}catch(t){return{}}},s=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};D()(M,"Browser history needs a DOM");var i,r,e,n,o,s=window.history,u=(-1===(o=window.navigator.userAgent).indexOf("Android 2.")&&-1===o.indexOf("Android 4.0")||-1===o.indexOf("Mobile Safari")||-1!==o.indexOf("Chrome")||-1!==o.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history,a=!(-1===window.navigator.userAgent.indexOf("Trident")),c=t.forceRefresh,l=void 0!==c&&c,h=t.getUserConfirmation,p=void 0===h?U:h,f=t.keyLength,d=void 0===f?6:f,y=t.basename?(n=t.basename,"/"===(e="/"===n.charAt(0)?n:"/"+n).charAt(e.length-1)?e.slice(0,-1):e):"",v=function(t){var e,n,r=t||{},o=r.key,i=r.state,a=window.location,s=a.pathname+a.search+a.hash;return A()(!y||F(s,y),'You are attempting to use a basename on a page whose URL path does not begin with the basename. Expected path "'+s+'" to begin with "'+y+'".'),y&&(s=F(e=s,n=y)?e.substr(n.length):e),L(s,i,o)},_=function(){return Math.random().toString(36).substr(2,d)},g=(i=null,r=[],{setPrompt:function(t){return A()(null==i,"A history supports only one prompt at a time"),i=t,function(){i===t&&(i=null)}},confirmTransitionTo:function(t,e,n,r){if(null!=i){var o="function"==typeof i?i(t,e):i;"string"==typeof o?"function"==typeof n?n(o,r):(A()(!1,"A history needs a getUserConfirmation function in order to use a prompt message"),r(!0)):r(!1!==o)}else r(!0)},appendListener:function(t){var e=!0,n=function(){e&&t.apply(void 0,arguments)};return r.push(n),function(){e=!1,r=r.filter(function(t){return t!==n})}},notifyListeners:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];r.forEach(function(t){return t.apply(void 0,e)})}}),m=function(t){q(k,t),k.length=s.length,g.notifyListeners(k.location,k.action)},b=function(t){void 0===t.state&&-1===navigator.userAgent.indexOf("CriOS")||C(v(t.state))},E=function(){C(v(B()))},w=!1,C=function(e){w?(w=!1,m()):g.confirmTransitionTo(e,"POP",p,function(t){t?m({action:"POP",location:e}):S(e)})},S=function(t){var e=k.location,n=x.indexOf(e.key);-1===n&&(n=0);var r=x.indexOf(t.key);-1===r&&(r=0);var o=n-r;o&&(w=!0,N(o))},T=v(B()),x=[T.key],O=function(t){return y+(n=(e=t).pathname,r=e.search,o=e.hash,i=n||"/",r&&"?"!==r&&(i+="?"===r.charAt(0)?r:"?"+r),o&&"#"!==o&&(i+="#"===o.charAt(0)?o:"#"+o),i);var e,n,r,o,i},N=function(t){s.go(t)},P=0,R=function(t){1===(P+=t)?(j(window,"popstate",b),a&&j(window,"hashchange",E)):0===P&&(W(window,"popstate",b),a&&W(window,"hashchange",E))},I=!1,k={length:s.length,action:"POP",location:T,createHref:O,push:function(t,e){A()(!("object"===(void 0===t?"undefined":V(t))&&void 0!==t.state&&void 0!==e),"You should avoid providing a 2nd state argument to push when the 1st argument is a location-like object that already has state; it is ignored");var a=L(t,e,_(),k.location);g.confirmTransitionTo(a,"PUSH",p,function(t){if(t){var e=O(a),n=a.key,r=a.state;if(u)if(s.pushState({key:n,state:r},null,e),l)window.location.href=e;else{var o=x.indexOf(k.location.key),i=x.slice(0,-1===o?0:o+1);i.push(a.key),x=i,m({action:"PUSH",location:a})}else A()(void 0===r,"Browser history cannot push state in browsers that do not support HTML5 history"),window.location.href=e}})},replace:function(t,e){A()(!("object"===(void 0===t?"undefined":V(t))&&void 0!==t.state&&void 0!==e),"You should avoid providing a 2nd state argument to replace when the 1st argument is a location-like object that already has state; it is ignored");var i=L(t,e,_(),k.location);g.confirmTransitionTo(i,"REPLACE",p,function(t){if(t){var e=O(i),n=i.key,r=i.state;if(u)if(s.replaceState({key:n,state:r},null,e),l)window.location.replace(e);else{var o=x.indexOf(k.location.key);-1!==o&&(x[o]=i.key),m({action:"REPLACE",location:i})}else A()(void 0===r,"Browser history cannot replace state in browsers that do not support HTML5 history"),window.location.replace(e)}})},go:N,goBack:function(){return N(-1)},goForward:function(){return N(1)},block:function(){var t=0<arguments.length&&void 0!==arguments[0]&&arguments[0],e=g.setPrompt(t);return I||(R(1),I=!0),function(){return I&&(I=!1,R(-1)),e()}},listen:function(t){var e=g.appendListener(t);return R(1),function(){R(-1),e()}}};return k};Object.assign,"function"==typeof Symbol&&Symbol.iterator,Object.assign,n.d(e,"a",function(){return s}),n.d(e,"b",function(){return L}),n.d(e,"c",function(){return a})},function(t,e,n){"use strict";function r(t,e){if(null==t)return{};var n,r,o=function(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],0<=e.indexOf(n)||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],0<=e.indexOf(n)||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}n.d(e,"a",function(){return r})},,function(t,e,n){var y=n(12),v=n(13),_=n(19),g=n(29),m=n(67),r=function t(e,n,r){var o,i,a,s,u=e&t.F,c=e&t.G,l=e&t.P,h=e&t.B,p=c?y:e&t.S?y[n]||(y[n]={}):(y[n]||{}).prototype,f=c?v:v[n]||(v[n]={}),d=f.prototype||(f.prototype={});for(o in c&&(r=n),r)a=((i=!u&&p&&void 0!==p[o])?p:r)[o],s=h&&i?m(a,y):l&&"function"==typeof a?m(Function.call,a):a,p&&g(p,o,a,e&t.U),f[o]!=a&&_(f,o,s),l&&d[o]!=a&&(d[o]=a)};y.core=v,r.F=1,r.G=2,r.S=4,r.P=8,r.B=16,r.W=32,r.U=64,r.R=128,t.exports=r},function(t,e,n){var r=n(23),o=n(36);t.exports=n(24)?function(t,e,n){return r.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){"use strict";function r(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}n.d(e,"a",function(){return r})},function(t,e,n){var r=n(35),o=n(65),i=n(44),a=Object.defineProperty;e.f=n(24)?Object.defineProperty:function(t,e,n){if(r(t),e=i(e,!0),r(n),o)try{return a(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){t.exports=!n(28)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e,n){var r=n(45),o=n(31);t.exports=function(t){return r(o(t))}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var f=n(1);function d(t){return y(t)||null===t}function y(t){return void 0===t}var v={onComponentDidMount:1,onComponentDidUpdate:1,onComponentShouldUpdate:1,onComponentWillMount:1,onComponentWillUnmount:1,onComponentWillUpdate:1};function r(t,e,n){var r,o,i=arguments,a=null,s=null,u=null,c=0,l=arguments.length-2;if(1===l)r=n;else if(1<l)for(r=[];0<l--;)r[l]=i[l+2];if("string"!=typeof t){if(c=2,y(r)||(e||(e={}),e.children=r),!d(e))for(var h in o={},e)"key"===h?s=e.key:"ref"===h?a=e.ref:1===v[h]?(a||(a={}),a[h]=e[h]):o[h]=e[h];return Object(f.n)(c,t,o,s,a)}if(c=Object(f.x)(t),!d(e))for(var p in o={},e)"className"===p||"class"===p?u=e[p]:"key"===p?s=e.key:"children"===p&&y(r)?r=e.children:"ref"===p?a=e.ref:("contenteditable"===p&&(c|=4096),o[p]=e[p]);return 8192&c?Object(f.o)(1===l?[r]:r,0,s):Object(f.t)(c,t,u,r,0,o,s,a)}},function(Ww,Xw){var Yw;Yw=function(){return this}();try{Yw=Yw||Function("return this")()||eval("this")}catch(t){"object"==typeof window&&(Yw=window)}Ww.exports=Yw},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){var i=n(12),a=n(19),s=n(21),u=n(30)("src"),r=Function.toString,c=(""+r).split("toString");n(13).inspectSource=function(t){return r.call(t)},(t.exports=function(t,e,n,r){var o="function"==typeof n;o&&(s(n,"name")||a(n,"name",e)),t[e]!==n&&(o&&(s(n,u)||a(n,u,t[e]?""+t[e]:c.join(String(e)))),t===i?t[e]=n:r?t[e]?t[e]=n:a(t,e,n):(delete t[e],a(t,e,n)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[u]||r.call(this)})},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,n){var r=n(70),o=n(51);t.exports=Object.keys||function(t){return r(t,o)}},function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r=n(1),o="a runtime error occured! Use Inferno in development environment to find the error.";function i(t){throw t||(t=o),new Error("Inferno Error: "+t)}var a={componentDidMount:1,componentDidUnmount:1,componentDidUpdate:1,componentWillMount:1,componentWillUnmount:1,componentWillUpdate:1,constructor:1,render:1,shouldComponentUpdate:1};function s(t,e){for(var n in e)t[n]=e[n];return t}function u(t,e){void 0===e&&(e={});for(var n=0,r=t.length;n<r;++n){var o=t[n];for(var i in o.mixins&&u(o.mixins,e),o)o.hasOwnProperty(i)&&"function"==typeof o[i]&&(e[i]||(e[i]=[])).push(o[i])}return e}function c(i,a){return function(){for(var t,e=arguments,n=0,r=i.length;n<r;++n){var o=i[n].apply(this,e);a?t=a(t,o):o&&(t=o)}return t}}function l(t,e){if(e)for(var n in"object"!=typeof e&&i("Expected Mixin to return value to be an object or null."),t||(t={}),e)e.hasOwnProperty(n)&&(t.hasOwnProperty(n)&&i("Mixins return duplicate key "+n+" in their return values"),t[n]=e[n]);return t}function h(t){var e=function(n){function t(t,e){n.call(this,t,e),function(t){for(var e in t){var n=t[e];"function"!=typeof n||n.__bound||a[e]||((t[e]=n.bind(t)).__bound=!0)}}(this),this.getInitialState&&(this.state=this.getInitialState())}return n&&(t.__proto__=n),((t.prototype=Object.create(n&&n.prototype)).constructor=t).prototype.replaceState=function(t,e){this.setState(t,e)},t.prototype.isMounted=function(){return null!==this.$LI&&!this.$UN},t}(r.a);return e.displayName=t.name||t.displayName||"Component",e.propTypes=t.propTypes,e.mixins=t.mixins&&u(t.mixins),e.getDefaultProps=t.getDefaultProps,s(e.prototype,t),t.statics&&s(e,t.statics),t.mixins&&function(t,e){for(var n in e)if(e.hasOwnProperty(n)){var r=e[n],o=void 0;o="getDefaultProps"===n?t:t.prototype,"function"==typeof r[0]?(s=r,u=void 0!==(a=o)[i=n]?s.concat(a[i]):s,a[i]="getDefaultProps"===i||"getInitialState"===i||"getChildContext"===i?c(u,l):c(u)):o[n]=r}var i,a,s,u}(e,u(t.mixins)),e.getDefaultProps&&(e.defaultProps=e.getDefaultProps()),e}},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n(1);function o(t){return t&&t.nodeType?t:!t||t.$UN?null:t.$LI?Object(r.v)(t.$LI,!0):t.flags?Object(r.v)(t,!0):null}},function(t,e,n){var r=n(20);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(0<t?r:n)(t)}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){"use strict";var r=n(10),o=n.n(r),i=n(9),l=n.n(i),h=n(0),a=n(2),s=n.n(a),p=n(41),u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var f=function(t){return 0===h.default.Children.count(t)},d=function(i){function a(){var t,e;!function(t,e){if(!(t instanceof a))throw new TypeError("Cannot call a class as a function")}(this);for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=e=c(this,i.call.apply(i,[this].concat(r))),e.state={match:e.computeMatch(e.props,e.context.router)},c(e,t)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(a,i),a.prototype.getChildContext=function(){return{router:u({},this.context.router,{route:{location:this.props.location||this.context.router.route.location,match:this.state.match}})}},a.prototype.computeMatch=function(t,e){var n=t.computedMatch,r=t.location,o=t.path,i=t.strict,a=t.exact,s=t.sensitive;if(n)return n;l()(e,"You should not use <Route> or withRouter() outside a <Router>");var u=e.route,c=(r||u.location).pathname;return Object(p.a)(c,{path:o,strict:i,exact:a,sensitive:s},u.match)},a.prototype.componentWillMount=function(){o()(!(this.props.component&&this.props.render),"You should not use <Route component> and <Route render> in the same route; <Route render> will be ignored"),o()(!(this.props.component&&this.props.children&&!f(this.props.children)),"You should not use <Route component> and <Route children> in the same route; <Route children> will be ignored"),o()(!(this.props.render&&this.props.children&&!f(this.props.children)),"You should not use <Route render> and <Route children> in the same route; <Route children> will be ignored")},a.prototype.componentWillReceiveProps=function(t,e){o()(!(t.location&&!this.props.location),'<Route> elements should not change from uncontrolled to controlled (or vice versa). You initially used no "location" prop and then provided one on a subsequent render.'),o()(!(!t.location&&this.props.location),'<Route> elements should not change from controlled to uncontrolled (or vice versa). You provided a "location" prop initially but omitted it on a subsequent render.'),this.setState({match:this.computeMatch(t,e.router)})},a.prototype.render=function(){var t=this.state.match,e=this.props,n=e.children,r=e.component,o=e.render,i=this.context.router,a=i.history,s=i.route,u=i.staticContext,c={match:t,location:this.props.location||s.location,history:a,staticContext:u};return r?t?h.default.createElement(r,c):null:o?t?o(c):null:"function"==typeof n?n(c):n&&!f(n)?h.default.Children.only(n):null},a}(h.default.Component);d.propTypes={computedMatch:s.a.object,path:s.a.string,exact:s.a.bool,strict:s.a.bool,sensitive:s.a.bool,component:s.a.func,render:s.a.func,children:s.a.oneOfType([s.a.func,s.a.node]),location:s.a.object},d.contextTypes={router:s.a.shape({history:s.a.object.isRequired,route:s.a.object.isRequired,staticContext:s.a.object})},d.childContextTypes={router:s.a.object.isRequired},e.a=d},function(t,e,n){"use strict";var r=n(42),_=n.n(r),g={},m=0;e.a=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=arguments[2];"string"==typeof e&&(e={path:e});var r=e,o=r.path,i=r.exact,a=void 0!==i&&i,s=r.strict,u=void 0!==s&&s,c=r.sensitive;if(null==o)return n;var l=function(t,e){var n=""+e.end+e.strict+e.sensitive,r=g[n]||(g[n]={});if(r[t])return r[t];var o=[],i={re:_()(t,o,e),keys:o};return m<1e4&&(r[t]=i,m++),i}(o,{end:a,strict:u,sensitive:void 0!==c&&c}),h=l.re,p=l.keys,f=h.exec(t);if(!f)return null;var d=f[0],y=f.slice(1),v=t===d;return a&&!v?null:{path:o,url:"/"===o&&""===d?"/":d,isExact:v,params:p.reduce(function(t,e,n){return t[e.name]=y[n],t},{})}}},function(t,e,n){var p=n(151);t.exports=function i(t,e,n){return p(e)||(n=e||n,e=[]),n=n||{},t instanceof RegExp?function(t,e){var n=t.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)e.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return d(t,e)}(t,e):p(t)?function(t,e,n){for(var r=[],o=0;o<t.length;o++)r.push(i(t[o],e,n).source);return d(new RegExp("(?:"+r.join("|")+")",y(n)),e)}(t,e,n):(r=t,o=e,a=n,u(s(r,a),o,a));var r,o,a},t.exports.parse=s,t.exports.compile=function(t,e){return r(s(t,e))},t.exports.tokensToFunction=r,t.exports.tokensToRegExp=u;var S=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function s(t,e){for(var n,r=[],o=0,i=0,a="",s=e&&e.delimiter||"/";null!=(n=S.exec(t));){var u=n[0],c=n[1],l=n.index;if(a+=t.slice(i,l),i=l+u.length,c)a+=c[1];else{var h=t[i],p=n[2],f=n[3],d=n[4],y=n[5],v=n[6],_=n[7];a&&(r.push(a),a="");var g=null!=p&&null!=h&&h!==p,m="+"===v||"*"===v,b="?"===v||"*"===v,E=n[2]||s,w=d||y;r.push({name:f||o++,prefix:p||"",delimiter:E,optional:b,repeat:m,partial:g,asterisk:!!_,pattern:w?(C=w,C.replace(/([=!:$\/()])/g,"\\$1")):_?".*":"[^"+T(E)+"]+?"})}}var C;return i<t.length&&(a+=t.substr(i)),a&&r.push(a),r}function f(t){return encodeURI(t).replace(/[\/?#]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}function r(l){for(var h=new Array(l.length),t=0;t<l.length;t++)"object"==typeof l[t]&&(h[t]=new RegExp("^(?:"+l[t].pattern+")$"));return function(t,e){for(var n="",r=t||{},o=(e||{}).pretty?f:encodeURIComponent,i=0;i<l.length;i++){var a=l[i];if("string"!=typeof a){var s,u=r[a.name];if(null==u){if(a.optional){a.partial&&(n+=a.prefix);continue}throw new TypeError('Expected "'+a.name+'" to be defined')}if(p(u)){if(!a.repeat)throw new TypeError('Expected "'+a.name+'" to not repeat, but received `'+JSON.stringify(u)+"`");if(0===u.length){if(a.optional)continue;throw new TypeError('Expected "'+a.name+'" to not be empty')}for(var c=0;c<u.length;c++){if(s=o(u[c]),!h[i].test(s))throw new TypeError('Expected all "'+a.name+'" to match "'+a.pattern+'", but received `'+JSON.stringify(s)+"`");n+=(0===c?a.prefix:a.delimiter)+s}}else{if(s=a.asterisk?encodeURI(u).replace(/[?#]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()}):o(u),!h[i].test(s))throw new TypeError('Expected "'+a.name+'" to match "'+a.pattern+'", but received "'+s+'"');n+=a.prefix+s}}else n+=a}return n}}function T(t){return t.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function d(t,e){return t.keys=e,t}function y(t){return t.sensitive?"":"i"}function u(t,e,n){p(e)||(n=e||n,e=[]);for(var r=(n=n||{}).strict,o=!1!==n.end,i="",a=0;a<t.length;a++){var s=t[a];if("string"==typeof s)i+=T(s);else{var u=T(s.prefix),c="(?:"+s.pattern+")";e.push(s),s.repeat&&(c+="(?:"+u+c+")*"),i+=c=s.optional?s.partial?u+"("+c+")?":"(?:"+u+"("+c+"))?":u+"("+c+")"}}var l=T(n.delimiter||"/"),h=i.slice(-l.length)===l;return r||(i=(h?i.slice(0,-l.length):i)+"(?:"+l+"(?=$))?"),i+=o?"$":r&&h?"":"(?="+l+"|$)",d(new RegExp("^"+i,y(n)),e)}},function(t,e,n){"use strict";function r(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}n.d(e,"a",function(){return r})},function(t,e,n){var o=n(20);t.exports=function(t,e){if(!o(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!o(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!o(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!o(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},function(t,e,n){var r=n(37);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,e,n){var r=n(31);t.exports=function(t){return Object(r(t))}},function(t,e,n){var r=n(38),o=Math.min;t.exports=function(t){return 0<t?o(r(t),9007199254740991):0}},function(t,e,n){var r=n(12),o=r["__core-js_shared__"]||(r["__core-js_shared__"]={});t.exports=function(t){return o[t]||(o[t]={})}},function(t,e,n){var r=n(11)("unscopables"),o=Array.prototype;null==o[r]&&n(19)(o,r,{}),t.exports=function(t){o[r][t]=!0}},function(t,e,n){var r=n(48)("keys"),o=n(30);t.exports=function(t){return r[t]||(r[t]=o(t))}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){var r=n(23).f,o=n(21),i=n(11)("toStringTag");t.exports=function(t,e,n){t&&!o(t=n?t:t.prototype,i)&&r(t,i,{configurable:!0,value:e})}},function(t,e,n){e.f=n(11)},function(t,e,n){var r=n(12),o=n(13),i=n(56),a=n(54),s=n(23).f;t.exports=function(t){var e=o.Symbol||(o.Symbol=i?{}:r.Symbol||{});"_"==t.charAt(0)||t in e||s(e,t,{value:a.f(t)})}},function(t,e){t.exports=!1},function(t,e){t.exports={}},function(t,e,n){t.exports=n(92)},function(t,e,n){"use strict";var r=s(n(94)),o=s(n(101)),i=s(n(63)),a=s(n(60));function s(t){return t&&t.__esModule?t:{default:t}}t.exports={Transition:a.default,TransitionGroup:i.default,ReplaceTransition:o.default,CSSTransition:r.default}},function(t,e,n){"use strict";e.__esModule=!0,e.default=e.EXITING=e.ENTERED=e.ENTERING=e.EXITED=e.UNMOUNTED=void 0;var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}(n(2)),i=s(n(0)),o=s(n(0)),a=n(61);function s(t){return t&&t.__esModule?t:{default:t}}n(62);var u="unmounted";e.UNMOUNTED=u;var c="exited";e.EXITED=c;var l="entering";e.ENTERING=l;var h="entered";e.ENTERED=h,e.EXITING="exiting";var p=function(a){var t,e;function n(t,e){var n;n=a.call(this,t,e)||this;var r,o=e.transitionGroup,i=o&&!o.isMounting?t.enter:t.appear;return n.appearStatus=null,t.in?i?(r=c,n.appearStatus=l):r=h:r=t.unmountOnExit||t.mountOnEnter?u:c,n.state={status:r},n.nextCallback=null,n}e=a,(t=n).prototype=Object.create(e.prototype),(t.prototype.constructor=t).__proto__=e;var r=n.prototype;return r.getChildContext=function(){return{transitionGroup:null}},n.getDerivedStateFromProps=function(t,e){return t.in&&e.status===u?{status:c}:null},r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(t){var e=null;if(t!==this.props){var n=this.state.status;this.props.in?n!==l&&n!==h&&(e=l):n!==l&&n!==h||(e="exiting")}this.updateStatus(!1,e)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var t,e,n,r=this.props.timeout;return t=e=n=r,null!=r&&"number"!=typeof r&&(t=r.exit,e=r.enter,n=r.appear),{exit:t,enter:e,appear:n}},r.updateStatus=function(t,e){if(void 0===t&&(t=!1),null!==e){this.cancelNextCallback();var n=o.default.findDOMNode(this);e===l?this.performEnter(n,t):this.performExit(n)}else this.props.unmountOnExit&&this.state.status===c&&this.setState({status:u})},r.performEnter=function(t,e){var n=this,r=this.props.enter,o=this.context.transitionGroup?this.context.transitionGroup.isMounting:e,i=this.getTimeouts();e||r?(this.props.onEnter(t,o),this.safeSetState({status:l},function(){n.props.onEntering(t,o),n.onTransitionEnd(t,i.enter,function(){n.safeSetState({status:h},function(){n.props.onEntered(t,o)})})})):this.safeSetState({status:h},function(){n.props.onEntered(t)})},r.performExit=function(t){var e=this,n=this.props.exit,r=this.getTimeouts();n?(this.props.onExit(t),this.safeSetState({status:"exiting"},function(){e.props.onExiting(t),e.onTransitionEnd(t,r.exit,function(){e.safeSetState({status:c},function(){e.props.onExited(t)})})})):this.safeSetState({status:c},function(){e.props.onExited(t)})},r.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(t,e){e=this.setNextCallback(e),this.setState(t,e)},r.setNextCallback=function(e){var n=this,r=!0;return this.nextCallback=function(t){r&&(r=!1,n.nextCallback=null,e(t))},this.nextCallback.cancel=function(){r=!1},this.nextCallback},r.onTransitionEnd=function(t,e,n){this.setNextCallback(n),t?(this.props.addEndListener&&this.props.addEndListener(t,this.nextCallback),null!=e&&setTimeout(this.nextCallback,e)):setTimeout(this.nextCallback,0)},r.render=function(){var t=this.state.status;if(t===u)return null;var e=this.props,n=e.children,r=function(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],0<=e.indexOf(n)||(o[n]=t[n]);return o}(e,["children"]);if(delete r.in,delete r.mountOnEnter,delete r.unmountOnExit,delete r.appear,delete r.enter,delete r.exit,delete r.timeout,delete r.addEndListener,delete r.onEnter,delete r.onEntering,delete r.onEntered,delete r.onExit,delete r.onExiting,delete r.onExited,"function"==typeof n)return n(t,r);var o=i.default.Children.only(n);return i.default.cloneElement(o,r)},n}(i.default.Component);function f(){}p.contextTypes={transitionGroup:r.object},p.childContextTypes={transitionGroup:function(){}},p.propTypes={},p.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:f,onEntering:f,onEntered:f,onExit:f,onExiting:f,onExited:f},p.UNMOUNTED=0,p.EXITED=1,p.ENTERING=2,p.ENTERED=3,p.EXITING=4;var d=(0,a.polyfill)(p);e.default=d},function(t,e,n){"use strict";function u(){var t=this.constructor.getDerivedStateFromProps(this.props,this.state);null!=t&&this.setState(t)}function c(n){this.setState(function(t){var e=this.constructor.getDerivedStateFromProps(n,t);return null!=e?e:null}.bind(this))}function l(t,e){try{var n=this.props,r=this.state;this.props=t,this.state=e,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}function r(t){var e=t.prototype;if(!e||!e.isReactComponent)throw new Error("Can only polyfill class components");if("function"!=typeof t.getDerivedStateFromProps&&"function"!=typeof e.getSnapshotBeforeUpdate)return t;var n=null,r=null,o=null;if("function"==typeof e.componentWillMount?n="componentWillMount":"function"==typeof e.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"==typeof e.componentWillReceiveProps?r="componentWillReceiveProps":"function"==typeof e.UNSAFE_componentWillReceiveProps&&(r="UNSAFE_componentWillReceiveProps"),"function"==typeof e.componentWillUpdate?o="componentWillUpdate":"function"==typeof e.UNSAFE_componentWillUpdate&&(o="UNSAFE_componentWillUpdate"),null!==n||null!==r||null!==o){var i=t.displayName||t.name,a="function"==typeof t.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+i+" uses "+a+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==r?"\n  "+r:"")+(null!==o?"\n  "+o:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"==typeof t.getDerivedStateFromProps&&(e.componentWillMount=u,e.componentWillReceiveProps=c),"function"==typeof e.getSnapshotBeforeUpdate){if("function"!=typeof e.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");e.componentWillUpdate=l;var s=e.componentDidUpdate;e.componentDidUpdate=function(t,e,n){var r=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;s.call(this,t,e,r)}}return t}n.r(e),n.d(e,"polyfill",function(){return r}),l.__suppressDeprecationWarning=c.__suppressDeprecationWarning=u.__suppressDeprecationWarning=!0},function(t,e,n){"use strict";e.__esModule=!0,e.transitionTimeout=function(t){var e="transition"+t+"Timeout",n="transition"+t;return function(t){if(t[n]){if(null==t[e])return new Error(e+" wasn't supplied to CSSTransitionGroup: this can cause unreliable animations and won't be supported in a future version of React. See https://fb.me/react-animation-transition-group-timeout for more information.");if("number"!=typeof t[e])return new Error(e+" must be a number (in milliseconds)")}return null}},e.classNamesShape=e.timeoutsShape=void 0;var r,o=(r=n(2))&&r.__esModule?r:{default:r},i=o.default.oneOfType([o.default.number,o.default.shape({enter:o.default.number,exit:o.default.number}).isRequired]);e.timeoutsShape=i;var a=o.default.oneOfType([o.default.string,o.default.shape({enter:o.default.string,exit:o.default.string,active:o.default.string}),o.default.shape({enter:o.default.string,enterDone:o.default.string,enterActive:o.default.string,exit:o.default.string,exitDone:o.default.string,exitActive:o.default.string})]);e.classNamesShape=a},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=s(n(2)),i=s(n(0)),o=n(61),a=n(102);function s(t){return t&&t.__esModule?t:{default:t}}function u(){return(u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var l=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},h=function(o){var t,e;function n(t,e){var n,r=(n=o.call(this,t,e)||this).handleExited.bind(c(c(n)));return n.state={handleExited:r,firstRender:!0},n}e=o,(t=n).prototype=Object.create(e.prototype),(t.prototype.constructor=t).__proto__=e;var r=n.prototype;return r.getChildContext=function(){return{transitionGroup:{isMounting:!this.appeared}}},r.componentDidMount=function(){this.appeared=!0},n.getDerivedStateFromProps=function(t,e){var n=e.children,r=e.handleExited;return{children:e.firstRender?(0,a.getInitialChildMapping)(t,r):(0,a.getNextChildMapping)(t,n,r),firstRender:!1}},r.handleExited=function(n,t){var e=(0,a.getChildMapping)(this.props.children);n.key in e||(n.props.onExited&&n.props.onExited(t),this.setState(function(t){var e=u({},t.children);return delete e[n.key],{children:e}}))},r.render=function(){var t=this.props,e=t.component,n=t.childFactory,r=function(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],0<=e.indexOf(n)||(o[n]=t[n]);return o}(t,["component","childFactory"]),o=l(this.state.children).map(n);return delete r.appear,delete r.enter,delete r.exit,null===e?o:i.default.createElement(e,r,o)},n}(i.default.Component);h.childContextTypes={transitionGroup:r.default.object.isRequired},h.propTypes={},h.defaultProps={component:"div",childFactory:function(t){return t}};var p=(0,o.polyfill)(h);e.default=p,t.exports=e.default},function(t,e){var n,r,o=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(t){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var u,c=[],l=!1,h=-1;function p(){l&&u&&(l=!1,u.length?c=u.concat(c):h=-1,c.length&&f())}function f(){if(!l){var t=s(p);l=!0;for(var e=c.length;e;){for(u=c,c=[];++h<e;)u&&u[h].run();h=-1,e=c.length}u=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function y(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new d(t,e)),1!==c.length||l||s(f)},d.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=y,o.addListener=y,o.once=y,o.off=y,o.removeListener=y,o.removeAllListeners=y,o.emit=y,o.prependListener=y,o.prependOnceListener=y,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(t,e,n){t.exports=!n(24)&&!n(28)(function(){return 7!=Object.defineProperty(n(66)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){var r=n(20),o=n(12).document,i=r(o)&&r(o.createElement);t.exports=function(t){return i?o.createElement(t):{}}},function(t,e,n){var i=n(110);t.exports=function(r,o,t){if(i(r),void 0===o)return r;switch(t){case 1:return function(t){return r.call(o,t)};case 2:return function(t,e){return r.call(o,t,e)};case 3:return function(t,e,n){return r.call(o,t,e,n)}}return function(){return r.apply(o,arguments)}}},function(t,e,n){var m=n(67),b=n(45),E=n(46),w=n(47),r=n(111);t.exports=function(h,t){var p=1==h,f=2==h,d=3==h,y=4==h,v=6==h,_=5==h||v,g=t||r;return function(t,e,n){for(var r,o,i=E(t),a=b(i),s=m(e,n,3),u=w(a.length),c=0,l=p?g(t,u):f?g(t,0):void 0;c<u;c++)if((_||c in a)&&(o=s(r=a[c],c,i),h))if(p)l[c]=o;else if(o)switch(h){case 3:return!0;case 5:return r;case 6:return c;case 2:l.push(r)}else if(y)return!1;return v?-1:d||y?y:l}}},function(t,e,n){var r=n(37);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e,n){var a=n(21),s=n(25),u=n(118)(!1),c=n(50)("IE_PROTO");t.exports=function(t,e){var n,r=s(t),o=0,i=[];for(n in r)n!=c&&a(r,n)&&i.push(n);for(;e.length>o;)a(r,n=e[o++])&&(~u(i,n)||i.push(n));return i}},function(t,e,r){var o=r(35),i=r(132),a=r(51),s=r(50)("IE_PROTO"),u=function(){},c=function(){var t,e=r(66)("iframe"),n=a.length;for(e.style.display="none",r(133).appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),c=t.F;n--;)delete c.prototype[a[n]];return c()};t.exports=Object.create||function(t,e){var n;return null!==t?(u.prototype=o(t),n=new u,u.prototype=null,n[s]=t):n=c(),void 0===e?n:i(n,e)}},function(t,e,n){var r=n(70),o=n(51).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,o)}},function(t,e,n){"use strict";var m=n(56),b=n(18),E=n(29),w=n(19),C=n(57),S=n(143),T=n(53),x=n(144),O=n(11)("iterator"),N=!([].keys&&"next"in[].keys()),P=function(){return this};t.exports=function(t,e,n,r,o,i,a){S(n,e,r);var s,u,c,l=function(t){if(!N&&t in d)return d[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},h=e+" Iterator",p="values"==o,f=!1,d=t.prototype,y=d[O]||d["@@iterator"]||o&&d[o],v=y||l(o),_=o?p?l("entries"):v:void 0,g="Array"==e&&d.entries||y;if(g&&(c=x(g.call(new t)))!==Object.prototype&&c.next&&(T(c,h,!0),m||"function"==typeof c[O]||w(c,O,P)),p&&y&&"values"!==y.name&&(f=!0,v=function(){return y.call(this)}),m&&!a||!N&&!f&&d[O]||w(d,O,v),C[e]=v,C[h]=P,o)if(s={values:p?v:l("values"),keys:i?v:l("keys"),entries:_},a)for(u in s)u in d||E(d,u,s[u]);else b(b.P+b.F*(N||f),e,s);return s}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var p=n(75),f=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},d="[DEFAULT]",r=[],y=function(){function t(t,e,n){this.firebase_=n,this.isDeleted_=!1,this.services_={},this.name_=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled||!1,this.options_=p.deepCopy(t),this.INTERNAL={getUid:function(){return null},getToken:function(){return Promise.resolve(null)},addAuthTokenListener:function(t){r.push(t),setTimeout(function(){return t(null)},0)},removeAuthTokenListener:function(e){r=r.filter(function(t){return t!==e})}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this._automaticDataCollectionEnabled},set:function(t){this.checkDestroyed_(),this._automaticDataCollectionEnabled=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!0,configurable:!0}),t.prototype.delete=function(){var r=this;return new Promise(function(t){r.checkDestroyed_(),t()}).then(function(){r.firebase_.INTERNAL.removeApp(r.name_);var n=[];return Object.keys(r.services_).forEach(function(e){Object.keys(r.services_[e]).forEach(function(t){n.push(r.services_[e][t])})}),Promise.all(n.map(function(t){return t.INTERNAL.delete()}))}).then(function(){r.isDeleted_=!0,r.services_={}})},t.prototype._getService=function(t,e){if(void 0===e&&(e=d),this.checkDestroyed_(),this.services_[t]||(this.services_[t]={}),!this.services_[t][e]){var n=e!==d?e:void 0,r=this.firebase_.INTERNAL.factories[t](this,this.extendApp.bind(this),n);this.services_[t][e]=r}return this.services_[t][e]},t.prototype.extendApp=function(t){var e=this;p.deepExtend(this,t),t.INTERNAL&&t.INTERNAL.addAuthTokenListener&&(r.forEach(function(t){e.INTERNAL.addAuthTokenListener(t)}),r=[])},t.prototype.checkDestroyed_=function(){this.isDeleted_&&v("app-deleted",{name:this.name_})},t}();function v(t,e){throw o.create(t,e)}y.prototype.name&&y.prototype.options||y.prototype.delete||console.log("dc");var o=new p.ErrorFactory("app","Firebase",{"no-app":"No Firebase App '{$name}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$name}","duplicate-app":"Firebase App named '{$name}' already exists","app-deleted":"Firebase App named '{$name}' already deleted","duplicate-service":"Firebase service named '{$name}' already registered","sa-not-supported":"Initializing the Firebase SDK with a service account is only allowed in a Node.js environment. On client devices, you should instead initialize the SDK with an api key and auth domain","invalid-app-argument":"firebase.{$name}() takes either no argument or a Firebase App instance."}),i=function t(){var i={},a={},s={},u={__esModule:!0,initializeApp:function(t,e){(void 0===e&&(e={}),"object"!=typeof e||null===e)&&(e={name:e});var n=e;void 0===n.name&&(n.name=d);var r=n.name;"string"==typeof r&&r||v("bad-app-name",{name:r+""}),f(i,r)&&v("duplicate-app",{name:r});var o=new y(t,n,u);return h(i[r]=o,"create"),o},app:c,apps:null,Promise:Promise,SDK_VERSION:"5.8.0",INTERNAL:{registerService:function(n,t,e,r,o){a[n]&&v("duplicate-service",{name:n}),a[n]=t,r&&(s[n]=r,l().forEach(function(t){r("create",t)}));var i=function(t){return void 0===t&&(t=c()),"function"!=typeof t[n]&&v("invalid-app-argument",{name:n}),t[n]()};return void 0!==e&&p.deepExtend(i,e),u[n]=i,y.prototype[n]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,n).apply(this,o?t:[])},i},createFirebaseNamespace:t,extendNamespace:function(t){p.deepExtend(u,t)},createSubscribe:p.createSubscribe,ErrorFactory:p.ErrorFactory,removeApp:function(t){h(i[t],"delete"),delete i[t]},factories:a,useAsService:o,Promise:Promise,deepExtend:p.deepExtend}};function c(t){return f(i,t=t||d)||v("no-app",{name:t}),i[t]}function l(){return Object.keys(i).map(function(t){return i[t]})}function h(n,r){Object.keys(a).forEach(function(t){var e=o(n,t);null!==e&&s[e]&&s[e](r,n)})}function o(t,e){if("serverAuth"===e)return null;var n=e;return t.options,n}return p.patchProperty(u,"default",u),Object.defineProperty(u,"apps",{get:l}),p.patchProperty(c,"App",y),u}();e.firebase=i,e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(76),o={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},a=function(t,e){if(!t)throw i(e)},i=function(t){return new Error("Firebase Database ("+o.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)},s=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var o=t.charCodeAt(r);e[n++]=o<128?o:(e[n++]=o<2048?o>>6|192:(55296==(64512&o)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(o=65536+((1023&o)<<10)+(1023&t.charCodeAt(++r)),e[n++]=o>>18|240,e[n++]=o>>12&63|128):e[n++]=o>>12|224,o>>6&63|128),63&o|128)}return e},u={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],o=0;o<t.length;o+=3){var i=t[o],a=o+1<t.length,s=a?t[o+1]:0,u=o+2<t.length,c=u?t[o+2]:0,l=i>>2,h=(3&i)<<4|s>>4,p=(15&s)<<2|c>>6,f=63&c;u||(f=64,a||(p=64)),r.push(n[l],n[h],n[p],n[f])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(s(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var o=t[n++];if(o<128)e[r++]=String.fromCharCode(o);else if(191<o&&o<224){var i=t[n++];e[r++]=String.fromCharCode((31&o)<<6|63&i)}else if(239<o&&o<365){var a=((7&o)<<18|(63&(i=t[n++]))<<12|(63&(s=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(a>>10)),e[r++]=String.fromCharCode(56320+(1023&a))}else{i=t[n++];var s=t[n++];e[r++]=String.fromCharCode((15&o)<<12|(63&i)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],o=0;o<t.length;){var i=n[t.charAt(o++)],a=o<t.length?n[t.charAt(o)]:0,s=++o<t.length?n[t.charAt(o)]:64,u=++o<t.length?n[t.charAt(o)]:64;if(++o,null==i||null==a||null==s||null==u)throw Error();var c=i<<2|a>>4;if(r.push(c),64!=s){var l=a<<4&240|s>>2;if(r.push(l),64!=u){var h=s<<6&192|u;r.push(h)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),(this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t)>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},c=function(t){try{return u.decodeString(t,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function l(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&(t[n]=l(t[n],e[n]));return t}var h=function(){function t(){var n=this;this.promise=new Promise(function(t,e){n.resolve=t,n.reject=e})}return t.prototype.wrapCallback=function(n){var r=this;return function(t,e){t?r.reject(t):r.resolve(e),"function"==typeof n&&(r.promise.catch(function(){}),1===n.length?n(t):n(t,e))}},t}(),p=function(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""},f="FirebaseError",d=Error.captureStackTrace,y=function(t,e){if(this.code=t,this.message=e,d)d(this,v.prototype.create);else try{throw Error.apply(this,arguments)}catch(t){this.name=f,Object.defineProperty(this,"stack",{get:function(){return t.stack}})}};y.prototype=Object.create(Error.prototype),(y.prototype.constructor=y).prototype.name=f;var v=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n,this.pattern=/\{\$([^}]+)}/g}return t.prototype.create=function(t,r){void 0===r&&(r={});var e,n=this.errors[t],o=this.service+"/"+t;e=void 0===n?"Error":n.replace(this.pattern,function(t,e){var n=r[e];return void 0!==n?n.toString():"<"+e+"?>"}),e=this.serviceName+": "+e+" ("+o+").";var i=new y(o,e);for(var a in r)r.hasOwnProperty(a)&&"_"!==a.slice(-1)&&(i[a]=r[a]);return i},t}();function _(t){return JSON.parse(t)}var g=function(t){var e={},n={},r={},o="";try{var i=t.split(".");e=_(c(i[0])||""),n=_(c(i[1])||""),o=i[2],r=n.d||{},delete n.d}catch(t){}return{header:e,claims:n,data:r,signature:o}},m=function(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])},b=function(n,t){return m(t,function(t,e){n[t]=e}),n},E=function(t,e,n){for(var r in t)if(e.call(n,t[r],r,t))return r},w=function(n){function t(){var t=n.call(this)||this;t.chain_=[],t.buf_=[],t.W_=[],t.pad_=[],t.inbuf_=0,t.total_=0,t.blockSize=64,t.pad_[0]=128;for(var e=1;e<t.blockSize;++e)t.pad_[e]=0;return t.reset(),t}return r.__extends(t,n),t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++){var o=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(o<<1|o>>>31)}var i,a,s=this.chain_[0],u=this.chain_[1],c=this.chain_[2],l=this.chain_[3],h=this.chain_[4];for(r=0;r<80;r++)a=r<40?r<20?(i=l^u&(c^l),1518500249):(i=u^c^l,1859775393):r<60?(i=u&c|l&(u|c),2400959708):(i=u^c^l,3395469782),o=(s<<5|s>>>27)+i+h+a+n[r]&4294967295,h=l,l=c,c=4294967295&(u<<30|u>>>2),u=s,s=o;this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,o=this.buf_,i=this.inbuf_;r<e;){if(0==i)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(o[i]=t.charCodeAt(r),++r,++i==this.blockSize){this.compress_(o),i=0;break}}else for(;r<e;)if(o[i]=t[r],++r,++i==this.blockSize){this.compress_(o),i=0;break}}this.inbuf_=i,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;56<=n;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var o=24;0<=o;o-=8)t[r]=this.chain_[n]>>o&255,++r;return t},t}(function(){this.blockSize=-1}),C=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(e){this.forEachObserver(function(t){t.next(e)})},t.prototype.error=function(e){this.forEachObserver(function(t){t.error(e)}),this.close(e)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,o=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var o=r[n];if(o in t&&"function"==typeof t[o])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=S),void 0===r.error&&(r.error=S),void 0===r.complete&&(r.complete=S);var i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{o.finalError?r.error(o.finalError):r.complete()}catch(t){}}),this.observers.push(r),i},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(t){"undefined"!=typeof console&&console.error&&console.error(t)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function S(){}function T(t,e,n){var r="";switch(e){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return t+" failed: "+(r+" argument ")}e.assert=a,e.assertionError=i,e.base64=u,e.base64Decode=c,e.base64Encode=function(t){var e=s(t);return u.encodeByteArray(e,!0)},e.CONSTANTS=o,e.deepCopy=function(t){return l(void 0,t)},e.deepExtend=l,e.patchProperty=function(t,e,n){t[e]=n},e.Deferred=h,e.getUA=p,e.isMobileCordova=function(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(p())},e.isNodeSdk=function(){return!0===o.NODE_CLIENT||!0===o.NODE_ADMIN},e.isReactNative=function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},e.ErrorFactory=v,e.FirebaseError=y,e.patchCapture=function(t){var e=d;return d=t,e},e.jsonEval=_,e.stringify=function(t){return JSON.stringify(t)},e.decode=g,e.isAdmin=function(t){var e=g(t).claims;return"object"==typeof e&&!0===e.admin},e.issuedAtTime=function(t){var e=g(t).claims;return"object"==typeof e&&e.hasOwnProperty("iat")?e.iat:null},e.isValidFormat=function(t){var e=g(t).claims;return!!e&&"object"==typeof e&&e.hasOwnProperty("iat")},e.isValidTimestamp=function(t){var e,n,r=g(t).claims,o=Math.floor((new Date).getTime()/1e3);return"object"==typeof r&&(r.hasOwnProperty("nbf")?e=r.nbf:r.hasOwnProperty("iat")&&(e=r.iat),n=r.hasOwnProperty("exp")?r.exp:e+86400),o&&e&&n&&e<=o&&o<=n},e.clone=function(t){return b({},t)},e.contains=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.every=function(t,e){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&!e(n,t[n]))return!1;return!0},e.extend=b,e.findKey=E,e.findValue=function(t,e,n){var r=E(t,e,n);return r&&t[r]},e.forEach=m,e.getAnyKey=function(t){for(var e in t)return e},e.getCount=function(t){var e=0;for(var n in t)e++;return e},e.getValues=function(t){var e=[],n=0;for(var r in t)e[n++]=t[r];return e},e.isEmpty=function(t){for(var e in t)return!1;return!0},e.isNonNullObject=function(t){return"object"==typeof t&&null!==t},e.map=function(t,e,n){var r={};for(var o in t)r[o]=e.call(n,t[o],o,t);return r},e.safeGet=function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]},e.querystring=function(t){var n=[];return m(t,function(e,t){Array.isArray(t)?t.forEach(function(t){n.push(encodeURIComponent(e)+"="+encodeURIComponent(t))}):n.push(encodeURIComponent(e)+"="+encodeURIComponent(t))}),n.length?"&"+n.join("&"):""},e.querystringDecode=function(t){var n={};return t.replace(/^\?/,"").split("&").forEach(function(t){if(t){var e=t.split("=");n[e[0]]=e[1]}}),n},e.Sha1=w,e.async=function(n,r){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];Promise.resolve(!0).then(function(){n.apply(void 0,t)}).catch(function(t){r&&r(t)})}},e.createSubscribe=function(t,e){var n=new C(t,e);return n.subscribe.bind(n)},e.errorPrefix=T,e.validateArgCount=function(t,e,n,r){var o;if(r<e?o="at least "+e:n<r&&(o=0===n?"none":"no more than "+n),o)throw new Error(t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+o+".")},e.validateCallback=function(t,e,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(T(t,e,r)+"must be a valid function.")},e.validateContextObject=function(t,e,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(T(t,e,r)+"must be a valid context object.")},e.validateNamespace=function(t,e,n,r){if((!r||n)&&"string"!=typeof n)throw new Error(T(t,e,r)+"must be a valid firebase namespace.")},e.stringLength=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:55296<=r&&r<=56319?(e+=4,n++):e+=3}return e},e.stringToByteArray=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var o=t.charCodeAt(r);if(55296<=o&&o<=56319){var i=o-55296;a(++r<t.length,"Surrogate pair missing trail surrogate."),o=65536+(i<<10)+(t.charCodeAt(r)-56320)}e[n++]=o<128?o:(e[n++]=o<2048?o>>6|192:(e[n++]=o<65536?o>>12|224:(e[n++]=o>>18|240,o>>12&63|128),o>>6&63|128),63&o|128)}return e}},function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",function(){return o}),n.d(e,"__assign",function(){return i}),n.d(e,"__rest",function(){return a}),n.d(e,"__decorate",function(){return s}),n.d(e,"__param",function(){return u}),n.d(e,"__metadata",function(){return c}),n.d(e,"__awaiter",function(){return l}),n.d(e,"__generator",function(){return h}),n.d(e,"__exportStar",function(){return p}),n.d(e,"__values",function(){return f}),n.d(e,"__read",function(){return d}),n.d(e,"__spread",function(){return y}),n.d(e,"__await",function(){return v}),n.d(e,"__asyncGenerator",function(){return _}),n.d(e,"__asyncDelegator",function(){return g}),n.d(e,"__asyncValues",function(){return m}),n.d(e,"__makeTemplateObject",function(){return b}),n.d(e,"__importStar",function(){return E}),n.d(e,"__importDefault",function(){return w});var r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};function o(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t};function a(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&(n[r[o]]=t[r[o]])}return n}function s(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;0<=s;s--)(o=t[s])&&(a=(i<3?o(a):3<i?o(e,n,a):o(e,n))||a);return 3<i&&a&&Object.defineProperty(e,n,a),a}function u(n,r){return function(t,e){r(t,e,n)}}function c(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function l(i,a,s,u){return new(s||(s=Promise))(function(t,e){function n(t){try{o(u.next(t))}catch(t){e(t)}}function r(t){try{o(u.throw(t))}catch(t){e(t)}}function o(e){e.done?t(e.value):new s(function(t){t(e.value)}).then(n,r)}o((u=u.apply(i,a||[])).next())})}function h(n,r){var o,i,a,t,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return t={next:e(0),throw:e(1),return:e(2)},"function"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t;function e(e){return function(t){return function(e){if(o)throw new TypeError("Generator is already executing.");for(;s;)try{if(o=1,i&&(a=i[2&e[0]?"return":e[0]?"throw":"next"])&&!(a=a.call(i,e[1])).done)return a;switch(i=0,a&&(e=[0,a.value]),e[0]){case 0:case 1:a=e;break;case 4:return s.label++,{value:e[1],done:!1};case 5:s.label++,i=e[1],e=[0];continue;case 7:e=s.ops.pop(),s.trys.pop();continue;default:if(!(a=0<(a=s.trys).length&&a[a.length-1])&&(6===e[0]||2===e[0])){s=0;continue}if(3===e[0]&&(!a||e[1]>a[0]&&e[1]<a[3])){s.label=e[1];break}if(6===e[0]&&s.label<a[1]){s.label=a[1],a=e;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(e);break}a[2]&&s.ops.pop(),s.trys.pop();continue}e=r.call(n,s)}catch(t){e=[6,t],i=0}finally{o=a=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}([e,t])}}}function p(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}function f(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function d(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||0<e--)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function y(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(d(arguments[e]));return t}function v(t){return this instanceof v?(this.v=t,this):new v(t)}function _(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o,i=n.apply(t,e||[]),a=[];return o={},r("next"),r("throw"),r("return"),o[Symbol.asyncIterator]=function(){return this},o;function r(r){i[r]&&(o[r]=function(n){return new Promise(function(t,e){1<a.push([r,n,t,e])||s(r,n)})})}function s(t,e){try{(n=i[t](e)).value instanceof v?Promise.resolve(n.value.v).then(u,c):l(a[0][2],n)}catch(t){l(a[0][3],t)}var n}function u(t){s("next",t)}function c(t){s("throw",t)}function l(t,e){t(e),a.shift(),a.length&&s(a[0][0],a[0][1])}}function g(r){var t,o;return t={},e("next"),e("throw",function(t){throw t}),e("return"),t[Symbol.iterator]=function(){return this},t;function e(e,n){r[e]&&(t[e]=function(t){return(o=!o)?{value:v(r[e](t)),done:"return"===e}:n?n(t):t})}}function m(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator];return e?e.call(t):f(t)}function b(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function E(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function w(t){return t&&t.__esModule?t:{default:t}}},function(t,e,n){"use strict";function u(t,e,n,r,o,i,a){try{var s=t[i](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,o)}function r(s){return function(){var t=this,a=arguments;return new Promise(function(e,n){var r=s.apply(t,a);function o(t){u(r,e,n,o,i,"next",t)}function i(t){u(r,e,n,o,i,"throw",t)}o(void 0)})}}n.d(e,"a",function(){return r})},function(t,e,n){"use strict";n(103);var r,o=(r=n(74))&&"object"==typeof r&&"default"in r?r.default:r;t.exports=o},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,"a",function(){return r})},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}n.d(e,"a",function(){return o})},function(t,e,n){"use strict";function r(t){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n.d(e,"a",function(){return r})},function(t,n,r){"use strict";(function(m){var p=r(0);var e=function(){function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}}(),f=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},t=function(t){function i(){var t,e,f;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i);for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=f=a(this,(t=i.__proto__||Object.getPrototypeOf(i)).call.apply(t,[this].concat(r))),f.state={height:f.props.defaultHeight||0,width:f.props.defaultWidth||0},f._onResize=function(){var t=f.props,e=t.disableHeight,n=t.disableWidth,r=t.onResize;if(f._parentNode){var o=f._parentNode.offsetHeight||0,i=f._parentNode.offsetWidth||0,a=window.getComputedStyle(f._parentNode)||{},s=parseInt(a.paddingLeft,10)||0,u=parseInt(a.paddingRight,10)||0,c=parseInt(a.paddingTop,10)||0,l=parseInt(a.paddingBottom,10)||0,h=o-c-l,p=i-s-u;(!e&&f.state.height!==h||!n&&f.state.width!==p)&&(f.setState({height:o-c-l,width:i-s-u}),r({height:o,width:i}))}},f._setRef=function(t){f._autoSizer=t},a(f,e)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(i,p.PureComponent),e(i,[{key:"componentDidMount",value:function(){var t=this.props.nonce;this._autoSizer&&this._autoSizer.parentNode&&this._autoSizer.parentNode.ownerDocument&&this._autoSizer.parentNode.ownerDocument.defaultView&&this._autoSizer.parentNode instanceof this._autoSizer.parentNode.ownerDocument.defaultView.HTMLElement&&(this._parentNode=this._autoSizer.parentNode,this._detectElementResize=function(o){var i;i="undefined"!=typeof window?window:"undefined"!=typeof self?self:m;var e,n,a="undefined"!=typeof document&&document.attachEvent;if(!a){var t=(n=i.requestAnimationFrame||i.mozRequestAnimationFrame||i.webkitRequestAnimationFrame||function(t){return i.setTimeout(t,20)},function(t){return n(t)}),r=(e=i.cancelAnimationFrame||i.mozCancelAnimationFrame||i.webkitCancelAnimationFrame||i.clearTimeout,function(t){return e(t)}),s=function(t){var e=t.__resizeTriggers__,n=e.firstElementChild,r=e.lastElementChild,o=n.firstElementChild;r.scrollLeft=r.scrollWidth,r.scrollTop=r.scrollHeight,o.style.width=n.offsetWidth+1+"px",o.style.height=n.offsetHeight+1+"px",n.scrollLeft=n.scrollWidth,n.scrollTop=n.scrollHeight},u=function(e){if(!(e.target.className.indexOf("contract-trigger")<0&&e.target.className.indexOf("expand-trigger")<0)){var n=this;s(this),this.__resizeRAF__&&r(this.__resizeRAF__),this.__resizeRAF__=t(function(){var t;((t=n).offsetWidth!=t.__resizeLast__.width||t.offsetHeight!=t.__resizeLast__.height)&&(n.__resizeLast__.width=n.offsetWidth,n.__resizeLast__.height=n.offsetHeight,n.__resizeListeners__.forEach(function(t){t.call(n,e)}))})}},c=!1,l="",h="animationstart",p="Webkit Moz O ms".split(" "),f="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),d=document.createElement("fakeelement");if(void 0!==d.style.animationName&&(c=!0),!1===c)for(var y=0;y<p.length;y++)if(void 0!==d.style[p[y]+"AnimationName"]){l="-"+p[y].toLowerCase()+"-",h=f[y],c=!0;break}var v="resizeanim",_="@"+l+"keyframes "+v+" { from { opacity: 0; } to { opacity: 0; } } ",g=l+"animation: 1ms "+v+"; "}return{addResizeListener:function(e,t){if(a)e.attachEvent("onresize",t);else{if(!e.__resizeTriggers__){var n=e.ownerDocument,r=i.getComputedStyle(e);r&&"static"==r.position&&(e.style.position="relative"),function(t){if(!t.getElementById("detectElementResize")){var e=(_||"")+".resize-triggers { "+(g||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',n=t.head||t.getElementsByTagName("head")[0],r=t.createElement("style");r.id="detectElementResize",r.type="text/css",null!=o&&r.setAttribute("nonce",o),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(t.createTextNode(e)),n.appendChild(r)}}(n),e.__resizeLast__={},e.__resizeListeners__=[],(e.__resizeTriggers__=n.createElement("div")).className="resize-triggers",e.__resizeTriggers__.innerHTML='<div class="expand-trigger"><div></div></div><div class="contract-trigger"></div>',e.appendChild(e.__resizeTriggers__),s(e),e.addEventListener("scroll",u,!0),h&&(e.__resizeTriggers__.__animationListener__=function(t){t.animationName==v&&s(e)},e.__resizeTriggers__.addEventListener(h,e.__resizeTriggers__.__animationListener__))}e.__resizeListeners__.push(t)}},removeResizeListener:function(t,e){if(a)t.detachEvent("onresize",e);else if(t.__resizeListeners__.splice(t.__resizeListeners__.indexOf(e),1),!t.__resizeListeners__.length){t.removeEventListener("scroll",u,!0),t.__resizeTriggers__.__animationListener__&&(t.__resizeTriggers__.removeEventListener(h,t.__resizeTriggers__.__animationListener__),t.__resizeTriggers__.__animationListener__=null);try{t.__resizeTriggers__=!t.removeChild(t.__resizeTriggers__)}catch(t){}}}}}(t),this._detectElementResize.addResizeListener(this._parentNode,this._onResize),this._onResize())}},{key:"componentWillUnmount",value:function(){this._detectElementResize&&this._parentNode&&this._detectElementResize.removeResizeListener(this._parentNode,this._onResize)}},{key:"render",value:function(){var t=this.props,e=t.children,n=t.className,r=t.disableHeight,o=t.disableWidth,i=t.style,a=this.state,s=a.height,u=a.width,c={overflow:"visible"},l={},h=!1;return r||(0===s&&(h=!0),c.height=0,l.height=s),o||(0===u&&(h=!0),c.width=0,l.width=u),Object(p.createElement)("div",{className:n,ref:this._setRef,style:f({},c,i)},!h&&e(l))}}]),i}();t.defaultProps={onResize:function(){},disableHeight:!1,disableWidth:!1,style:{}},n.a=t}).call(this,r(27))},function(t,e,n){"use strict";var c={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},l={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},h=Object.defineProperty,p=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,y=Object.getPrototypeOf,v=y&&y(Object);t.exports=function t(e,n,r){if("string"==typeof n)return e;if(v){var o=y(n);o&&o!==v&&t(e,o,r)}var i=p(n);f&&(i=i.concat(f(n)));for(var a=0;a<i.length;++a){var s=i[a];if(!(c[s]||l[s]||r&&r[s])){var u=d(n,s);try{h(e,s,u)}catch(t){}}}return e}},function(t,e,n){var r;!function(){"use strict";var a={}.hasOwnProperty;function s(){for(var t=[],e=0;e<arguments.length;e++){var n=arguments[e];if(n){var r=typeof n;if("string"===r||"number"===r)t.push(n);else if(Array.isArray(n)&&n.length){var o=s.apply(null,n);o&&t.push(o)}else if("object"===r)for(var i in n)a.call(n,i)&&n[i]&&t.push(i)}}return t.join(" ")}void 0!==t&&t.exports?(s.default=s,t.exports=s):void 0===(r=function(){return s}.apply(e,[]))||(t.exports=r)}()},function(t,e,n){"use strict";function C(){return(C=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var i=n(22),c=function(t,e){return t===e},s=function(r){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:c,o=void 0,i=[],a=void 0,s=!1,u=function(t,e){return n(t,i[e])};return function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return s&&o===this&&e.length===i.length&&e.every(u)?a:(s=!0,o=this,i=e,a=r.apply(this,e))}},S=n(0);n.d(e,"a",function(){return b});var T=function(t,e){return t};var r,o,a,u,x,l,h,p,f,d,y,v,_=function(t,e,n){var r=t.itemSize,o=n.itemMetadataMap,i=n.lastMeasuredIndex;if(i<e){var a=0;if(0<=i){var s=o[i];a=s.offset+s.size}for(var u=i+1;u<=e;u++){var c=r(u);o[u]={offset:a,size:c},a+=c}n.lastMeasuredIndex=e}return o[e]},g=function(t,e,n,r,o){for(;r<=n;){var i=r+Math.floor((n-r)/2),a=_(t,i,e).offset;if(a===o)return i;a<o?r=i+1:o<a&&(n=i-1)}return 0<r?r-1:0},m=function(t,e){var n=t.itemCount,r=e.itemMetadataMap,o=e.estimatedItemSize,i=e.lastMeasuredIndex,a=0;if(0<=i){var s=r[i];a=s.offset+s.size}return a+(n-i-1)*o},b=(u=(r={getItemOffset:function(t,e,n){return _(t,e,n).offset},getItemSize:function(t,e,n){return n.itemMetadataMap[e].size},getEstimatedTotalSize:m,getOffsetForIndexAndAlignment:function(t,e,n,r,o){var i=t.direction,a=t.height,s=t.width,u="horizontal"===i?s:a,c=_(t,e,o),l=m(t,o),h=Math.max(0,Math.min(l-u,c.offset)),p=Math.max(0,c.offset-u+c.size);switch(n){case"start":return h;case"end":return p;case"center":return Math.round(p+(h-p)/2);case"auto":default:return p<=r&&r<=h?r:r-p<h-r?p:h}},getStartIndexForOffset:function(t,e,n){return r=t,i=e,a=(o=n).itemMetadataMap,(0<(s=o.lastMeasuredIndex)?a[s].offset:0)>=i?g(r,o,s,0,i):function(t,e,n,r){for(var o=t.itemCount,i=1;n<o&&_(t,n,e).offset<r;)n+=i,i*=2;return g(t,e,Math.min(n,o-1),Math.floor(n/2),r)}(r,o,Math.max(0,s),i);var r,o,i,a,s},getStopIndexForStartIndex:function(t,e,n,r){for(var o=t.direction,i=t.height,a=t.itemCount,s=t.width,u="horizontal"===o?s:i,c=_(t,e,r),l=n+u,h=c.offset+c.size,p=e;p<a-1&&h<l;)h+=_(t,++p,r).size;return p},initInstanceProps:function(t,n){var r={itemMetadataMap:{},estimatedItemSize:t.estimatedItemSize||50,lastMeasuredIndex:-1};return n.resetAfterIndex=function(t,e){void 0===e&&(e=!0),r.lastMeasuredIndex=Math.min(r.lastMeasuredIndex,t-1),n._getItemStyleCache(-1),e&&n.forceUpdate()},r},shouldResetStyleCacheOnItemSizeChange:!1,validateProps:function(t){t.itemSize}}).getItemOffset,x=r.getEstimatedTotalSize,l=r.getItemSize,h=r.getOffsetForIndexAndAlignment,p=r.getStartIndexForOffset,f=r.getStopIndexForStartIndex,d=r.initInstanceProps,y=r.shouldResetStyleCacheOnItemSizeChange,v=r.validateProps,a=o=function(e){function t(t){var a;return(a=e.call(this,t)||this)._instanceProps=d(a.props,Object(i.a)(Object(i.a)(a))),a._outerRef=void 0,a._resetIsScrollingTimeoutId=null,a.state={isScrolling:!1,scrollDirection:"forward",scrollOffset:"number"==typeof a.props.initialScrollOffset?a.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},a._callOnItemsRendered=void 0,a._callOnItemsRendered=s(function(t,e,n,r){return a.props.onItemsRendered({overscanStartIndex:t,overscanStopIndex:e,visibleStartIndex:n,visibleStopIndex:r})}),a._callOnScroll=void 0,a._callOnScroll=s(function(t,e,n){return a.props.onScroll({scrollDirection:t,scrollOffset:e,scrollUpdateWasRequested:n})}),a._getItemStyle=void 0,a._getItemStyle=function(t){var e,n=a.props,r=n.direction,o=n.itemSize,i=a._getItemStyleCache(y&&o);return i.hasOwnProperty(t)?e=i[t]:i[t]=e={position:"absolute",left:"horizontal"===r?u(a.props,t,a._instanceProps):0,top:"vertical"===r?u(a.props,t,a._instanceProps):0,height:"vertical"===r?l(a.props,t,a._instanceProps):"100%",width:"horizontal"===r?l(a.props,t,a._instanceProps):"100%"},e},a._getItemStyleCache=void 0,a._getItemStyleCache=s(function(t){return{}}),a._onScrollHorizontal=function(t){var e=t.currentTarget.scrollLeft;a.setState(function(t){return t.scrollOffset===e?null:{isScrolling:!0,scrollDirection:t.scrollOffset<e?"forward":"backward",scrollOffset:e,scrollUpdateWasRequested:!1}},a._resetIsScrollingDebounced)},a._onScrollVertical=function(t){var e=t.currentTarget.scrollTop;a.setState(function(t){return t.scrollOffset===e?null:{isScrolling:!0,scrollDirection:t.scrollOffset<e?"forward":"backward",scrollOffset:e,scrollUpdateWasRequested:!1}},a._resetIsScrollingDebounced)},a._outerRefSetter=function(t){var e=a.props.outerRef;a._outerRef=t,"function"==typeof e?e(t):null!=e&&"object"==typeof e&&e.hasOwnProperty("current")&&(e.current=t)},a._resetIsScrollingDebounced=function(){null!==a._resetIsScrollingTimeoutId&&clearTimeout(a._resetIsScrollingTimeoutId),a._resetIsScrollingTimeoutId=setTimeout(a._resetIsScrolling,150)},a._resetIsScrolling=function(){a._resetIsScrollingTimeoutId=null,a.setState({isScrolling:!1},function(){a._getItemStyleCache(-1)})},a}var n,r;r=e,(n=t).prototype=Object.create(r.prototype),(n.prototype.constructor=n).__proto__=r,t.getDerivedStateFromProps=function(t,e){return(n=t).children,n.direction,n.height,n.width,v(t),null;var n};var o=t.prototype;return o.scrollTo=function(e){this.setState(function(t){return{scrollDirection:t.scrollOffset<e?"forward":"backward",scrollOffset:e,scrollUpdateWasRequested:!0}},this._resetIsScrollingDebounced)},o.scrollToItem=function(t,e){void 0===e&&(e="auto");var n=this.state.scrollOffset;this.scrollTo(h(this.props,t,e,n,this._instanceProps))},o.componentDidMount=function(){var t=this.props,e=t.initialScrollOffset,n=t.direction;"number"==typeof e&&null!==this._outerRef&&("horizontal"===n?this._outerRef.scrollLeft=e:this._outerRef.scrollTop=e),this._callPropsCallbacks()},o.componentDidUpdate=function(){var t=this.props.direction,e=this.state,n=e.scrollOffset;e.scrollUpdateWasRequested&&null!==this._outerRef&&("horizontal"===t?this._outerRef.scrollLeft=n:this._outerRef.scrollTop=n),this._callPropsCallbacks()},o.componentWillUnmount=function(){null!==this._resetIsScrollingTimeoutId&&clearTimeout(this._resetIsScrollingTimeoutId)},o.render=function(){var t=this.props,e=t.children,n=t.className,r=t.direction,o=t.height,i=t.innerRef,a=t.innerTagName,s=t.itemCount,u=t.itemData,c=t.itemKey,l=void 0===c?T:c,h=t.outerTagName,p=t.style,f=t.useIsScrolling,d=t.width,y=this.state.isScrolling,v="vertical"===r?this._onScrollVertical:this._onScrollHorizontal,_=this._getRangeToRender(),g=_[0],m=_[1],b=[];if(0<s)for(var E=g;E<=m;E++)b.push(Object(S.createElement)(e,{data:u,key:l(E,u),index:E,isScrolling:f?y:void 0,style:this._getItemStyle(E)}));var w=x(this.props,this._instanceProps);return Object(S.createElement)(h,{className:n,onScroll:v,ref:this._outerRefSetter,style:C({position:"relative",height:o,width:d,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform"},p)},Object(S.createElement)(a,{children:b,ref:i,style:{height:"horizontal"===r?"100%":w,pointerEvents:y?"none":"",width:"horizontal"===r?w:"100%"}}))},o._callPropsCallbacks=function(){if("function"==typeof this.props.onItemsRendered&&0<this.props.itemCount){var t=this._getRangeToRender(),e=t[0],n=t[1],r=t[2],o=t[3];this._callOnItemsRendered(e,n,r,o)}if("function"==typeof this.props.onScroll){var i=this.state,a=i.scrollDirection,s=i.scrollOffset,u=i.scrollUpdateWasRequested;this._callOnScroll(a,s,u)}},o._getRangeToRender=function(){var t=this.props,e=t.itemCount,n=t.overscanCount,r=this.state,o=r.scrollDirection,i=r.scrollOffset;if(0===e)return[0,0,0,0];var a=p(this.props,i,this._instanceProps),s=f(this.props,a,i,this._instanceProps),u="backward"===o?Math.max(1,n):1,c="forward"===o?Math.max(1,n):1;return[Math.max(0,a-u),Math.max(0,Math.min(e-1,s+c)),a,s]},t}(S.PureComponent),o.defaultProps={direction:"vertical",innerTagName:"div",itemData:void 0,outerTagName:"div",overscanCount:2,useIsScrolling:!1},a)},function(t,e,n){"use strict";function r(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}n.d(e,"a",function(){return r})},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t){return(o="function"==typeof Symbol&&"symbol"===r(Symbol.iterator)?function(t){return r(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":r(t)})(t)}function i(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}n.d(e,"a",function(){return i})},function(t,e,n){"use strict";function r(t,e){return(r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}n.d(e,"a",function(){return o})},,,,function(t,e,n){var r=function(){return this||"object"==typeof self&&self}()||Function("return this")(),o=r.regeneratorRuntime&&0<=Object.getOwnPropertyNames(r).indexOf("regeneratorRuntime"),i=o&&r.regeneratorRuntime;if(r.regeneratorRuntime=void 0,t.exports=n(93),o)r.regeneratorRuntime=i;else try{delete r.regeneratorRuntime}catch(t){r.regeneratorRuntime=void 0}},function(k,t){!function(t){"use strict";var u,e=Object.prototype,c=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",r=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag",a="object"==typeof k,s=t.regeneratorRuntime;if(s)a&&(k.exports=s);else{(s=t.regeneratorRuntime=a?k.exports:{}).wrap=m;var h="suspendedStart",p="suspendedYield",f="executing",d="completed",y={},l={};l[o]=function(){return this};var v=Object.getPrototypeOf,_=v&&v(v(R([])));_&&_!==e&&c.call(_,o)&&(l=_);var g=C.prototype=E.prototype=Object.create(l);w.prototype=g.constructor=C,C.constructor=w,C[i]=w.displayName="GeneratorFunction",s.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},s.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,C):(t.__proto__=C,i in t||(t[i]="GeneratorFunction")),t.prototype=Object.create(g),t},s.awrap=function(t){return{__await:t}},S(T.prototype),T.prototype[r]=function(){return this},s.AsyncIterator=T,s.async=function(t,e,n,r){var o=new T(m(t,e,n,r));return s.isGeneratorFunction(e)?o:o.next().then(function(t){return t.done?t.value:o.next()})},S(g),g[i]="Generator",g[o]=function(){return this},g.toString=function(){return"[object Generator]"},s.keys=function(n){var r=[];for(var t in n)r.push(t);return r.reverse(),function t(){for(;r.length;){var e=r.pop();if(e in n)return t.value=e,t.done=!1,t}return t.done=!0,t}},s.values=R,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=u,this.done=!1,this.delegate=null,this.method="next",this.arg=u,this.tryEntries.forEach(N),!t)for(var e in this)"t"===e.charAt(0)&&c.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=u)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var r=this;function t(t,e){return i.type="throw",i.arg=n,r.next=t,e&&(r.method="next",r.arg=u),!!e}for(var e=this.tryEntries.length-1;0<=e;--e){var o=this.tryEntries[e],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var a=c.call(o,"catchLoc"),s=c.call(o,"finallyLoc");if(a&&s){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;0<=n;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&c.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),N(n),y}},catch:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;N(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:R(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=u),y}}}function m(t,e,n,r){var i,a,s,u,o=e&&e.prototype instanceof E?e:E,c=Object.create(o.prototype),l=new P(r||[]);return c._invoke=(i=t,a=n,s=l,u=h,function(t,e){if(u===f)throw new Error("Generator is already running");if(u===d){if("throw"===t)throw e;return I()}for(s.method=t,s.arg=e;;){var n=s.delegate;if(n){var r=x(n,s);if(r){if(r===y)continue;return r}}if("next"===s.method)s.sent=s._sent=s.arg;else if("throw"===s.method){if(u===h)throw u=d,s.arg;s.dispatchException(s.arg)}else"return"===s.method&&s.abrupt("return",s.arg);u=f;var o=b(i,a,s);if("normal"===o.type){if(u=s.done?d:p,o.arg===y)continue;return{value:o.arg,done:s.done}}"throw"===o.type&&(u=d,s.method="throw",s.arg=o.arg)}}),c}function b(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}function E(){}function w(){}function C(){}function S(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function T(u){var e;this._invoke=function(n,r){function t(){return new Promise(function(t,e){!function e(t,n,r,o){var i=b(u[t],u,n);if("throw"!==i.type){var a=i.arg,s=a.value;return s&&"object"==typeof s&&c.call(s,"__await")?Promise.resolve(s.__await).then(function(t){e("next",t,r,o)},function(t){e("throw",t,r,o)}):Promise.resolve(s).then(function(t){a.value=t,r(a)},function(t){return e("throw",t,r,o)})}o(i.arg)}(n,r,t,e)})}return e=e?e.then(t,t):t()}}function x(t,e){var n=t.iterator[e.method];if(n===u){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=u,x(t,e),"throw"===e.method))return y;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return y}var r=b(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,y;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=u),e.delegate=null,y):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,y)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function N(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function R(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(c.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=u,t.done=!0,t};return r.next=r}}return{next:I}}function I(){return{value:u,done:!0}}}(function(){return this||"object"==typeof self&&self}()||Function("return this")())},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0,function(t){if(t&&t.__esModule)return;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}e.default=t}(n(2));var r=s(n(97)),o=s(n(100)),i=s(n(0)),a=s(n(60));function s(t){return t&&t.__esModule?t:{default:t}}function u(){return(u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}n(62);var c=function(e,t){return e&&t&&t.split(" ").forEach(function(t){return(0,r.default)(e,t)})},l=function(e,t){return e&&t&&t.split(" ").forEach(function(t){return(0,o.default)(e,t)})},h=function(o){var t,e;function n(){for(var r,t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return(r=o.call.apply(o,[this].concat(e))||this).onEnter=function(t,e){var n=r.getClassNames(e?"appear":"enter").className;r.removeClasses(t,"exit"),c(t,n),r.props.onEnter&&r.props.onEnter(t)},r.onEntering=function(t,e){var n=r.getClassNames(e?"appear":"enter").activeClassName;r.reflowAndAddClass(t,n),r.props.onEntering&&r.props.onEntering(t)},r.onEntered=function(t,e){var n=r.getClassNames("enter").doneClassName;r.removeClasses(t,e?"appear":"enter"),c(t,n),r.props.onEntered&&r.props.onEntered(t)},r.onExit=function(t){var e=r.getClassNames("exit").className;r.removeClasses(t,"appear"),r.removeClasses(t,"enter"),c(t,e),r.props.onExit&&r.props.onExit(t)},r.onExiting=function(t){var e=r.getClassNames("exit").activeClassName;r.reflowAndAddClass(t,e),r.props.onExiting&&r.props.onExiting(t)},r.onExited=function(t){var e=r.getClassNames("exit").doneClassName;r.removeClasses(t,"exit"),c(t,e),r.props.onExited&&r.props.onExited(t)},r.getClassNames=function(t){var e=r.props.classNames,n="string"!=typeof e?e[t]:e+"-"+t;return{className:n,activeClassName:"string"!=typeof e?e[t+"Active"]:n+"-active",doneClassName:"string"!=typeof e?e[t+"Done"]:n+"-done"}},r}e=o,(t=n).prototype=Object.create(e.prototype),(t.prototype.constructor=t).__proto__=e;var r=n.prototype;return r.removeClasses=function(t,e){var n=this.getClassNames(e),r=n.className,o=n.activeClassName,i=n.doneClassName;r&&l(t,r),o&&l(t,o),i&&l(t,i)},r.reflowAndAddClass=function(t,e){e&&(t&&t.scrollTop,c(t,e))},r.render=function(){var t=u({},this.props);return delete t.classNames,i.default.createElement(a.default,u({},t,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},n}(i.default.Component);h.propTypes={};var p=h;e.default=p,t.exports=e.default},function(t,e,n){"use strict";var s=n(96);function r(){}t.exports=function(){function t(t,e,n,r,o,i){if(i!==s){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function e(){return t}var n={array:t.isRequired=t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e};return n.checkPropTypes=r,n.PropTypes=n}},function(t,e,n){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(t,e,n){"use strict";var r=n(98);e.__esModule=!0,e.default=function(t,e){t.classList?t.classList.add(e):(0,o.default)(t,e)||("string"==typeof t.className?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))};var o=r(n(99));t.exports=e.default},function(t,e){t.exports=function(t){return t&&t.__esModule?t:{default:t}}},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t,e){return t.classList?!!e&&t.classList.contains(e):-1!==(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")},t.exports=e.default},function(t,e,n){"use strict";function r(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}t.exports=function(t,e){t.classList?t.classList.remove(e):"string"==typeof t.className?t.className=r(t.className,e):t.setAttribute("class",r(t.className&&t.className.baseVal||"",e))}},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0,r(n(2));var s=r(n(0)),a=n(0),u=r(n(63));function r(t){return t&&t.__esModule?t:{default:t}}var o=function(o){var t,e;function n(){for(var r,t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return(r=o.call.apply(o,[this].concat(e))||this).handleEnter=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return r.handleLifecycle("onEnter",0,e)},r.handleEntering=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return r.handleLifecycle("onEntering",0,e)},r.handleEntered=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return r.handleLifecycle("onEntered",0,e)},r.handleExit=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return r.handleLifecycle("onExit",1,e)},r.handleExiting=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return r.handleLifecycle("onExiting",1,e)},r.handleExited=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return r.handleLifecycle("onExited",1,e)},r}e=o,(t=n).prototype=Object.create(e.prototype),(t.prototype.constructor=t).__proto__=e;var r=n.prototype;return r.handleLifecycle=function(t,e,n){var r,o=this.props.children,i=s.default.Children.toArray(o)[e];i.props[t]&&(r=i.props)[t].apply(r,n),this.props[t]&&this.props[t]((0,a.findDOMNode)(this))},r.render=function(){var t=this.props,e=t.children,n=t.in,r=function(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],0<=e.indexOf(n)||(o[n]=t[n]);return o}(t,["children","in"]),o=s.default.Children.toArray(e),i=o[0],a=o[1];return delete r.onEnter,delete r.onEntering,delete r.onEntered,delete r.onExit,delete r.onExiting,delete r.onExited,s.default.createElement(u.default,r,n?s.default.cloneElement(i,{key:"first",onEnter:this.handleEnter,onEntering:this.handleEntering,onEntered:this.handleEntered}):s.default.cloneElement(a,{key:"second",onEnter:this.handleExit,onEntering:this.handleExiting,onEntered:this.handleExited}))},n}(s.default.Component);o.propTypes={};var i=o;e.default=i,t.exports=e.default},function(t,e,n){"use strict";e.__esModule=!0,e.getChildMapping=r,e.mergeChildMappings=o,e.getInitialChildMapping=function(e,n){return r(e.children,function(t){return(0,h.cloneElement)(t,{onExited:n.bind(null,t),in:!0,appear:p(t,"appear",e),enter:p(t,"enter",e),exit:p(t,"exit",e)})})},e.getNextChildMapping=function(a,s,u){var c=r(a.children),l=o(s,c);return Object.keys(l).forEach(function(t){var e=l[t];if((0,h.isValidElement)(e)){var n=t in s,r=t in c,o=s[t],i=(0,h.isValidElement)(o)&&!o.props.in;!r||n&&!i?r||!n||i?r&&n&&(0,h.isValidElement)(o)&&(l[t]=(0,h.cloneElement)(e,{onExited:u.bind(null,e),in:o.props.in,exit:p(e,"exit",a),enter:p(e,"enter",a)})):l[t]=(0,h.cloneElement)(e,{in:!1}):l[t]=(0,h.cloneElement)(e,{onExited:u.bind(null,e),in:!0,exit:p(e,"exit",a),enter:p(e,"enter",a)})}}),l};var h=n(0);function r(t,n){var r=Object.create(null);return t&&h.Children.map(t,function(t){return t}).forEach(function(t){var e;r[t.key]=(e=t,n&&(0,h.isValidElement)(e)?n(e):e)}),r}function o(e,n){function t(t){return t in n?n[t]:e[t]}e=e||{},n=n||{};var r,o=Object.create(null),i=[];for(var a in e)a in n?i.length&&(o[a]=i,i=[]):i.push(a);var s={};for(var u in n){if(o[u])for(r=0;r<o[u].length;r++){var c=o[u][r];s[o[u][r]]=t(c)}s[u]=t(u)}for(r=0;r<i.length;r++)s[i[r]]=t(i[r]);return s}function p(t,e,n){return null!=n[e]?n[e]:t.props[e]}},function(t,e,n){"use strict";n.r(e),n(104),n(105),n(108),n(113),n(115),n(120),n(125),n(128),n(140)},function(t,e){!function(t){"use strict";if(!t.fetch){var e="URLSearchParams"in t,n="Symbol"in t&&"iterator"in Symbol,a="FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),r="FormData"in t,o="ArrayBuffer"in t;if(o)var i=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],s=function(t){return t&&DataView.prototype.isPrototypeOf(t)},u=ArrayBuffer.isView||function(t){return t&&-1<i.indexOf(Object.prototype.toString.call(t))};d.prototype.append=function(t,e){t=h(t),e=p(e);var n=this.map[t];this.map[t]=n?n+","+e:e},d.prototype.delete=function(t){delete this.map[h(t)]},d.prototype.get=function(t){return t=h(t),this.has(t)?this.map[t]:null},d.prototype.has=function(t){return this.map.hasOwnProperty(h(t))},d.prototype.set=function(t,e){this.map[h(t)]=p(e)},d.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},d.prototype.keys=function(){var n=[];return this.forEach(function(t,e){n.push(e)}),f(n)},d.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),f(e)},d.prototype.entries=function(){var n=[];return this.forEach(function(t,e){n.push([e,t])}),f(n)},n&&(d.prototype[Symbol.iterator]=d.prototype.entries);var c=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];b.prototype.clone=function(){return new b(this,{body:this._bodyInit})},m.call(b.prototype),m.call(w.prototype),w.prototype.clone=function(){return new w(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new d(this.headers),url:this.url})},w.error=function(){var t=new w(null,{status:0,statusText:""});return t.type="error",t};var l=[301,302,303,307,308];w.redirect=function(t,e){if(-1===l.indexOf(e))throw new RangeError("Invalid status code");return new w(null,{status:e,headers:{location:t}})},t.Headers=d,t.Request=b,t.Response=w,t.fetch=function(n,o){return new Promise(function(r,t){var e=new b(n,o),i=new XMLHttpRequest;i.onload=function(){var t,o,e={status:i.status,statusText:i.statusText,headers:(t=i.getAllResponseHeaders()||"",o=new d,t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(t){var e=t.split(":"),n=e.shift().trim();if(n){var r=e.join(":").trim();o.append(n,r)}}),o)};e.url="responseURL"in i?i.responseURL:e.headers.get("X-Request-URL");var n="response"in i?i.response:i.responseText;r(new w(n,e))},i.onerror=function(){t(new TypeError("Network request failed"))},i.ontimeout=function(){t(new TypeError("Network request failed"))},i.open(e.method,e.url,!0),"include"===e.credentials?i.withCredentials=!0:"omit"===e.credentials&&(i.withCredentials=!1),"responseType"in i&&a&&(i.responseType="blob"),e.headers.forEach(function(t,e){i.setRequestHeader(e,t)}),i.send(void 0===e._bodyInit?null:e._bodyInit)})},t.fetch.polyfill=!0}function h(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function p(t){return"string"!=typeof t&&(t=String(t)),t}function f(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return n&&(t[Symbol.iterator]=function(){return t}),t}function d(e){this.map={},e instanceof d?e.forEach(function(t,e){this.append(e,t)},this):Array.isArray(e)?e.forEach(function(t){this.append(t[0],t[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function y(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function v(n){return new Promise(function(t,e){n.onload=function(){t(n.result)},n.onerror=function(){e(n.error)}})}function _(t){var e=new FileReader,n=v(e);return e.readAsArrayBuffer(t),n}function g(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function m(){return this.bodyUsed=!1,this._initBody=function(t){if(this._bodyInit=t)if("string"==typeof t)this._bodyText=t;else if(a&&Blob.prototype.isPrototypeOf(t))this._bodyBlob=t;else if(r&&FormData.prototype.isPrototypeOf(t))this._bodyFormData=t;else if(e&&URLSearchParams.prototype.isPrototypeOf(t))this._bodyText=t.toString();else if(o&&a&&s(t))this._bodyArrayBuffer=g(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!o||!ArrayBuffer.prototype.isPrototypeOf(t)&&!u(t))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=g(t)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):e&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},a&&(this.blob=function(){var t=y(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?y(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(_)}),this.text=function(){var t,e,n,r=y(this);if(r)return r;if(this._bodyBlob)return t=this._bodyBlob,e=new FileReader,n=v(e),e.readAsText(t),n;if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),n=new Array(e.length),r=0;r<e.length;r++)n[r]=String.fromCharCode(e[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},r&&(this.formData=function(){return this.text().then(E)}),this.json=function(){return this.text().then(JSON.parse)},this}function b(t,e){var n,r,o=(e=e||{}).body;if(t instanceof b){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new d(t.headers)),this.method=t.method,this.mode=t.mode,o||null==t._bodyInit||(o=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"omit",!e.headers&&this.headers||(this.headers=new d(e.headers)),this.method=(n=e.method||this.method||"GET",r=n.toUpperCase(),-1<c.indexOf(r)?r:n),this.mode=e.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&o)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(o)}function E(t){var o=new FormData;return t.trim().split("&").forEach(function(t){if(t){var e=t.split("="),n=e.shift().replace(/\+/g," "),r=e.join("=").replace(/\+/g," ");o.append(decodeURIComponent(n),decodeURIComponent(r))}}),o}function w(t,e){e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=200<=this.status&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new d(e.headers),this.url=e.url||"",this._initBody(t)}}("undefined"!=typeof self?self:this)},function(t,e,n){"use strict";(function(e,t){var n=setTimeout;function r(){}function i(t){if(!(this instanceof i))throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],l(t,this)}function o(n,r){for(;3===n._state;)n=n._value;0!==n._state?(n._handled=!0,i._immediateFn(function(){var t=1===n._state?r.onFulfilled:r.onRejected;if(null!==t){var e;try{e=t(n._value)}catch(t){return void s(r.promise,t)}a(r.promise,e)}else(1===n._state?a:s)(r.promise,n._value)})):n._deferreds.push(r)}function a(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof i)return e._state=3,e._value=t,void u(e);if("function"==typeof n)return void l((r=n,o=t,function(){r.apply(o,arguments)}),e)}e._state=1,e._value=t,u(e)}catch(t){s(e,t)}var r,o}function s(t,e){t._state=2,t._value=e,u(t)}function u(t){2===t._state&&0===t._deferreds.length&&i._immediateFn(function(){t._handled||i._unhandledRejectionFn(t._value)});for(var e=0,n=t._deferreds.length;e<n;e++)o(t,t._deferreds[e]);t._deferreds=null}function c(t,e,n){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=n}function l(t,e){var n=!1;try{t(function(t){n||(n=!0,a(e,t))},function(t){n||(n=!0,s(e,t))})}catch(t){if(n)return;n=!0,s(e,t)}}i.prototype.catch=function(t){return this.then(null,t)},i.prototype.then=function(t,e){var n=new this.constructor(r);return o(this,new c(t,e,n)),n},i.prototype.finally=function(e){var n=this.constructor;return this.then(function(t){return n.resolve(e()).then(function(){return t})},function(t){return n.resolve(e()).then(function(){return n.reject(t)})})},i.all=function(e){return new i(function(r,o){if(!e||void 0===e.length)throw new TypeError("Promise.all accepts an array");var i=Array.prototype.slice.call(e);if(0===i.length)return r([]);var a=i.length;function s(e,t){try{if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if("function"==typeof n)return void n.call(t,function(t){s(e,t)},o)}i[e]=t,0==--a&&r(i)}catch(t){o(t)}}for(var t=0;t<i.length;t++)s(t,i[t])})},i.resolve=function(e){return e&&"object"==typeof e&&e.constructor===i?e:new i(function(t){t(e)})},i.reject=function(n){return new i(function(t,e){e(n)})},i.race=function(o){return new i(function(t,e){for(var n=0,r=o.length;n<r;n++)o[n].then(t,e)})},i._immediateFn="function"==typeof e&&function(t){e(t)}||function(t){n(t,0)},i._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)};var h=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==t)return t;throw new Error("unable to locate global object")}();h.Promise||(h.Promise=i)}).call(this,n(106).setImmediate,n(27))},function(t,o,i){(function(t){var e=void 0!==t&&t||"undefined"!=typeof self&&self||window,n=Function.prototype.apply;function r(t,e){this._id=t,this._clearFn=e}o.setTimeout=function(){return new r(n.call(setTimeout,e,arguments),clearTimeout)},o.setInterval=function(){return new r(n.call(setInterval,e,arguments),clearInterval)},o.clearTimeout=o.clearInterval=function(t){t&&t.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(e,this._id)},o.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},o.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},o._unrefActive=o.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;0<=e&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},i(107),o.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,o.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,i(27))},function(t,e,n){(function(t,d){!function(n,r){"use strict";if(!n.setImmediate){var o,i=1,a={},s=!1,u=n.document,t=Object.getPrototypeOf&&Object.getPrototypeOf(n);t=t&&t.setTimeout?t:n,"[object process]"==={}.toString.call(n.process)?o=function(t){d.nextTick(function(){f(t)})}:function(){if(n.postMessage&&!n.importScripts){var t=!0,e=n.onmessage;return n.onmessage=function(){t=!1},n.postMessage("","*"),n.onmessage=e,t}}()?(l="setImmediate$"+Math.random()+"$",h=function(t){t.source===n&&"string"==typeof t.data&&0===t.data.indexOf(l)&&f(+t.data.slice(l.length))},n.addEventListener?n.addEventListener("message",h,!1):n.attachEvent("onmessage",h),o=function(t){n.postMessage(l+t,"*")}):n.MessageChannel?((e=new MessageChannel).port1.onmessage=function(t){f(t.data)},o=function(t){e.port2.postMessage(t)}):u&&"onreadystatechange"in u.createElement("script")?(c=u.documentElement,o=function(t){var e=u.createElement("script");e.onreadystatechange=function(){f(t),e.onreadystatechange=null,c.removeChild(e),e=null},c.appendChild(e)}):o=function(t){setTimeout(f,0,t)},t.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var r={callback:t,args:e};return a[i]=r,o(i),i++},t.clearImmediate=p}var c,e,l,h;function p(t){delete a[t]}function f(t){if(s)setTimeout(f,0,t);else{var e=a[t];if(e){s=!0;try{!function(t){var e=t.callback,n=t.args;switch(n.length){case 0:e();break;case 1:e(n[0]);break;case 2:e(n[0],n[1]);break;case 3:e(n[0],n[1],n[2]);break;default:e.apply(r,n)}}(e)}finally{p(t),s=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,n(27),n(64))},function(t,e,n){n(109),t.exports=n(13).Array.find},function(t,e,n){"use strict";var r=n(18),o=n(68)(5),i=!0;"find"in[]&&Array(1).find(function(){i=!1}),r(r.P+r.F*i,"Array",{find:function(t){return o(this,t,1<arguments.length?arguments[1]:void 0)}}),n(49)("find")},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){var r=n(112);t.exports=function(t,e){return new(r(t))(e)}},function(t,e,n){var r=n(20),o=n(69),i=n(11)("species");t.exports=function(t){var e;return o(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!o(e.prototype)||(e=void 0),r(e)&&null===(e=e[i])&&(e=void 0)),void 0===e?Array:e}},function(t,e,n){n(114),t.exports=n(13).Array.findIndex},function(t,e,n){"use strict";var r=n(18),o=n(68)(6),i="findIndex",a=!0;i in[]&&Array(1)[i](function(){a=!1}),r(r.P+r.F*a,"Array",{findIndex:function(t){return o(this,t,1<arguments.length?arguments[1]:void 0)}}),n(49)(i)},function(t,e,n){n(116),t.exports=n(13).Object.assign},function(t,e,n){var r=n(18);r(r.S+r.F,"Object",{assign:n(117)})},function(t,e,n){"use strict";var p=n(32),f=n(52),d=n(39),y=n(46),v=n(45),o=Object.assign;t.exports=!o||n(28)(function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach(function(t){e[t]=t}),7!=o({},t)[n]||Object.keys(o({},e)).join("")!=r})?function(t,e){for(var n=y(t),r=arguments.length,o=1,i=f.f,a=d.f;o<r;)for(var s,u=v(arguments[o++]),c=i?p(u).concat(i(u)):p(u),l=c.length,h=0;h<l;)a.call(u,s=c[h++])&&(n[s]=u[s]);return n}:o},function(t,e,n){var u=n(25),c=n(47),l=n(119);t.exports=function(s){return function(t,e,n){var r,o=u(t),i=c(o.length),a=l(n,i);if(s&&e!=e){for(;a<i;)if((r=o[a++])!=r)return!0}else for(;a<i;a++)if((s||a in o)&&o[a]===e)return s||a||0;return!s&&-1}}},function(t,e,n){var r=n(38),o=Math.max,i=Math.min;t.exports=function(t,e){return(t=r(t))<0?o(t+e,0):i(t,e)}},function(t,e,n){n(121),t.exports=n(13).String.startsWith},function(t,e,n){"use strict";var r=n(18),o=n(47),i=n(122),a="".startsWith;r(r.P+r.F*n(124)("startsWith"),"String",{startsWith:function(t){var e=i(this,t,"startsWith"),n=o(Math.min(1<arguments.length?arguments[1]:void 0,e.length)),r=String(t);return a?a.call(e,r,n):e.slice(n,n+r.length)===r}})},function(t,e,n){var r=n(123),o=n(31);t.exports=function(t,e,n){if(r(e))throw TypeError("String#"+n+" doesn't accept regex!");return String(o(t))}},function(t,e,n){var r=n(20),o=n(37),i=n(11)("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[i])?!!e:"RegExp"==o(t))}},function(t,e,n){var r=n(11)("match");t.exports=function(e){var n=/./;try{"/./"[e](n)}catch(t){try{return n[r]=!1,!"/./"[e](n)}catch(t){}}return!0}},function(t,e,n){n(126),t.exports=n(13).String.repeat},function(t,e,n){var r=n(18);r(r.P,"String",{repeat:n(127)})},function(t,e,n){"use strict";var o=n(38),i=n(31);t.exports=function(t){var e=String(i(this)),n="",r=o(t);if(r<0||r==1/0)throw RangeError("Count can't be negative");for(;0<r;(r>>>=1)&&(e+=e))1&r&&(n+=e);return n}},function(t,e,n){n(129),n(136),n(138),n(139),t.exports=n(13).Symbol},function(t,e,n){"use strict";var r=n(12),a=n(21),o=n(24),i=n(18),s=n(29),u=n(130).KEY,c=n(28),l=n(48),h=n(53),p=n(30),f=n(11),d=n(54),y=n(55),v=n(131),_=n(69),g=n(35),m=n(20),b=n(25),E=n(44),w=n(36),C=n(71),S=n(134),T=n(135),x=n(23),O=n(32),N=T.f,P=x.f,R=S.f,I=r.Symbol,k=r.JSON,A=k&&k.stringify,D=f("_hidden"),F=f("toPrimitive"),L={}.propertyIsEnumerable,M=l("symbol-registry"),j=l("symbols"),W=l("op-symbols"),U=Object.prototype,V="function"==typeof I,q=r.QObject,B=!q||!q.prototype||!q.prototype.findChild,Q=o&&c(function(){return 7!=C(P({},"a",{get:function(){return P(this,"a",{value:7}).a}})).a})?function(t,e,n){var r=N(U,e);r&&delete U[e],P(t,e,n),r&&t!==U&&P(U,e,r)}:P,H=function(t){var e=j[t]=C(I.prototype);return e._k=t,e},z=V&&"symbol"==typeof I.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof I},$=function(t,e,n){return t===U&&$(W,e,n),g(t),e=E(e,!0),g(n),a(j,e)?(n.enumerable?(a(t,D)&&t[D][e]&&(t[D][e]=!1),n=C(n,{enumerable:w(0,!1)})):(a(t,D)||P(t,D,w(1,{})),t[D][e]=!0),Q(t,e,n)):P(t,e,n)},Y=function(t,e){g(t);for(var n,r=v(e=b(e)),o=0,i=r.length;o<i;)$(t,n=r[o++],e[n]);return t},G=function(t){var e=L.call(this,t=E(t,!0));return!(this===U&&a(j,t)&&!a(W,t))&&(!(e||!a(this,t)||!a(j,t)||a(this,D)&&this[D][t])||e)},K=function(t,e){if(t=b(t),e=E(e,!0),t!==U||!a(j,e)||a(W,e)){var n=N(t,e);return!n||!a(j,e)||a(t,D)&&t[D][e]||(n.enumerable=!0),n}},X=function(t){for(var e,n=R(b(t)),r=[],o=0;n.length>o;)a(j,e=n[o++])||e==D||e==u||r.push(e);return r},J=function(t){for(var e,n=t===U,r=R(n?W:b(t)),o=[],i=0;r.length>i;)!a(j,e=r[i++])||n&&!a(U,e)||o.push(j[e]);return o};V||(s((I=function(){if(this instanceof I)throw TypeError("Symbol is not a constructor!");var n=p(0<arguments.length?arguments[0]:void 0);return o&&B&&Q(U,n,{configurable:!0,set:function t(e){this===U&&t.call(W,e),a(this,D)&&a(this[D],n)&&(this[D][n]=!1),Q(this,n,w(1,e))}}),H(n)}).prototype,"toString",function(){return this._k}),T.f=K,x.f=$,n(72).f=S.f=X,n(39).f=G,n(52).f=J,o&&!n(56)&&s(U,"propertyIsEnumerable",G,!0),d.f=function(t){return H(f(t))}),i(i.G+i.W+i.F*!V,{Symbol:I});for(var Z="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),tt=0;Z.length>tt;)f(Z[tt++]);for(var et=O(f.store),nt=0;et.length>nt;)y(et[nt++]);i(i.S+i.F*!V,"Symbol",{for:function(t){return a(M,t+="")?M[t]:M[t]=I(t)},keyFor:function(t){if(!z(t))throw TypeError(t+" is not a symbol!");for(var e in M)if(M[e]===t)return e},useSetter:function(){B=!0},useSimple:function(){B=!1}}),i(i.S+i.F*!V,"Object",{create:function(t,e){return void 0===e?C(t):Y(C(t),e)},defineProperty:$,defineProperties:Y,getOwnPropertyDescriptor:K,getOwnPropertyNames:X,getOwnPropertySymbols:J}),k&&i(i.S+i.F*(!V||c(function(){var t=I();return"[null]"!=A([t])||"{}"!=A({a:t})||"{}"!=A(Object(t))})),"JSON",{stringify:function(t){for(var e,n,r=[t],o=1;arguments.length>o;)r.push(arguments[o++]);if(n=e=r[1],(m(e)||void 0!==t)&&!z(t))return _(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!z(e))return e}),r[1]=e,A.apply(k,r)}}),I.prototype[F]||n(19)(I.prototype,F,I.prototype.valueOf),h(I,"Symbol"),h(Math,"Math",!0),h(r.JSON,"JSON",!0)},function(t,e,n){var r=n(30)("meta"),o=n(20),i=n(21),a=n(23).f,s=0,u=Object.isExtensible||function(){return!0},c=!n(28)(function(){return u(Object.preventExtensions({}))}),l=function(t){a(t,r,{value:{i:"O"+ ++s,w:{}}})},h=t.exports={KEY:r,NEED:!1,fastKey:function(t,e){if(!o(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!i(t,r)){if(!u(t))return"F";if(!e)return"E";l(t)}return t[r].i},getWeak:function(t,e){if(!i(t,r)){if(!u(t))return!0;if(!e)return!1;l(t)}return t[r].w},onFreeze:function(t){return c&&h.NEED&&u(t)&&!i(t,r)&&l(t),t}}},function(t,e,n){var s=n(32),u=n(52),c=n(39);t.exports=function(t){var e=s(t),n=u.f;if(n)for(var r,o=n(t),i=c.f,a=0;o.length>a;)i.call(t,r=o[a++])&&e.push(r);return e}},function(t,e,n){var a=n(23),s=n(35),u=n(32);t.exports=n(24)?Object.defineProperties:function(t,e){s(t);for(var n,r=u(e),o=r.length,i=0;i<o;)a.f(t,n=r[i++],e[n]);return t}},function(t,e,n){var r=n(12).document;t.exports=r&&r.documentElement},function(t,e,n){var r=n(25),o=n(72).f,i={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return a&&"[object Window]"==i.call(t)?function(t){try{return o(t)}catch(t){return a.slice()}}(t):o(r(t))}},function(t,e,n){var r=n(39),o=n(36),i=n(25),a=n(44),s=n(21),u=n(65),c=Object.getOwnPropertyDescriptor;e.f=n(24)?c:function(t,e){if(t=i(t),e=a(e,!0),u)try{return c(t,e)}catch(t){}if(s(t,e))return o(!r.f.call(t,e),t[e])}},function(t,e,n){"use strict";var r=n(137),o={};o[n(11)("toStringTag")]="z",o+""!="[object z]"&&n(29)(Object.prototype,"toString",function(){return"[object "+r(this)+"]"},!0)},function(t,e,n){var o=n(37),i=n(11)("toStringTag"),a="Arguments"==o(function(){return arguments}());t.exports=function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),i))?n:a?o(e):"Object"==(r=o(e))&&"function"==typeof e.callee?"Arguments":r}},function(t,e,n){n(55)("asyncIterator")},function(t,e,n){n(55)("observable")},function(t,e,n){n(141),n(145),t.exports=n(54).f("iterator")},function(t,e,n){"use strict";var r=n(142)(!0);n(73)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=r(e,n),this._i+=t.length,{value:t,done:!1})})},function(t,e,n){var u=n(38),c=n(31);t.exports=function(s){return function(t,e){var n,r,o=String(c(t)),i=u(e),a=o.length;return i<0||a<=i?s?"":void 0:(n=o.charCodeAt(i))<55296||56319<n||i+1===a||(r=o.charCodeAt(i+1))<56320||57343<r?s?o.charAt(i):n:s?o.slice(i,i+2):r-56320+(n-55296<<10)+65536}}},function(t,e,n){"use strict";var r=n(71),o=n(36),i=n(53),a={};n(19)(a,n(11)("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=r(a,{next:o(1,n)}),i(t,e+" Iterator")}},function(t,e,n){var r=n(21),o=n(46),i=n(50)("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=o(t),r(t,i)?t[i]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},function(t,e,n){for(var r=n(146),o=n(32),i=n(29),a=n(12),s=n(19),u=n(57),c=n(11),l=c("iterator"),h=c("toStringTag"),p=u.Array,f={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},d=o(f),y=0;y<d.length;y++){var v,_=d[y],g=f[_],m=a[_],b=m&&m.prototype;if(b&&(b[l]||s(b,l,p),b[h]||s(b,h,_),u[_]=p,g))for(v in r)b[v]||i(b,v,r[v],!0)}},function(t,e,n){"use strict";var r=n(49),o=n(147),i=n(57),a=n(25);t.exports=n(73)(Array,"Array",function(t,e){this._t=a(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,o(1)):o(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])},"values"),i.Arguments=i.Array,r("keys"),r("values"),r("entries")},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){"use strict";n(149)},function(fn,dn,yn){"use strict";(function(u){Object.defineProperty(dn,"__esModule",{value:!0});var t,e,n,r,i,a,s,o,c,l,p,h,b=yn(75),f=yn(150),d=yn(76),y=(t=yn(74))&&"object"==typeof t&&"default"in t?t.default:t,v=function(){function t(t){this.domStorage_=t,this.prefix_="firebase:"}return t.prototype.set=function(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),b.stringify(e))},t.prototype.get=function(t){var e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:b.jsonEval(e)},t.prototype.remove=function(t){this.domStorage_.removeItem(this.prefixedName_(t))},t.prototype.prefixedName_=function(t){return this.prefix_+t},t.prototype.toString=function(){return this.domStorage_.toString()},t}(),_=function(){function t(){this.cache_={},this.isInMemoryStorage=!0}return t.prototype.set=function(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e},t.prototype.get=function(t){return b.contains(this.cache_,t)?this.cache_[t]:null},t.prototype.remove=function(t){delete this.cache_[t]},t}(),g=function(t){try{if("undefined"!=typeof window&&void 0!==window[t]){var e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new v(e)}}catch(t){}return new _},m=g("localStorage"),E=g("sessionStorage"),w=new f.Logger("@firebase/database"),C=(e=1,function(){return e++}),S=function(t){var e=b.stringToByteArray(t),n=new b.Sha1;n.update(e);var r=n.digest();return b.base64.encodeByteArray(r)},T=function t(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r="",o=0;o<e.length;o++)Array.isArray(e[o])||e[o]&&"object"==typeof e[o]&&"number"==typeof e[o].length?r+=t.apply(null,e[o]):"object"==typeof e[o]?r+=b.stringify(e[o]):r+=e[o],r+=" ";return r},x=null,O=!0,N=function(t,e){b.assert(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(w.logLevel=f.LogLevel.VERBOSE,x=w.log.bind(w),e&&E.set("logging_enabled",!0)):"function"==typeof t?x=t:(x=null,E.remove("logging_enabled"))},P=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!0===O&&(O=!1,null===x&&!0===E.get("logging_enabled")&&N(!0)),x){var n=T.apply(null,t);x(n)}},R=function(n){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];P.apply(void 0,[n].concat(t))}},I=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE INTERNAL ERROR: "+T.apply(void 0,t);w.error(n)},k=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE FATAL ERROR: "+T.apply(void 0,t);throw w.error(n),new Error(n)},A=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE WARNING: "+T.apply(void 0,t);w.warn(n)},D=function(t){return"number"==typeof t&&(t!=t||t==Number.POSITIVE_INFINITY||t==Number.NEGATIVE_INFINITY)},F="[MIN_NAME]",L="[MAX_NAME]",M=function(t,e){if(t===e)return 0;if(t===F||e===L)return-1;if(e===F||t===L)return 1;var n=H(t),r=H(e);return null!==n?null!==r?n-r==0?t.length-e.length:n-r:-1:null!==r?1:t<e?-1:1},j=function(t,e){return t===e?0:t<e?-1:1},W=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+b.stringify(e))},U=function t(e){if("object"!=typeof e||null===e)return b.stringify(e);var n=[];for(var r in e)n.push(r);n.sort();for(var o="{",i=0;i<n.length;i++)0!==i&&(o+=","),o+=b.stringify(n[i]),o+=":",o+=t(e[n[i]]);return o+"}"},V=function(t,e){var n=t.length;if(n<=e)return[t];for(var r=[],o=0;o<n;o+=e)n<o+e?r.push(t.substring(o,n)):r.push(t.substring(o,o+e));return r},q=function(t,n){if(Array.isArray(t))for(var e=0;e<t.length;++e)n(e,t[e]);else b.forEach(t,function(t,e){return n(e,t)})},B=function(t){var e,n,r,o,i,a,s;for(b.assert(!D(t),"Invalid JSON number"),0===t?e=1/t==-1/(r=n=0)?1:0:(e=t<0,r=(t=Math.abs(t))>=Math.pow(2,-1022)?(n=(o=Math.min(Math.floor(Math.log(t)/Math.LN2),1023))+1023,Math.round(t*Math.pow(2,52-o)-Math.pow(2,52))):(n=0,Math.round(t/Math.pow(2,-1074)))),a=[],i=52;i;i-=1)a.push(r%2?1:0),r=Math.floor(r/2);for(i=11;i;i-=1)a.push(n%2?1:0),n=Math.floor(n/2);a.push(e?1:0),a.reverse(),s=a.join("");var u="";for(i=0;i<64;i+=8){var c=parseInt(s.substr(i,8),2).toString(16);1===c.length&&(c="0"+c),u+=c}return u.toLowerCase()},Q=new RegExp("^-?\\d{1,10}$"),H=function(t){if(Q.test(t)){var e=Number(t);if(-2147483648<=e&&e<=2147483647)return e}return null},z=function(t){try{t()}catch(e){setTimeout(function(){var t=e.stack||"";throw A("Exception was thrown by user callback.",t),e},Math.floor(0))}},$=function(t,e){var n=setTimeout(t,e);return"object"==typeof n&&n.unref&&n.unref(),n},Y=function(){function o(t,e){if(void 0===e){this.pieces_=t.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)0<this.pieces_[r].length&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}return Object.defineProperty(o,"Empty",{get:function(){return new o("")},enumerable:!0,configurable:!0}),o.prototype.getFront=function(){return this.pieceNum_>=this.pieces_.length?null:this.pieces_[this.pieceNum_]},o.prototype.getLength=function(){return this.pieces_.length-this.pieceNum_},o.prototype.popFront=function(){var t=this.pieceNum_;return t<this.pieces_.length&&t++,new o(this.pieces_,t)},o.prototype.getBack=function(){return this.pieceNum_<this.pieces_.length?this.pieces_[this.pieces_.length-1]:null},o.prototype.toString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"},o.prototype.toUrlEncodedString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+encodeURIComponent(String(this.pieces_[e])));return t||"/"},o.prototype.slice=function(t){return void 0===t&&(t=0),this.pieces_.slice(this.pieceNum_+t)},o.prototype.parent=function(){if(this.pieceNum_>=this.pieces_.length)return null;for(var t=[],e=this.pieceNum_;e<this.pieces_.length-1;e++)t.push(this.pieces_[e]);return new o(t,0)},o.prototype.child=function(t){for(var e=[],n=this.pieceNum_;n<this.pieces_.length;n++)e.push(this.pieces_[n]);if(t instanceof o)for(n=t.pieceNum_;n<t.pieces_.length;n++)e.push(t.pieces_[n]);else{var r=t.split("/");for(n=0;n<r.length;n++)0<r[n].length&&e.push(r[n])}return new o(e,0)},o.prototype.isEmpty=function(){return this.pieceNum_>=this.pieces_.length},o.relativePath=function(t,e){var n=t.getFront(),r=e.getFront();if(null===n)return e;if(n===r)return o.relativePath(t.popFront(),e.popFront());throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")},o.comparePaths=function(t,e){for(var n=t.slice(),r=e.slice(),o=0;o<n.length&&o<r.length;o++){var i=M(n[o],r[o]);if(0!==i)return i}return n.length===r.length?0:n.length<r.length?-1:1},o.prototype.equals=function(t){if(this.getLength()!==t.getLength())return!1;for(var e=this.pieceNum_,n=t.pieceNum_;e<=this.pieces_.length;e++,n++)if(this.pieces_[e]!==t.pieces_[n])return!1;return!0},o.prototype.contains=function(t){var e=this.pieceNum_,n=t.pieceNum_;if(this.getLength()>t.getLength())return!1;for(;e<this.pieces_.length;){if(this.pieces_[e]!==t.pieces_[n])return!1;++e,++n}return!0},o}(),G=function(){function t(t,e){this.errorPrefix_=e,this.parts_=t.slice(),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=b.stringLength(this.parts_[n]);this.checkValid_()}return Object.defineProperty(t,"MAX_PATH_DEPTH",{get:function(){return 32},enumerable:!0,configurable:!0}),Object.defineProperty(t,"MAX_PATH_LENGTH_BYTES",{get:function(){return 768},enumerable:!0,configurable:!0}),t.prototype.push=function(t){0<this.parts_.length&&(this.byteLength_+=1),this.parts_.push(t),this.byteLength_+=b.stringLength(t),this.checkValid_()},t.prototype.pop=function(){var t=this.parts_.pop();this.byteLength_-=b.stringLength(t),0<this.parts_.length&&(this.byteLength_-=1)},t.prototype.checkValid_=function(){if(this.byteLength_>t.MAX_PATH_LENGTH_BYTES)throw new Error(this.errorPrefix_+"has a key path longer than "+t.MAX_PATH_LENGTH_BYTES+" bytes ("+this.byteLength_+").");if(this.parts_.length>t.MAX_PATH_DEPTH)throw new Error(this.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+t.MAX_PATH_DEPTH+") or object contains a cycle "+this.toErrorString())},t.prototype.toErrorString=function(){return 0==this.parts_.length?"":"in property '"+this.parts_.join(".")+"'"},t}(),K="long_polling",X=function(){function t(t,e,n,r,o){void 0===o&&(o=""),this.secure=e,this.namespace=n,this.webSocketOnly=r,this.persistenceKey=o,this.host=t.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(".")+1),this.internalHost=m.get("host:"+t)||this.host}return t.prototype.needsQueryParam=function(){return this.host!==this.internalHost||this.isCustomHost()},t.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},t.prototype.isDemoHost=function(){return"firebaseio-demo.com"===this.domain},t.prototype.isCustomHost=function(){return"firebaseio.com"!==this.domain&&"firebaseio-demo.com"!==this.domain},t.prototype.updateHost=function(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&m.set("host:"+this.host,this.internalHost))},t.prototype.connectionURL=function(t,e){var n;if(b.assert("string"==typeof t,"typeof type must == string"),b.assert("object"==typeof e,"typeof params must == object"),"websocket"===t)n=(this.secure?"wss://":"ws://")+this.internalHost+"/.ws?";else{if(t!==K)throw new Error("Unknown connection type: "+t);n=(this.secure?"https://":"http://")+this.internalHost+"/.lp?"}this.needsQueryParam()&&(e.ns=this.namespace);var r=[];return b.forEach(e,function(t,e){r.push(t+"="+e)}),n+r.join("&")},t.prototype.toString=function(){var t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t},t.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host},t}(),J=function(t){var e=Z(t),n=e.subdomain;"firebase"===e.domain&&k(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),n&&"undefined"!=n||"localhost"===e.domain||k("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&A("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var r="ws"===e.scheme||"wss"===e.scheme;return{repoInfo:new X(e.host,e.secure,n,r),path:new Y(e.pathString)}},Z=function(i){var t="",e="",n="",r="",o=!0,a="https",s=443;if("string"==typeof i){var u=i.indexOf("//");0<=u&&(a=i.substring(0,u-1),i=i.substring(u+2));var c=i.indexOf("/");-1===c&&(c=i.length);var l=i.indexOf("?");-1===l&&(l=i.length),t=i.substring(0,Math.min(c,l)),c<l&&(r=function(t){for(var e="",n=i.substring(c,l).split("/"),r=0;r<n.length;r++)if(0<n[r].length){var o=n[r];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch(t){}e+="/"+o}return e}());var h=function(t){var e={};"?"===t.charAt(0)&&(t=t.substring(1));for(var n=0,r=t.split("&");n<r.length;n++){var o=r[n];if(0!==o.length){var i=o.split("=");2===i.length?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):A("Invalid query segment '"+o+"' in query '"+t+"'")}}return e}(i.substring(Math.min(i.length,l)));0<=(u=t.indexOf(":"))?(o="https"===a||"wss"===a,s=parseInt(t.substring(u+1),10)):u=i.length;var p=t.split(".");3===p.length?(e=p[1],n=p[0].toLowerCase()):2===p.length?e=p[0]:"localhost"===p[0].slice(0,u).toLowerCase()&&(e="localhost"),""===n&&"ns"in h&&(n=h.ns)}return{host:t,port:s,domain:e,subdomain:n,secure:o,scheme:a,pathString:r}},tt=/[\[\].#$\/\u0000-\u001F\u007F]/,et=/[\[\].#$\u0000-\u001F\u007F]/,nt=function(t){return"string"==typeof t&&0!==t.length&&!tt.test(t)},rt=function(t){return"string"==typeof t&&0!==t.length&&!et.test(t)},ot=function(t){return null===t||"string"==typeof t||"number"==typeof t&&!D(t)||t&&"object"==typeof t&&b.contains(t,".sv")},it=function(t,e,n,r,o){o&&void 0===n||at(b.errorPrefix(t,e,o),n,r)},at=function n(r,t,e){var o=e instanceof Y?new G(e,r):e;if(void 0===t)throw new Error(r+"contains undefined "+o.toErrorString());if("function"==typeof t)throw new Error(r+"contains a function "+o.toErrorString()+" with contents = "+t.toString());if(D(t))throw new Error(r+"contains "+t.toString()+" "+o.toErrorString());if("string"==typeof t&&t.length>10485760/3&&10485760<b.stringLength(t))throw new Error(r+"contains a string greater than 10485760 utf8 bytes "+o.toErrorString()+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){var i=!1,a=!1;if(b.forEach(t,function(t,e){if(".value"===t)i=!0;else if(".priority"!==t&&".sv"!==t&&(a=!0,!nt(t)))throw new Error(r+" contains an invalid key ("+t+") "+o.toErrorString()+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');o.push(t),n(r,e,o),o.pop()}),i&&a)throw new Error(r+' contains ".value" child '+o.toErrorString()+" in addition to actual children.")}},st=function(t,e,n,r,o){if(!o||void 0!==n){var i=b.errorPrefix(t,e,o);if(!n||"object"!=typeof n||Array.isArray(n))throw new Error(i+" must be an object containing the children to replace.");var a=[];b.forEach(n,function(t,e){var n=new Y(t);if(at(i,e,r.child(n)),".priority"===n.getBack()&&!ot(e))throw new Error(i+"contains an invalid value for '"+n.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(n)}),function(t,e){var n,r;for(n=0;n<e.length;n++)for(var o=(r=e[n]).slice(),i=0;i<o.length;i++)if(".priority"===o[i]&&i===o.length-1);else if(!nt(o[i]))throw new Error(t+"contains an invalid key ("+o[i]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');e.sort(Y.comparePaths);var a=null;for(n=0;n<e.length;n++){if(r=e[n],null!==a&&a.contains(r))throw new Error(t+"contains a path "+a.toString()+" that is ancestor of another path "+r.toString());a=r}}(i,a)}},ut=function(t,e,n,r){if(!r||void 0!==n){if(D(n))throw new Error(b.errorPrefix(t,e,r)+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!ot(n))throw new Error(b.errorPrefix(t,e,r)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},ct=function(t,e,n,r){if(!r||void 0!==n)switch(n){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(b.errorPrefix(t,e,r)+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},lt=function(t,e,n,r){if(!(r&&void 0===n||nt(n)))throw new Error(b.errorPrefix(t,e,r)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},ht=function(t,e,n,r){if(!(r&&void 0===n||rt(n)))throw new Error(b.errorPrefix(t,e,r)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},pt=function(t,e){if(".info"===e.getFront())throw new Error(t+" failed = Can't modify data under /.info/")},ft=function(t,e,n){var r,o=n.path.toString();if("string"!=typeof n.repoInfo.host||0===n.repoInfo.host.length||!nt(n.repoInfo.namespace)&&"localhost"!==n.repoInfo.host.split(":")[0]||0!==o.length&&((r=o)&&(r=r.replace(/^\/*\.info(\/|$)/,"/")),!rt(r)))throw new Error(b.errorPrefix(t,e,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},dt=function(){function t(t,e){this.repo_=t,this.path_=e}return t.prototype.cancel=function(t){b.validateArgCount("OnDisconnect.cancel",0,1,arguments.length),b.validateCallback("OnDisconnect.cancel",1,t,!0);var e=new b.Deferred;return this.repo_.onDisconnectCancel(this.path_,e.wrapCallback(t)),e.promise},t.prototype.remove=function(t){b.validateArgCount("OnDisconnect.remove",0,1,arguments.length),pt("OnDisconnect.remove",this.path_),b.validateCallback("OnDisconnect.remove",1,t,!0);var e=new b.Deferred;return this.repo_.onDisconnectSet(this.path_,null,e.wrapCallback(t)),e.promise},t.prototype.set=function(t,e){b.validateArgCount("OnDisconnect.set",1,2,arguments.length),pt("OnDisconnect.set",this.path_),it("OnDisconnect.set",1,t,this.path_,!1),b.validateCallback("OnDisconnect.set",2,e,!0);var n=new b.Deferred;return this.repo_.onDisconnectSet(this.path_,t,n.wrapCallback(e)),n.promise},t.prototype.setWithPriority=function(t,e,n){b.validateArgCount("OnDisconnect.setWithPriority",2,3,arguments.length),pt("OnDisconnect.setWithPriority",this.path_),it("OnDisconnect.setWithPriority",1,t,this.path_,!1),ut("OnDisconnect.setWithPriority",2,e,!1),b.validateCallback("OnDisconnect.setWithPriority",3,n,!0);var r=new b.Deferred;return this.repo_.onDisconnectSetWithPriority(this.path_,t,e,r.wrapCallback(n)),r.promise},t.prototype.update=function(t,e){if(b.validateArgCount("OnDisconnect.update",1,2,arguments.length),pt("OnDisconnect.update",this.path_),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,A("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}st("OnDisconnect.update",1,t,this.path_,!1),b.validateCallback("OnDisconnect.update",2,e,!0);var o=new b.Deferred;return this.repo_.onDisconnectUpdate(this.path_,t,o.wrapCallback(e)),o.promise},t}(),yt=function(){function t(t,e){this.committed=t,this.snapshot=e}return t.prototype.toJSON=function(){return b.validateArgCount("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}(),vt=(i="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",a=0,s=[],function(t){var e,n=t===a;a=t;var r=new Array(8);for(e=7;0<=e;e--)r[e]=i.charAt(t%64),t=Math.floor(t/64);b.assert(0===t,"Cannot push at time == 0");var o=r.join("");if(n){for(e=11;0<=e&&63===s[e];e--)s[e]=0;s[e]++}else for(e=0;e<12;e++)s[e]=Math.floor(64*Math.random());for(e=0;e<12;e++)o+=i.charAt(s[e]);return b.assert(20===o.length,"nextPushId: Length should be 20."),o}),_t=function(){function n(t,e){this.name=t,this.node=e}return n.Wrap=function(t,e){return new n(t,e)},n}(),gt=function(){function t(){}return t.prototype.getCompare=function(){return this.compare.bind(this)},t.prototype.indexedValueChanged=function(t,e){var n=new _t(F,t),r=new _t(F,e);return 0!==this.compare(n,r)},t.prototype.minPost=function(){return _t.MIN},t}(),mt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return d.__extends(e,t),Object.defineProperty(e,"__EMPTY_NODE",{get:function(){return n},set:function(t){n=t},enumerable:!0,configurable:!0}),e.prototype.compare=function(t,e){return M(t.name,e.name)},e.prototype.isDefinedOn=function(t){throw b.assertionError("KeyIndex.isDefinedOn not expected to be called.")},e.prototype.indexedValueChanged=function(t,e){return!1},e.prototype.minPost=function(){return _t.MIN},e.prototype.maxPost=function(){return new _t(L,n)},e.prototype.makePost=function(t,e){return b.assert("string"==typeof t,"KeyIndex indexValue must always be a string."),new _t(t,n)},e.prototype.toString=function(){return".key"},e}(gt),bt=new mt,Et=function(t){return"number"==typeof t?"number:"+B(t):"string:"+t},wt=function(t){if(t.isLeafNode()){var e=t.val();b.assert("string"==typeof e||"number"==typeof e||"object"==typeof e&&b.contains(e,".sv"),"Priority must be a string or number.")}else b.assert(t===r||t.isEmpty(),"priority of unexpected type.");b.assert(t===r||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},Ct=function(){function i(t,e){void 0===e&&(e=i.__childrenNodeConstructor.EMPTY_NODE),this.value_=t,this.priorityNode_=e,this.lazyHash_=null,b.assert(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),wt(this.priorityNode_)}return Object.defineProperty(i,"__childrenNodeConstructor",{get:function(){return o},set:function(t){o=t},enumerable:!0,configurable:!0}),i.prototype.isLeafNode=function(){return!0},i.prototype.getPriority=function(){return this.priorityNode_},i.prototype.updatePriority=function(t){return new i(this.value_,t)},i.prototype.getImmediateChild=function(t){return".priority"===t?this.priorityNode_:i.__childrenNodeConstructor.EMPTY_NODE},i.prototype.getChild=function(t){return t.isEmpty()?this:".priority"===t.getFront()?this.priorityNode_:i.__childrenNodeConstructor.EMPTY_NODE},i.prototype.hasChild=function(){return!1},i.prototype.getPredecessorChildName=function(t,e){return null},i.prototype.updateImmediateChild=function(t,e){return".priority"===t?this.updatePriority(e):e.isEmpty()&&".priority"!==t?this:i.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,e).updatePriority(this.priorityNode_)},i.prototype.updateChild=function(t,e){var n=t.getFront();return null===n?e:e.isEmpty()&&".priority"!==n?this:(b.assert(".priority"!==n||1===t.getLength(),".priority must be the last token in a path"),this.updateImmediateChild(n,i.__childrenNodeConstructor.EMPTY_NODE.updateChild(t.popFront(),e)))},i.prototype.isEmpty=function(){return!1},i.prototype.numChildren=function(){return 0},i.prototype.forEachChild=function(t,e){return!1},i.prototype.val=function(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},i.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.priorityNode_.isEmpty()||(t+="priority:"+Et(this.priorityNode_.val())+":");var e=typeof this.value_;t+=e+":",t+="number"===e?B(this.value_):this.value_,this.lazyHash_=S(t)}return this.lazyHash_},i.prototype.getValue=function(){return this.value_},i.prototype.compareTo=function(t){return t===i.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof i.__childrenNodeConstructor?-1:(b.assert(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))},i.prototype.compareToLeafNode_=function(t){var e=typeof t.value_,n=typeof this.value_,r=i.VALUE_TYPE_ORDER.indexOf(e),o=i.VALUE_TYPE_ORDER.indexOf(n);return b.assert(0<=r,"Unknown leaf type: "+e),b.assert(0<=o,"Unknown leaf type: "+n),r===o?"object"===n?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:o-r},i.prototype.withIndex=function(){return this},i.prototype.isIndexed=function(){return!0},i.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode()){var e=t;return this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_)}return!1},i.VALUE_TYPE_ORDER=["object","boolean","number","string"],i}(),St=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return d.__extends(e,t),e.prototype.compare=function(t,e){var n=t.node.getPriority(),r=e.node.getPriority(),o=n.compareTo(r);return 0===o?M(t.name,e.name):o},e.prototype.isDefinedOn=function(t){return!t.getPriority().isEmpty()},e.prototype.indexedValueChanged=function(t,e){return!t.getPriority().equals(e.getPriority())},e.prototype.minPost=function(){return _t.MIN},e.prototype.maxPost=function(){return new _t(L,new Ct("[PRIORITY-POST]",l))},e.prototype.makePost=function(t,e){var n=c(t);return new _t(e,new Ct("[PRIORITY-POST]",n))},e.prototype.toString=function(){return".priority"},e}(gt)),Tt=function(){function t(t,e,n,r,o){void 0===o&&(o=null),this.isReverse_=r,this.resultGenerator_=o,this.nodeStack_=[];for(var i=1;!t.isEmpty();)if(t=t,i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse_?t.left:t.right;else{if(0===i){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return t.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t},t.prototype.hasNext=function(){return 0<this.nodeStack_.length},t.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}},t}(),xt=function(){function i(t,e,n,r,o){this.key=t,this.value=e,this.color=null!=n?n:i.RED,this.left=null!=r?r:Nt.EMPTY_NODE,this.right=null!=o?o:Nt.EMPTY_NODE}return i.prototype.copy=function(t,e,n,r,o){return new i(null!=t?t:this.key,null!=e?e:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=o?o:this.right)},i.prototype.count=function(){return this.left.count()+1+this.right.count()},i.prototype.isEmpty=function(){return!1},i.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},i.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},i.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},i.prototype.minKey=function(){return this.min_().key},i.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},i.prototype.insert=function(t,e,n){var r,o;return(o=(r=n(t,(o=this).key))<0?o.copy(null,null,null,o.left.insert(t,e,n),null):0===r?o.copy(null,e,null,null,null):o.copy(null,null,null,null,o.right.insert(t,e,n))).fixUp_()},i.prototype.removeMin_=function(){if(this.left.isEmpty())return Nt.EMPTY_NODE;var t=this;return t.left.isRed_()||t.left.left.isRed_()||(t=t.moveRedLeft_()),(t=t.copy(null,null,null,t.left.removeMin_(),null)).fixUp_()},i.prototype.remove=function(t,e){var n,r;if(e(t,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(t,e),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===e(t,n.key)){if(n.right.isEmpty())return Nt.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(t,e))}return n.fixUp_()},i.prototype.isRed_=function(){return this.color},i.prototype.fixUp_=function(){var t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t},i.prototype.moveRedLeft_=function(){var t=this.colorFlip_();return t.right.left.isRed_()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight_())).rotateLeft_()).colorFlip_()),t},i.prototype.moveRedRight_=function(){var t=this.colorFlip_();return t.left.left.isRed_()&&(t=(t=t.rotateRight_()).colorFlip_()),t},i.prototype.rotateLeft_=function(){var t=this.copy(null,null,i.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},i.prototype.rotateRight_=function(){var t=this.copy(null,null,i.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},i.prototype.colorFlip_=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},i.prototype.checkMaxDepth_=function(){var t=this.check_();return Math.pow(2,t)<=this.count()+1},i.prototype.check_=function(){var t;if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");if((t=this.left.check_())!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)},i.RED=!0,i.BLACK=!1,i}(),Ot=function(){function t(){}return t.prototype.copy=function(t,e,n,r,o){return this},t.prototype.insert=function(t,e,n){return new xt(t,e,null)},t.prototype.remove=function(t,e){return this},t.prototype.count=function(){return 0},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.check_=function(){return 0},t.prototype.isRed_=function(){return!1},t}(),Nt=function(){function n(t,e){void 0===e&&(e=n.EMPTY_NODE),this.comparator_=t,this.root_=e}return n.prototype.insert=function(t,e){return new n(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,xt.BLACK,null,null))},n.prototype.remove=function(t){return new n(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,xt.BLACK,null,null))},n.prototype.get=function(t){for(var e,n=this.root_;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key)))return n.value;e<0?n=n.left:0<e&&(n=n.right)}return null},n.prototype.getPredecessorKey=function(t){for(var e,n=this.root_,r=null;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}e<0?n=n.left:0<e&&(n=(r=n).right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},n.prototype.isEmpty=function(){return this.root_.isEmpty()},n.prototype.count=function(){return this.root_.count()},n.prototype.minKey=function(){return this.root_.minKey()},n.prototype.maxKey=function(){return this.root_.maxKey()},n.prototype.inorderTraversal=function(t){return this.root_.inorderTraversal(t)},n.prototype.reverseTraversal=function(t){return this.root_.reverseTraversal(t)},n.prototype.getIterator=function(t){return new Tt(this.root_,null,this.comparator_,!1,t)},n.prototype.getIteratorFrom=function(t,e){return new Tt(this.root_,t,this.comparator_,!1,e)},n.prototype.getReverseIteratorFrom=function(t,e){return new Tt(this.root_,t,this.comparator_,!0,e)},n.prototype.getReverseIterator=function(t){return new Tt(this.root_,null,this.comparator_,!0,t)},n.EMPTY_NODE=new Ot,n}(),Pt=Math.log(2),Rt=function(){function t(t){var e;this.count=(e=t+1,parseInt(Math.log(e)/Pt,10)),this.current_=this.count-1;var n,r=(n=this.count,parseInt(Array(n+1).join("1"),2));this.bits_=t+1&r}return t.prototype.nextBitIsOne=function(){var t=!(this.bits_&1<<this.current_);return this.current_--,t},t}(),It=function(c,t,l,e){c.sort(t);var n=function(t){for(var e=null,n=null,s=c.length,r=function(t,e){var n=s-t,r=s;s-=t;var o=function t(e,n){var r,o,i=n-e;if(0==i)return null;if(1==i)return r=c[e],o=l?l(r):r,new xt(o,r.node,xt.BLACK,null,null);var a=parseInt(i/2,10)+e,s=t(e,a),u=t(a+1,n);return r=c[a],o=l?l(r):r,new xt(o,r.node,xt.BLACK,s,u)}(n+1,r),i=c[n],a=l?l(i):i;u(new xt(a,i.node,e,null,o))},u=function(t){e=(e?e.left=t:n=t,t)},o=0;o<t.count;++o){var i=t.nextBitIsOne(),a=Math.pow(2,t.count-(o+1));i?r(a,xt.BLACK):(r(a,xt.BLACK),r(a,xt.RED))}return n}(new Rt(c.length));return new Nt(e||t,n)},kt={},At=function(){function h(t,e){this.indexes_=t,this.indexSet_=e}return Object.defineProperty(h,"Default",{get:function(){return b.assert(St,"ChildrenNode.ts has not been loaded"),p=p||new h({".priority":kt},{".priority":St})},enumerable:!0,configurable:!0}),h.prototype.get=function(t){var e=b.safeGet(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e===kt?null:e},h.prototype.hasIndex=function(t){return b.contains(this.indexSet_,t.toString())},h.prototype.addIndex=function(t,e){b.assert(t!==bt,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var n,r=[],o=!1,i=e.getIterator(_t.Wrap),a=i.getNext();a;)o=o||t.isDefinedOn(a.node),r.push(a),a=i.getNext();n=o?It(r,t.getCompare()):kt;var s=t.toString(),u=b.clone(this.indexSet_);u[s]=t;var c=b.clone(this.indexes_);return c[s]=n,new h(c,u)},h.prototype.addToIndexes=function(u,c){var l=this;return new h(b.map(this.indexes_,function(t,e){var n=b.safeGet(l.indexSet_,e);if(b.assert(n,"Missing index implementation for "+e),t===kt){if(n.isDefinedOn(u.node)){for(var r=[],o=c.getIterator(_t.Wrap),i=o.getNext();i;)i.name!=u.name&&r.push(i),i=o.getNext();return r.push(u),It(r,n.getCompare())}return kt}var a=c.get(u.name),s=t;return a&&(s=s.remove(new _t(u.name,a))),s.insert(u,u.node)}),this.indexSet_)},h.prototype.removeFromIndexes=function(n,r){return new h(b.map(this.indexes_,function(t){if(t===kt)return t;var e=r.get(n.name);return e?t.remove(new _t(n.name,e)):t}),this.indexSet_)},h}();function Dt(t,e){return M(t.name,e.name)}function Ft(t,e){return M(t,e)}var Lt=function(){function s(t,e,n){this.children_=t,this.priorityNode_=e,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&wt(this.priorityNode_),this.children_.isEmpty()&&b.assert(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(s,"EMPTY_NODE",{get:function(){return h||(h=new s(new Nt(Ft),null,At.Default))},enumerable:!0,configurable:!0}),s.prototype.isLeafNode=function(){return!1},s.prototype.getPriority=function(){return this.priorityNode_||h},s.prototype.updatePriority=function(t){return this.children_.isEmpty()?this:new s(this.children_,t,this.indexMap_)},s.prototype.getImmediateChild=function(t){if(".priority"===t)return this.getPriority();var e=this.children_.get(t);return null===e?h:e},s.prototype.getChild=function(t){var e=t.getFront();return null===e?this:this.getImmediateChild(e).getChild(t.popFront())},s.prototype.hasChild=function(t){return null!==this.children_.get(t)},s.prototype.updateImmediateChild=function(t,e){if(b.assert(e,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(e);var n=new _t(t,e),r=void 0,o=void 0;return o=e.isEmpty()?(r=this.children_.remove(t),this.indexMap_.removeFromIndexes(n,this.children_)):(r=this.children_.insert(t,e),this.indexMap_.addToIndexes(n,this.children_)),new s(r,r.isEmpty()?h:this.priorityNode_,o)},s.prototype.updateChild=function(t,e){var n=t.getFront();if(null===n)return e;b.assert(".priority"!==t.getFront()||1===t.getLength(),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(t.popFront(),e);return this.updateImmediateChild(n,r)},s.prototype.isEmpty=function(){return this.children_.isEmpty()},s.prototype.numChildren=function(){return this.children_.count()},s.prototype.val=function(n){if(this.isEmpty())return null;var r={},o=0,i=0,a=!0;if(this.forEachChild(St,function(t,e){r[t]=e.val(n),o++,a&&s.INTEGER_REGEXP_.test(t)?i=Math.max(i,Number(t)):a=!1}),!n&&a&&i<2*o){var t=[];for(var e in r)t[e]=r[e];return t}return n&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r},s.prototype.hash=function(){if(null===this.lazyHash_){var r="";this.getPriority().isEmpty()||(r+="priority:"+Et(this.getPriority().val())+":"),this.forEachChild(St,function(t,e){var n=e.hash();""!==n&&(r+=":"+t+":"+n)}),this.lazyHash_=""===r?"":S(r)}return this.lazyHash_},s.prototype.getPredecessorChildName=function(t,e,n){var r=this.resolveIndex_(n);if(r){var o=r.getPredecessorKey(new _t(t,e));return o?o.name:null}return this.children_.getPredecessorKey(t)},s.prototype.getFirstChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.minKey();return n&&n.name}return this.children_.minKey()},s.prototype.getFirstChild=function(t){var e=this.getFirstChildName(t);return e?new _t(e,this.children_.get(e)):null},s.prototype.getLastChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.maxKey();return n&&n.name}return this.children_.maxKey()},s.prototype.getLastChild=function(t){var e=this.getLastChildName(t);return e?new _t(e,this.children_.get(e)):null},s.prototype.forEachChild=function(t,e){var n=this.resolveIndex_(t);return n?n.inorderTraversal(function(t){return e(t.name,t.node)}):this.children_.inorderTraversal(e)},s.prototype.getIterator=function(t){return this.getIteratorFrom(t.minPost(),t)},s.prototype.getIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getIteratorFrom(t,function(t){return t});for(var r=this.children_.getIteratorFrom(t.name,_t.Wrap),o=r.peek();null!=o&&e.compare(o,t)<0;)r.getNext(),o=r.peek();return r},s.prototype.getReverseIterator=function(t){return this.getReverseIteratorFrom(t.maxPost(),t)},s.prototype.getReverseIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getReverseIteratorFrom(t,function(t){return t});for(var r=this.children_.getReverseIteratorFrom(t.name,_t.Wrap),o=r.peek();null!=o&&0<e.compare(o,t);)r.getNext(),o=r.peek();return r},s.prototype.compareTo=function(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Mt?-1:0},s.prototype.withIndex=function(t){if(t===bt||this.indexMap_.hasIndex(t))return this;var e=this.indexMap_.addIndex(t,this.children_);return new s(this.children_,this.priorityNode_,e)},s.prototype.isIndexed=function(t){return t===bt||this.indexMap_.hasIndex(t)},s.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode())return!1;var e=t;if(this.getPriority().equals(e.getPriority())){if(this.children_.count()!==e.children_.count())return!1;for(var n=this.getIterator(St),r=e.getIterator(St),o=n.getNext(),i=r.getNext();o&&i;){if(o.name!==i.name||!o.node.equals(i.node))return!1;o=n.getNext(),i=r.getNext()}return null===o&&null===i}return!1},s.prototype.resolveIndex_=function(t){return t===bt?null:this.indexMap_.get(t.toString())},s.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,s}(),Mt=new(function(t){function e(){return t.call(this,new Nt(Ft),Lt.EMPTY_NODE,At.Default)||this}return d.__extends(e,t),e.prototype.compareTo=function(t){return t===this?0:1},e.prototype.equals=function(t){return t===this},e.prototype.getPriority=function(){return this},e.prototype.getImmediateChild=function(t){return Lt.EMPTY_NODE},e.prototype.isEmpty=function(){return!1},e}(Lt));Object.defineProperties(_t,{MIN:{value:new _t(F,Lt.EMPTY_NODE)},MAX:{value:new _t(L,Mt)}}),mt.__EMPTY_NODE=Lt.EMPTY_NODE,Ct.__childrenNodeConstructor=Lt,l=r=Mt;var jt=!0;function Wt(t,e){if(void 0===e&&(e=null),null===t)return Lt.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(e=t[".priority"]),b.assert(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new Ct(t,Wt(e));if(t instanceof Array||!jt){var r=Lt.EMPTY_NODE,o=t;return b.forEach(o,function(t,e){if(b.contains(o,t)&&"."!==t.substring(0,1)){var n=Wt(e);!n.isLeafNode()&&n.isEmpty()||(r=r.updateImmediateChild(t,n))}}),r.updatePriority(Wt(e))}var i=[],a=!1,s=t;if(b.forEach(s,function(t,e){if("string"!=typeof t||"."!==t.substring(0,1)){var n=Wt(s[t]);n.isEmpty()||(a=a||!n.getPriority().isEmpty(),i.push(new _t(t,n)))}}),0==i.length)return Lt.EMPTY_NODE;var n=It(i,Dt,function(t){return t.name},Ft);if(a){var u=It(i,St.getCompare());return new Lt(n,Wt(e),new At({".priority":u},{".priority":St}))}return new Lt(n,Wt(e),At.Default)}c=Wt;var Ut,Vt,qt,Bt=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return d.__extends(e,t),e.prototype.compare=function(t,e){var n=t.node.compareTo(e.node);return 0===n?M(t.name,e.name):n},e.prototype.isDefinedOn=function(t){return!0},e.prototype.indexedValueChanged=function(t,e){return!t.equals(e)},e.prototype.minPost=function(){return _t.MIN},e.prototype.maxPost=function(){return _t.MAX},e.prototype.makePost=function(t,e){var n=Wt(t);return new _t(e,n)},e.prototype.toString=function(){return".value"},e}(gt)),Qt=function(n){function t(t){var e=n.call(this)||this;return e.indexPath_=t,b.assert(!t.isEmpty()&&".priority"!==t.getFront(),"Can't create PathIndex with empty path or .priority key"),e}return d.__extends(t,n),t.prototype.extractChild=function(t){return t.getChild(this.indexPath_)},t.prototype.isDefinedOn=function(t){return!t.getChild(this.indexPath_).isEmpty()},t.prototype.compare=function(t,e){var n=this.extractChild(t.node),r=this.extractChild(e.node),o=n.compareTo(r);return 0===o?M(t.name,e.name):o},t.prototype.makePost=function(t,e){var n=Wt(t),r=Lt.EMPTY_NODE.updateChild(this.indexPath_,n);return new _t(e,r)},t.prototype.maxPost=function(){var t=Lt.EMPTY_NODE.updateChild(this.indexPath_,Mt);return new _t(L,t)},t.prototype.toString=function(){return this.indexPath_.slice().join("/")},t}(gt),Ht=function(){function o(t,e,n){this.node_=t,this.ref_=e,this.index_=n}return o.prototype.val=function(){return b.validateArgCount("DataSnapshot.val",0,0,arguments.length),this.node_.val()},o.prototype.exportVal=function(){return b.validateArgCount("DataSnapshot.exportVal",0,0,arguments.length),this.node_.val(!0)},o.prototype.toJSON=function(){return b.validateArgCount("DataSnapshot.toJSON",0,1,arguments.length),this.exportVal()},o.prototype.exists=function(){return b.validateArgCount("DataSnapshot.exists",0,0,arguments.length),!this.node_.isEmpty()},o.prototype.child=function(t){b.validateArgCount("DataSnapshot.child",0,1,arguments.length),t=String(t),ht("DataSnapshot.child",1,t,!1);var e=new Y(t),n=this.ref_.child(e);return new o(this.node_.getChild(e),n,St)},o.prototype.hasChild=function(t){b.validateArgCount("DataSnapshot.hasChild",1,1,arguments.length),ht("DataSnapshot.hasChild",1,t,!1);var e=new Y(t);return!this.node_.getChild(e).isEmpty()},o.prototype.getPriority=function(){return b.validateArgCount("DataSnapshot.getPriority",0,0,arguments.length),this.node_.getPriority().val()},o.prototype.forEach=function(n){var r=this;return b.validateArgCount("DataSnapshot.forEach",1,1,arguments.length),b.validateCallback("DataSnapshot.forEach",1,n,!1),!this.node_.isLeafNode()&&!!this.node_.forEachChild(this.index_,function(t,e){return n(new o(e,r.ref_.child(t),St))})},o.prototype.hasChildren=function(){return b.validateArgCount("DataSnapshot.hasChildren",0,0,arguments.length),!this.node_.isLeafNode()&&!this.node_.isEmpty()},Object.defineProperty(o.prototype,"key",{get:function(){return this.ref_.getKey()},enumerable:!0,configurable:!0}),o.prototype.numChildren=function(){return b.validateArgCount("DataSnapshot.numChildren",0,0,arguments.length),this.node_.numChildren()},o.prototype.getRef=function(){return b.validateArgCount("DataSnapshot.ref",0,0,arguments.length),this.ref_},Object.defineProperty(o.prototype,"ref",{get:function(){return this.getRef()},enumerable:!0,configurable:!0}),o}(),zt=function(){function t(t,e,n,r){this.eventType=t,this.eventRegistration=e,this.snapshot=n,this.prevName=r}return t.prototype.getPath=function(){var t=this.snapshot.getRef();return"value"===this.eventType?t.path:t.getParent().path},t.prototype.getEventType=function(){return this.eventType},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+b.stringify(this.snapshot.exportVal())},t}(),$t=function(){function t(t,e,n){this.eventRegistration=t,this.error=e,this.path=n}return t.prototype.getPath=function(){return this.path},t.prototype.getEventType=function(){return"cancel"},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.path.toString()+":cancel"},t}(),Yt=function(){function e(t,e,n){this.callback_=t,this.cancelCallback_=e,this.context_=n}return e.prototype.respondsTo=function(t){return"value"===t},e.prototype.createEvent=function(t,e){var n=e.getQueryParams().getIndex();return new zt("value",this,new Ht(t.snapshotNode,e.getRef(),n))},e.prototype.getEventRunner=function(t){var e=this.context_;if("cancel"===t.getEventType()){b.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var r=this.callback_;return function(){r.call(e,t.snapshot)}},e.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new $t(this,t,e):null},e.prototype.matches=function(t){return t instanceof e&&(!t.callback_||!this.callback_||t.callback_===this.callback_&&t.context_===this.context_)},e.prototype.hasAnyCallback=function(){return null!==this.callback_},e}(),Gt=function(){function o(t,e,n){this.callbacks_=t,this.cancelCallback_=e,this.context_=n}return o.prototype.respondsTo=function(t){var e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,b.contains(this.callbacks_,e)},o.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new $t(this,t,e):null},o.prototype.createEvent=function(t,e){b.assert(null!=t.childName,"Child events should have a childName.");var n=e.getRef().child(t.childName),r=e.getQueryParams().getIndex();return new zt(t.type,this,new Ht(t.snapshotNode,n,r),t.prevName)},o.prototype.getEventRunner=function(t){var e=this.context_;if("cancel"===t.getEventType()){b.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var r=this.callbacks_[t.eventType];return function(){r.call(e,t.snapshot,t.prevName)}},o.prototype.matches=function(n){if(n instanceof o){if(!this.callbacks_||!n.callbacks_)return!0;if(this.context_===n.context_){var t=b.getCount(n.callbacks_);if(t===b.getCount(this.callbacks_)){if(1!==t)return b.every(this.callbacks_,function(t,e){return n.callbacks_[t]===e});var e=b.getAnyKey(n.callbacks_),r=b.getAnyKey(this.callbacks_);return!(r!==e||n.callbacks_[e]&&this.callbacks_[r]&&n.callbacks_[e]!==this.callbacks_[r])}}}return!1},o.prototype.hasAnyCallback=function(){return null!==this.callbacks_},o}(),Kt=function(){function c(t,e,n,r){this.repo=t,this.path=e,this.queryParams_=n,this.orderByCalled_=r}return Object.defineProperty(c,"__referenceConstructor",{get:function(){return b.assert(Ut,"Reference.ts has not been loaded"),Ut},set:function(t){Ut=t},enumerable:!0,configurable:!0}),c.validateQueryEndpoints_=function(t){var e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===bt){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",o="Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!=F)throw new Error(r);if("string"!=typeof e)throw new Error(o)}if(t.hasEnd()){if(t.getIndexEndName()!=L)throw new Error(r);if("string"!=typeof n)throw new Error(o)}}else if(t.getIndex()===St){if(null!=e&&!ot(e)||null!=n&&!ot(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(b.assert(t.getIndex()instanceof Qt||t.getIndex()===Bt,"unknown index type."),null!=e&&"object"==typeof e||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.")},c.validateLimit_=function(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.")},c.prototype.validateNoPreviousOrderByCall_=function(t){if(!0===this.orderByCalled_)throw new Error(t+": You can't combine multiple orderBy calls.")},c.prototype.getQueryParams=function(){return this.queryParams_},c.prototype.getRef=function(){return b.validateArgCount("Query.ref",0,0,arguments.length),new c.__referenceConstructor(this.repo,this.path)},c.prototype.on=function(t,e,n,r){b.validateArgCount("Query.on",2,4,arguments.length),ct("Query.on",1,t,!1),b.validateCallback("Query.on",2,e,!1);var o=c.getCancelAndContextArgs_("Query.on",n,r);if("value"===t)this.onValueEvent(e,o.cancel,o.context);else{var i={};i[t]=e,this.onChildEvent(i,o.cancel,o.context)}return e},c.prototype.onValueEvent=function(t,e,n){var r=new Yt(t,e||null,n||null);this.repo.addEventCallbackForQuery(this,r)},c.prototype.onChildEvent=function(t,e,n){var r=new Gt(t,e,n);this.repo.addEventCallbackForQuery(this,r)},c.prototype.off=function(t,e,n){b.validateArgCount("Query.off",0,3,arguments.length),ct("Query.off",1,t,!0),b.validateCallback("Query.off",2,e,!0),b.validateContextObject("Query.off",3,n,!0);var r=null,o=null;"value"===t?r=new Yt(e||null,null,n||null):t&&(e&&((o={})[t]=e),r=new Gt(o,null,n||null)),this.repo.removeEventCallbackForQuery(this,r)},c.prototype.once=function(n,r,t,e){var o=this;b.validateArgCount("Query.once",1,4,arguments.length),ct("Query.once",1,n,!1),b.validateCallback("Query.once",2,r,!0);var i=c.getCancelAndContextArgs_("Query.once",t,e),a=!0,s=new b.Deferred;s.promise.catch(function(){});var u=function t(e){a&&(a=!1,o.off(n,t),r&&r.bind(i.context)(e),s.resolve(e))};return this.on(n,u,function(t){o.off(n,u),i.cancel&&i.cancel.bind(i.context)(t),s.reject(t)}),s.promise},c.prototype.limitToFirst=function(t){if(b.validateArgCount("Query.limitToFirst",1,1,arguments.length),"number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("Query.limitToFirst: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new c(this.repo,this.path,this.queryParams_.limitToFirst(t),this.orderByCalled_)},c.prototype.limitToLast=function(t){if(b.validateArgCount("Query.limitToLast",1,1,arguments.length),"number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("Query.limitToLast: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new c(this.repo,this.path,this.queryParams_.limitToLast(t),this.orderByCalled_)},c.prototype.orderByChild=function(t){if(b.validateArgCount("Query.orderByChild",1,1,arguments.length),"$key"===t)throw new Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===t)throw new Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===t)throw new Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');ht("Query.orderByChild",1,t,!1),this.validateNoPreviousOrderByCall_("Query.orderByChild");var e=new Y(t);if(e.isEmpty())throw new Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");var n=new Qt(e),r=this.queryParams_.orderBy(n);return c.validateQueryEndpoints_(r),new c(this.repo,this.path,r,!0)},c.prototype.orderByKey=function(){b.validateArgCount("Query.orderByKey",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByKey");var t=this.queryParams_.orderBy(bt);return c.validateQueryEndpoints_(t),new c(this.repo,this.path,t,!0)},c.prototype.orderByPriority=function(){b.validateArgCount("Query.orderByPriority",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByPriority");var t=this.queryParams_.orderBy(St);return c.validateQueryEndpoints_(t),new c(this.repo,this.path,t,!0)},c.prototype.orderByValue=function(){b.validateArgCount("Query.orderByValue",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByValue");var t=this.queryParams_.orderBy(Bt);return c.validateQueryEndpoints_(t),new c(this.repo,this.path,t,!0)},c.prototype.startAt=function(t,e){void 0===t&&(t=null),b.validateArgCount("Query.startAt",0,2,arguments.length),it("Query.startAt",1,t,this.path,!0),lt("Query.startAt",2,e,!0);var n=this.queryParams_.startAt(t,e);if(c.validateLimit_(n),c.validateQueryEndpoints_(n),this.queryParams_.hasStart())throw new Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return void 0===t&&(e=t=null),new c(this.repo,this.path,n,this.orderByCalled_)},c.prototype.endAt=function(t,e){void 0===t&&(t=null),b.validateArgCount("Query.endAt",0,2,arguments.length),it("Query.endAt",1,t,this.path,!0),lt("Query.endAt",2,e,!0);var n=this.queryParams_.endAt(t,e);if(c.validateLimit_(n),c.validateQueryEndpoints_(n),this.queryParams_.hasEnd())throw new Error("Query.endAt: Ending point was already set (by another call to endAt or equalTo).");return new c(this.repo,this.path,n,this.orderByCalled_)},c.prototype.equalTo=function(t,e){if(b.validateArgCount("Query.equalTo",1,2,arguments.length),it("Query.equalTo",1,t,this.path,!1),lt("Query.equalTo",2,e,!0),this.queryParams_.hasStart())throw new Error("Query.equalTo: Starting point was already set (by another call to startAt or equalTo).");if(this.queryParams_.hasEnd())throw new Error("Query.equalTo: Ending point was already set (by another call to endAt or equalTo).");return this.startAt(t,e).endAt(t,e)},c.prototype.toString=function(){return b.validateArgCount("Query.toString",0,0,arguments.length),this.repo.toString()+this.path.toUrlEncodedString()},c.prototype.toJSON=function(){return b.validateArgCount("Query.toJSON",0,1,arguments.length),this.toString()},c.prototype.queryObject=function(){return this.queryParams_.getQueryObject()},c.prototype.queryIdentifier=function(){var t=this.queryObject(),e=U(t);return"{}"===e?"default":e},c.prototype.isEqual=function(t){if(b.validateArgCount("Query.isEqual",1,1,arguments.length),!(t instanceof c))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");var e=this.repo===t.repo,n=this.path.equals(t.path),r=this.queryIdentifier()===t.queryIdentifier();return e&&n&&r},c.getCancelAndContextArgs_=function(t,e,n){var r={cancel:null,context:null};if(e&&n)r.cancel=e,b.validateCallback(t,3,r.cancel,!0),r.context=n,b.validateContextObject(t,4,r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error(b.errorPrefix(t,3,!0)+" must either be a cancel callback or a context object.");r.cancel=e}return r},Object.defineProperty(c.prototype,"ref",{get:function(){return this.getRef()},enumerable:!0,configurable:!0}),c}(),Xt=function(){function t(){this.set={}}return t.prototype.add=function(t,e){this.set[t]=null===e||e},t.prototype.contains=function(t){return b.contains(this.set,t)},t.prototype.get=function(t){return this.contains(t)?this.set[t]:void 0},t.prototype.remove=function(t){delete this.set[t]},t.prototype.clear=function(){this.set={}},t.prototype.isEmpty=function(){return b.isEmpty(this.set)},t.prototype.count=function(){return b.getCount(this.set)},t.prototype.each=function(n){b.forEach(this.set,function(t,e){return n(t,e)})},t.prototype.keys=function(){var e=[];return b.forEach(this.set,function(t){e.push(t)}),e},t}(),Jt=function(){function o(){this.value_=null,this.children_=null}return o.prototype.find=function(t){if(null!=this.value_)return this.value_.getChild(t);if(t.isEmpty()||null==this.children_)return null;var e=t.getFront();return t=t.popFront(),this.children_.contains(e)?this.children_.get(e).find(t):null},o.prototype.remember=function(t,e){if(t.isEmpty())this.value_=e,this.children_=null;else if(null!==this.value_)this.value_=this.value_.updateChild(t,e);else{null==this.children_&&(this.children_=new Xt);var n=t.getFront();this.children_.contains(n)||this.children_.add(n,new o);var r=this.children_.get(n);t=t.popFront(),r.remember(t,e)}},o.prototype.forget=function(t){if(t.isEmpty())return this.value_=null,!(this.children_=null);if(null!==this.value_){if(this.value_.isLeafNode())return!1;var e=this.value_;this.value_=null;var n=this;return e.forEachChild(St,function(t,e){n.remember(new Y(t),e)}),this.forget(t)}if(null===this.children_)return!0;var r=t.getFront();return t=t.popFront(),this.children_.contains(r)&&this.children_.get(r).forget(t)&&this.children_.remove(r),!!this.children_.isEmpty()&&!(this.children_=null)},o.prototype.forEachTree=function(r,o){null!==this.value_?o(r,this.value_):this.forEachChild(function(t,e){var n=new Y(r.toString()+"/"+t);e.forEachTree(n,o)})},o.prototype.forEachChild=function(n){null!==this.children_&&this.children_.each(function(t,e){n(t,e)})},o}(),Zt=function(t,e){return t&&"object"==typeof t?(b.assert(".sv"in t,"Unexpected leaf node or priority contents"),e[t[".sv"]]):t},te=function r(t,o){var i,e=t.getPriority().val(),n=Zt(e,o);if(t.isLeafNode()){var a=t,s=Zt(a.getValue(),o);return s!==a.getValue()||n!==a.getPriority().val()?new Ct(s,Wt(n)):t}var u=t;return n!==(i=u).getPriority().val()&&(i=i.updatePriority(new Ct(n))),u.forEachChild(St,function(t,e){var n=r(e,o);n!==e&&(i=i.updateImmediateChild(t,n))}),i};(qt=Vt||(Vt={}))[qt.OVERWRITE=0]="OVERWRITE",qt[qt.MERGE=1]="MERGE",qt[qt.ACK_USER_WRITE=2]="ACK_USER_WRITE",qt[qt.LISTEN_COMPLETE=3]="LISTEN_COMPLETE";var ee,ne,re=function(){function e(t,e,n,r){this.fromUser=t,this.fromServer=e,this.queryId=n,this.tagged=r,b.assert(!r||e,"Tagged queries must be from server.")}return e.User=new e(!0,!1,null,!1),e.Server=new e(!1,!0,null,!1),e.forServerTaggedQuery=function(t){return new e(!1,!0,t,!0)},e}(),oe=function(){function n(t,e,n){this.path=t,this.affectedTree=e,this.revert=n,this.type=Vt.ACK_USER_WRITE,this.source=re.User}return n.prototype.operationForChild=function(t){if(this.path.isEmpty()){if(null!=this.affectedTree.value)return b.assert(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var e=this.affectedTree.subtree(new Y(t));return new n(Y.Empty,e,this.revert)}return b.assert(this.path.getFront()===t,"operationForChild called for unrelated child."),new n(this.path.popFront(),this.affectedTree,this.revert)},n}(),ie=function(){function i(t,e){void 0===e&&(ee||(ee=new Nt(j)),e=ee),this.value=t,this.children=e}return i.fromObject=function(t){var n=i.Empty;return b.forEach(t,function(t,e){n=n.set(new Y(t),e)}),n},i.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},i.prototype.findRootMostMatchingPathAndValue=function(t,e){if(null!=this.value&&e(this.value))return{path:Y.Empty,value:this.value};if(t.isEmpty())return null;var n=t.getFront(),r=this.children.get(n);if(null===r)return null;var o=r.findRootMostMatchingPathAndValue(t.popFront(),e);return null!=o?{path:new Y(n).child(o.path),value:o.value}:null},i.prototype.findRootMostValueAndPath=function(t){return this.findRootMostMatchingPathAndValue(t,function(){return!0})},i.prototype.subtree=function(t){if(t.isEmpty())return this;var e=t.getFront(),n=this.children.get(e);return null!==n?n.subtree(t.popFront()):i.Empty},i.prototype.set=function(t,e){if(t.isEmpty())return new i(e,this.children);var n=t.getFront(),r=(this.children.get(n)||i.Empty).set(t.popFront(),e),o=this.children.insert(n,r);return new i(this.value,o)},i.prototype.remove=function(t){if(t.isEmpty())return this.children.isEmpty()?i.Empty:new i(null,this.children);var e=t.getFront(),n=this.children.get(e);if(n){var r=n.remove(t.popFront()),o=void 0;return o=r.isEmpty()?this.children.remove(e):this.children.insert(e,r),null===this.value&&o.isEmpty()?i.Empty:new i(this.value,o)}return this},i.prototype.get=function(t){if(t.isEmpty())return this.value;var e=t.getFront(),n=this.children.get(e);return n?n.get(t.popFront()):null},i.prototype.setTree=function(t,e){if(t.isEmpty())return e;var n,r=t.getFront(),o=(this.children.get(r)||i.Empty).setTree(t.popFront(),e);return n=o.isEmpty()?this.children.remove(r):this.children.insert(r,o),new i(this.value,n)},i.prototype.fold=function(t){return this.fold_(Y.Empty,t)},i.prototype.fold_=function(n,r){var o={};return this.children.inorderTraversal(function(t,e){o[t]=e.fold_(n.child(t),r)}),r(n,this.value,o)},i.prototype.findOnPath=function(t,e){return this.findOnPath_(t,Y.Empty,e)},i.prototype.findOnPath_=function(t,e,n){var r=!!this.value&&n(e,this.value);if(r)return r;if(t.isEmpty())return null;var o=t.getFront(),i=this.children.get(o);return i?i.findOnPath_(t.popFront(),e.child(o),n):null},i.prototype.foreachOnPath=function(t,e){return this.foreachOnPath_(t,Y.Empty,e)},i.prototype.foreachOnPath_=function(t,e,n){if(t.isEmpty())return this;this.value&&n(e,this.value);var r=t.getFront(),o=this.children.get(r);return o?o.foreachOnPath_(t.popFront(),e.child(r),n):i.Empty},i.prototype.foreach=function(t){this.foreach_(Y.Empty,t)},i.prototype.foreach_=function(n,r){this.children.inorderTraversal(function(t,e){e.foreach_(n.child(t),r)}),this.value&&r(n,this.value)},i.prototype.foreachChild=function(n){this.children.inorderTraversal(function(t,e){e.value&&n(t,e.value)})},i.Empty=new i(null),i}(),ae=function(){function e(t,e){this.source=t,this.path=e,this.type=Vt.LISTEN_COMPLETE}return e.prototype.operationForChild=function(t){return this.path.isEmpty()?new e(this.source,Y.Empty):new e(this.source,this.path.popFront())},e}(),se=function(){function e(t,e,n){this.source=t,this.path=e,this.snap=n,this.type=Vt.OVERWRITE}return e.prototype.operationForChild=function(t){return this.path.isEmpty()?new e(this.source,Y.Empty,this.snap.getImmediateChild(t)):new e(this.source,this.path.popFront(),this.snap)},e}(),ue=function(){function n(t,e,n){this.source=t,this.path=e,this.children=n,this.type=Vt.MERGE}return n.prototype.operationForChild=function(t){if(this.path.isEmpty()){var e=this.children.subtree(new Y(t));return e.isEmpty()?null:e.value?new se(this.source,Y.Empty,e.value):new n(this.source,Y.Empty,e)}return b.assert(this.path.getFront()===t,"Can't get a merge for a child not on the path of the operation"),new n(this.source,this.path.popFront(),this.children)},n.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},n}(),ce=function(){function t(t,e,n){this.node_=t,this.fullyInitialized_=e,this.filtered_=n}return t.prototype.isFullyInitialized=function(){return this.fullyInitialized_},t.prototype.isFiltered=function(){return this.filtered_},t.prototype.isCompleteForPath=function(t){if(t.isEmpty())return this.isFullyInitialized()&&!this.filtered_;var e=t.getFront();return this.isCompleteForChild(e)},t.prototype.isCompleteForChild=function(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)},t.prototype.getNode=function(){return this.node_},t}(),le=function(){function r(t,e){this.eventCache_=t,this.serverCache_=e}return r.prototype.updateEventSnap=function(t,e,n){return new r(new ce(t,e,n),this.serverCache_)},r.prototype.updateServerSnap=function(t,e,n){return new r(this.eventCache_,new ce(t,e,n))},r.prototype.getEventCache=function(){return this.eventCache_},r.prototype.getCompleteEventSnap=function(){return this.eventCache_.isFullyInitialized()?this.eventCache_.getNode():null},r.prototype.getServerCache=function(){return this.serverCache_},r.prototype.getCompleteServerSnap=function(){return this.serverCache_.isFullyInitialized()?this.serverCache_.getNode():null},r.Empty=new r(new ce(Lt.EMPTY_NODE,!1,!1),new ce(Lt.EMPTY_NODE,!1,!1)),r}(),he=function(){function r(t,e,n,r,o){this.type=t,this.snapshotNode=e,this.childName=n,this.oldSnap=r,this.prevName=o}return r.valueChange=function(t){return new r(r.VALUE,t)},r.childAddedChange=function(t,e){return new r(r.CHILD_ADDED,e,t)},r.childRemovedChange=function(t,e){return new r(r.CHILD_REMOVED,e,t)},r.childChangedChange=function(t,e,n){return new r(r.CHILD_CHANGED,e,t,n)},r.childMovedChange=function(t,e){return new r(r.CHILD_MOVED,e,t)},r.CHILD_ADDED="child_added",r.CHILD_REMOVED="child_removed",r.CHILD_CHANGED="child_changed",r.CHILD_MOVED="child_moved",r.VALUE="value",r}(),pe=function(){function t(t){this.index_=t}return t.prototype.updateChild=function(t,e,n,r,o,i){b.assert(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");var a=t.getImmediateChild(e);return a.getChild(r).equals(n.getChild(r))&&a.isEmpty()==n.isEmpty()?t:(null!=i&&(n.isEmpty()?t.hasChild(e)?i.trackChildChange(he.childRemovedChange(e,a)):b.assert(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?i.trackChildChange(he.childAddedChange(e,n)):i.trackChildChange(he.childChangedChange(e,n,a))),t.isLeafNode()&&n.isEmpty()?t:t.updateImmediateChild(e,n).withIndex(this.index_))},t.prototype.updateFullNode=function(r,n,o){return null!=o&&(r.isLeafNode()||r.forEachChild(St,function(t,e){n.hasChild(t)||o.trackChildChange(he.childRemovedChange(t,e))}),n.isLeafNode()||n.forEachChild(St,function(t,e){if(r.hasChild(t)){var n=r.getImmediateChild(t);n.equals(e)||o.trackChildChange(he.childChangedChange(t,e,n))}else o.trackChildChange(he.childAddedChange(t,e))})),n.withIndex(this.index_)},t.prototype.updatePriority=function(t,e){return t.isEmpty()?Lt.EMPTY_NODE:t.updatePriority(e)},t.prototype.filtersNodes=function(){return!1},t.prototype.getIndexedFilter=function(){return this},t.prototype.getIndex=function(){return this.index_},t}(),fe=function(){function t(){this.changeMap_={}}return t.prototype.trackChildChange=function(t){var e=t.type,n=t.childName;b.assert(e==he.CHILD_ADDED||e==he.CHILD_CHANGED||e==he.CHILD_REMOVED,"Only child changes supported for tracking"),b.assert(".priority"!==n,"Only non-priority child changes can be tracked.");var r=b.safeGet(this.changeMap_,n);if(r){var o=r.type;if(e==he.CHILD_ADDED&&o==he.CHILD_REMOVED)this.changeMap_[n]=he.childChangedChange(n,t.snapshotNode,r.snapshotNode);else if(e==he.CHILD_REMOVED&&o==he.CHILD_ADDED)delete this.changeMap_[n];else if(e==he.CHILD_REMOVED&&o==he.CHILD_CHANGED)this.changeMap_[n]=he.childRemovedChange(n,r.oldSnap);else if(e==he.CHILD_CHANGED&&o==he.CHILD_ADDED)this.changeMap_[n]=he.childAddedChange(n,t.snapshotNode);else{if(e!=he.CHILD_CHANGED||o!=he.CHILD_CHANGED)throw b.assertionError("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap_[n]=he.childChangedChange(n,t.snapshotNode,r.oldSnap)}}else this.changeMap_[n]=t},t.prototype.getChanges=function(){return b.getValues(this.changeMap_)},t}(),de=new(function(){function t(){}return t.prototype.getCompleteChild=function(t){return null},t.prototype.getChildAfterChild=function(t,e,n){return null},t}()),ye=function(){function t(t,e,n){void 0===n&&(n=null),this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=n}return t.prototype.getCompleteChild=function(t){var e=this.viewCache_.getEventCache();if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);var n=null!=this.optCompleteServerCache_?new ce(this.optCompleteServerCache_,!0,!1):this.viewCache_.getServerCache();return this.writes_.calcCompleteChild(t,n)},t.prototype.getChildAfterChild=function(t,e,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:this.viewCache_.getCompleteServerSnap(),o=this.writes_.calcIndexedSlice(r,e,1,n,t);return 0===o.length?null:o[0]},t}(),ve=function(t,e){this.viewCache=t,this.changes=e},_e=function(){function h(t){this.filter_=t}return h.prototype.assertIndexed=function(t){b.assert(t.getEventCache().getNode().isIndexed(this.filter_.getIndex()),"Event snap not indexed"),b.assert(t.getServerCache().getNode().isIndexed(this.filter_.getIndex()),"Server snap not indexed")},h.prototype.applyOperation=function(t,e,n,r){var o,i,a=new fe;if(e.type===Vt.OVERWRITE){var s=e;o=s.source.fromUser?this.applyUserOverwrite_(t,s.path,s.snap,n,r,a):(b.assert(s.source.fromServer,"Unknown source."),i=s.source.tagged||t.getServerCache().isFiltered()&&!s.path.isEmpty(),this.applyServerOverwrite_(t,s.path,s.snap,n,r,i,a))}else if(e.type===Vt.MERGE){var u=e;o=u.source.fromUser?this.applyUserMerge_(t,u.path,u.children,n,r,a):(b.assert(u.source.fromServer,"Unknown source."),i=u.source.tagged||t.getServerCache().isFiltered(),this.applyServerMerge_(t,u.path,u.children,n,r,i,a))}else if(e.type===Vt.ACK_USER_WRITE){var c=e;o=c.revert?this.revertUserWrite_(t,c.path,n,r,a):this.ackUserWrite_(t,c.path,c.affectedTree,n,r,a)}else{if(e.type!==Vt.LISTEN_COMPLETE)throw b.assertionError("Unknown operation type: "+e.type);o=this.listenComplete_(t,e.path,n,a)}var l=a.getChanges();return h.maybeAddValueEvent_(t,o,l),new ve(o,l)},h.maybeAddValueEvent_=function(t,e,n){var r=e.getEventCache();if(r.isFullyInitialized()){var o=r.getNode().isLeafNode()||r.getNode().isEmpty(),i=t.getCompleteEventSnap();(0<n.length||!t.getEventCache().isFullyInitialized()||o&&!r.getNode().equals(i)||!r.getNode().getPriority().equals(i.getPriority()))&&n.push(he.valueChange(e.getCompleteEventSnap()))}},h.prototype.generateEventCacheAfterServerEvent_=function(t,e,n,r,o){var i=t.getEventCache();if(null!=n.shadowingWrite(e))return t;var a=void 0,s=void 0;if(e.isEmpty())if(b.assert(t.getServerCache().isFullyInitialized(),"If change path is empty, we must have complete server data"),t.getServerCache().isFiltered()){var u=t.getCompleteServerSnap(),c=u instanceof Lt?u:Lt.EMPTY_NODE,l=n.calcCompleteEventChildren(c);a=this.filter_.updateFullNode(t.getEventCache().getNode(),l,o)}else{var h=n.calcCompleteEventCache(t.getCompleteServerSnap());a=this.filter_.updateFullNode(t.getEventCache().getNode(),h,o)}else{var p=e.getFront();if(".priority"==p){b.assert(1==e.getLength(),"Can't have a priority with additional path components");var f=i.getNode();s=t.getServerCache().getNode();var d=n.calcEventCacheAfterServerOverwrite(e,f,s);a=null!=d?this.filter_.updatePriority(f,d):i.getNode()}else{var y=e.popFront(),v=void 0;if(i.isCompleteForChild(p)){s=t.getServerCache().getNode();var _=n.calcEventCacheAfterServerOverwrite(e,i.getNode(),s);v=null!=_?i.getNode().getImmediateChild(p).updateChild(y,_):i.getNode().getImmediateChild(p)}else v=n.calcCompleteChild(p,t.getServerCache());a=null!=v?this.filter_.updateChild(i.getNode(),p,v,y,r,o):i.getNode()}}return t.updateEventSnap(a,i.isFullyInitialized()||e.isEmpty(),this.filter_.filtersNodes())},h.prototype.applyServerOverwrite_=function(t,e,n,r,o,i,a){var s,u=t.getServerCache(),c=i?this.filter_:this.filter_.getIndexedFilter();if(e.isEmpty())s=c.updateFullNode(u.getNode(),n,null);else if(c.filtersNodes()&&!u.isFiltered()){var l=u.getNode().updateChild(e,n);s=c.updateFullNode(u.getNode(),l,null)}else{var h=e.getFront();if(!u.isCompleteForPath(e)&&1<e.getLength())return t;var p=e.popFront(),f=u.getNode().getImmediateChild(h).updateChild(p,n);s=".priority"==h?c.updatePriority(u.getNode(),f):c.updateChild(u.getNode(),h,f,p,de,null)}var d=t.updateServerSnap(s,u.isFullyInitialized()||e.isEmpty(),c.filtersNodes()),y=new ye(r,d,o);return this.generateEventCacheAfterServerEvent_(d,e,r,y,a)},h.prototype.applyUserOverwrite_=function(t,e,n,r,o,i){var a,s,u=t.getEventCache(),c=new ye(r,t,o);if(e.isEmpty())s=this.filter_.updateFullNode(t.getEventCache().getNode(),n,i),a=t.updateEventSnap(s,!0,this.filter_.filtersNodes());else{var l=e.getFront();if(".priority"===l)s=this.filter_.updatePriority(t.getEventCache().getNode(),n),a=t.updateEventSnap(s,u.isFullyInitialized(),u.isFiltered());else{var h=e.popFront(),p=u.getNode().getImmediateChild(l),f=void 0;if(h.isEmpty())f=n;else{var d=c.getCompleteChild(l);f=null!=d?".priority"===h.getBack()&&d.getChild(h.parent()).isEmpty()?d:d.updateChild(h,n):Lt.EMPTY_NODE}if(p.equals(f))a=t;else{var y=this.filter_.updateChild(u.getNode(),l,f,h,c,i);a=t.updateEventSnap(y,u.isFullyInitialized(),this.filter_.filtersNodes())}}}return a},h.cacheHasChild_=function(t,e){return t.getEventCache().isCompleteForChild(e)},h.prototype.applyUserMerge_=function(r,o,t,i,a,s){var u=this,c=r;return t.foreach(function(t,e){var n=o.child(t);h.cacheHasChild_(r,n.getFront())&&(c=u.applyUserOverwrite_(c,n,e,i,a,s))}),t.foreach(function(t,e){var n=o.child(t);h.cacheHasChild_(r,n.getFront())||(c=u.applyUserOverwrite_(c,n,e,i,a,s))}),c},h.prototype.applyMerge_=function(n,t){return t.foreach(function(t,e){n=n.updateChild(t,e)}),n},h.prototype.applyServerMerge_=function(i,t,e,a,s,u,c){var l=this;if(i.getServerCache().getNode().isEmpty()&&!i.getServerCache().isFullyInitialized())return i;var n,h=i;n=t.isEmpty()?e:ie.Empty.setTree(t,e);var p=i.getServerCache().getNode();return n.children.inorderTraversal(function(t,e){if(p.hasChild(t)){var n=i.getServerCache().getNode().getImmediateChild(t),r=l.applyMerge_(n,e);h=l.applyServerOverwrite_(h,new Y(t),r,a,s,u,c)}}),n.children.inorderTraversal(function(t,e){var n=!i.getServerCache().isCompleteForChild(t)&&null==e.value;if(!p.hasChild(t)&&!n){var r=i.getServerCache().getNode().getImmediateChild(t),o=l.applyMerge_(r,e);h=l.applyServerOverwrite_(h,new Y(t),o,a,s,u,c)}}),h},h.prototype.ackUserWrite_=function(t,r,e,n,o,i){if(null!=n.shadowingWrite(r))return t;var a=t.getServerCache().isFiltered(),s=t.getServerCache();if(null!=e.value){if(r.isEmpty()&&s.isFullyInitialized()||s.isCompleteForPath(r))return this.applyServerOverwrite_(t,r,s.getNode().getChild(r),n,o,a,i);if(r.isEmpty()){var u=ie.Empty;return s.getNode().forEachChild(bt,function(t,e){u=u.set(new Y(t),e)}),this.applyServerMerge_(t,r,u,n,o,a,i)}return t}var c=ie.Empty;return e.foreach(function(t,e){var n=r.child(t);s.isCompleteForPath(n)&&(c=c.set(t,s.getNode().getChild(n)))}),this.applyServerMerge_(t,r,c,n,o,a,i)},h.prototype.listenComplete_=function(t,e,n,r){var o=t.getServerCache(),i=t.updateServerSnap(o.getNode(),o.isFullyInitialized()||e.isEmpty(),o.isFiltered());return this.generateEventCacheAfterServerEvent_(i,e,n,de,r)},h.prototype.revertUserWrite_=function(t,e,n,r,o){var i;if(null!=n.shadowingWrite(e))return t;var a=new ye(n,t,r),s=t.getEventCache().getNode(),u=void 0;if(e.isEmpty()||".priority"===e.getFront()){var c=void 0;if(t.getServerCache().isFullyInitialized())c=n.calcCompleteEventCache(t.getCompleteServerSnap());else{var l=t.getServerCache().getNode();b.assert(l instanceof Lt,"serverChildren would be complete if leaf node"),c=n.calcCompleteEventChildren(l)}c=c,u=this.filter_.updateFullNode(s,c,o)}else{var h=e.getFront(),p=n.calcCompleteChild(h,t.getServerCache());null==p&&t.getServerCache().isCompleteForChild(h)&&(p=s.getImmediateChild(h)),(u=null!=p?this.filter_.updateChild(s,h,p,e.popFront(),a,o):t.getEventCache().getNode().hasChild(h)?this.filter_.updateChild(s,h,Lt.EMPTY_NODE,e.popFront(),a,o):s).isEmpty()&&t.getServerCache().isFullyInitialized()&&(i=n.calcCompleteEventCache(t.getCompleteServerSnap())).isLeafNode()&&(u=this.filter_.updateFullNode(u,i,o))}return i=t.getServerCache().isFullyInitialized()||null!=n.shadowingWrite(Y.Empty),t.updateEventSnap(u,i,this.filter_.filtersNodes())},h}(),ge=function(){function t(t){this.query_=t,this.index_=this.query_.getQueryParams().getIndex()}return t.prototype.generateEventsForChanges=function(t,e,n){var r=this,o=[],i=[];return t.forEach(function(t){t.type===he.CHILD_CHANGED&&r.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&i.push(he.childMovedChange(t.childName,t.snapshotNode))}),this.generateEventsForType_(o,he.CHILD_REMOVED,t,n,e),this.generateEventsForType_(o,he.CHILD_ADDED,t,n,e),this.generateEventsForType_(o,he.CHILD_MOVED,i,n,e),this.generateEventsForType_(o,he.CHILD_CHANGED,t,n,e),this.generateEventsForType_(o,he.VALUE,t,n,e),o},t.prototype.generateEventsForType_=function(r,e,t,o,i){var a=this,n=t.filter(function(t){return t.type===e});n.sort(this.compareChanges_.bind(this)),n.forEach(function(e){var n=a.materializeSingleChange_(e,i);o.forEach(function(t){t.respondsTo(e.type)&&r.push(t.createEvent(n,a.query_))})})},t.prototype.materializeSingleChange_=function(t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,this.index_)),t},t.prototype.compareChanges_=function(t,e){if(null==t.childName||null==e.childName)throw b.assertionError("Should only compare child_ events.");var n=new _t(t.childName,t.snapshotNode),r=new _t(e.childName,e.snapshotNode);return this.index_.compare(n,r)},t}(),me=function(){function t(t,e){this.query_=t,this.eventRegistrations_=[];var n=this.query_.getQueryParams(),r=new pe(n.getIndex()),o=n.getNodeFilter();this.processor_=new _e(o);var i=e.getServerCache(),a=e.getEventCache(),s=r.updateFullNode(Lt.EMPTY_NODE,i.getNode(),null),u=o.updateFullNode(Lt.EMPTY_NODE,a.getNode(),null),c=new ce(s,i.isFullyInitialized(),r.filtersNodes()),l=new ce(u,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=new le(l,c),this.eventGenerator_=new ge(this.query_)}return t.prototype.getQuery=function(){return this.query_},t.prototype.getServerCache=function(){return this.viewCache_.getServerCache().getNode()},t.prototype.getCompleteServerCache=function(t){var e=this.viewCache_.getCompleteServerSnap();return e&&(this.query_.getQueryParams().loadsAllData()||!t.isEmpty()&&!e.getImmediateChild(t.getFront()).isEmpty())?e.getChild(t):null},t.prototype.isEmpty=function(){return 0===this.eventRegistrations_.length},t.prototype.addEventRegistration=function(t){this.eventRegistrations_.push(t)},t.prototype.removeEventRegistration=function(t,n){var r=[];if(n){b.assert(null==t,"A cancel should cancel all event registrations.");var o=this.query_.path;this.eventRegistrations_.forEach(function(t){n=n;var e=t.createCancelEvent(n,o);e&&r.push(e)})}if(t){for(var e=[],i=0;i<this.eventRegistrations_.length;++i){var a=this.eventRegistrations_[i];if(a.matches(t)){if(t.hasAnyCallback()){e=e.concat(this.eventRegistrations_.slice(i+1));break}}else e.push(a)}this.eventRegistrations_=e}else this.eventRegistrations_=[];return r},t.prototype.applyOperation=function(t,e,n){t.type===Vt.MERGE&&null!==t.source.queryId&&(b.assert(this.viewCache_.getCompleteServerSnap(),"We should always have a full cache before handling merges"),b.assert(this.viewCache_.getCompleteEventSnap(),"Missing event cache, even though we have a server cache"));var r=this.viewCache_,o=this.processor_.applyOperation(r,t,e,n);return this.processor_.assertIndexed(o.viewCache),b.assert(o.viewCache.getServerCache().isFullyInitialized()||!r.getServerCache().isFullyInitialized(),"Once a server snap is complete, it should never go back"),this.viewCache_=o.viewCache,this.generateEventsForChanges_(o.changes,o.viewCache.getEventCache().getNode(),null)},t.prototype.getInitialEvents=function(t){var e=this.viewCache_.getEventCache(),n=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(St,function(t,e){n.push(he.childAddedChange(t,e))}),e.isFullyInitialized()&&n.push(he.valueChange(e.getNode())),this.generateEventsForChanges_(n,e.getNode(),t)},t.prototype.generateEventsForChanges_=function(t,e,n){var r=n?[n]:this.eventRegistrations_;return this.eventGenerator_.generateEventsForChanges(t,e,r)},t}(),be=function(){function c(){this.views_={}}return Object.defineProperty(c,"__referenceConstructor",{get:function(){return b.assert(ne,"Reference.ts has not been loaded"),ne},set:function(t){b.assert(!ne,"__referenceConstructor has already been defined"),ne=t},enumerable:!0,configurable:!0}),c.prototype.isEmpty=function(){return b.isEmpty(this.views_)},c.prototype.applyOperation=function(n,r,o){var t=n.source.queryId;if(null!==t){var e=b.safeGet(this.views_,t);return b.assert(null!=e,"SyncTree gave us an op for an invalid query."),e.applyOperation(n,r,o)}var i=[];return b.forEach(this.views_,function(t,e){i=i.concat(e.applyOperation(n,r,o))}),i},c.prototype.addEventRegistration=function(t,e,n,r,o){var i=t.queryIdentifier(),a=b.safeGet(this.views_,i);if(!a){var s=n.calcCompleteEventCache(o?r:null),u=!1;u=!!s||(s=r instanceof Lt?n.calcCompleteEventChildren(r):Lt.EMPTY_NODE,!1);var c=new le(new ce(s,u,!1),new ce(r,o,!1));a=new me(t,c),this.views_[i]=a}return a.addEventRegistration(e),a.getInitialEvents(e)},c.prototype.removeEventRegistration=function(t,n,r){var e=t.queryIdentifier(),o=[],i=[],a=this.hasCompleteView();if("default"===e){var s=this;b.forEach(this.views_,function(t,e){i=i.concat(e.removeEventRegistration(n,r)),e.isEmpty()&&(delete s.views_[t],e.getQuery().getQueryParams().loadsAllData()||o.push(e.getQuery()))})}else{var u=b.safeGet(this.views_,e);u&&(i=i.concat(u.removeEventRegistration(n,r)),u.isEmpty()&&(delete this.views_[e],u.getQuery().getQueryParams().loadsAllData()||o.push(u.getQuery())))}return a&&!this.hasCompleteView()&&o.push(new c.__referenceConstructor(t.repo,t.path)),{removed:o,events:i}},c.prototype.getQueryViews=function(){var e=this;return Object.keys(this.views_).map(function(t){return e.views_[t]}).filter(function(t){return!t.getQuery().getQueryParams().loadsAllData()})},c.prototype.getCompleteServerCache=function(n){var r=null;return b.forEach(this.views_,function(t,e){r=r||e.getCompleteServerCache(n)}),r},c.prototype.viewForQuery=function(t){if(t.getQueryParams().loadsAllData())return this.getCompleteView();var e=t.queryIdentifier();return b.safeGet(this.views_,e)},c.prototype.viewExistsForQuery=function(t){return null!=this.viewForQuery(t)},c.prototype.hasCompleteView=function(){return null!=this.getCompleteView()},c.prototype.getCompleteView=function(){return b.findValue(this.views_,function(t){return t.getQuery().getQueryParams().loadsAllData()})||null},c}(),Ee=function(){function s(t){this.writeTree_=t}return s.prototype.addWrite=function(t,e){if(t.isEmpty())return new s(new ie(e));var n=this.writeTree_.findRootMostValueAndPath(t);if(null!=n){var r=n.path,o=n.value,i=Y.relativePath(r,t);return o=o.updateChild(i,e),new s(this.writeTree_.set(r,o))}var a=new ie(e);return new s(this.writeTree_.setTree(t,a))},s.prototype.addWrites=function(n,t){var r=this;return b.forEach(t,function(t,e){r=r.addWrite(n.child(t),e)}),r},s.prototype.removeWrite=function(t){return t.isEmpty()?s.Empty:new s(this.writeTree_.setTree(t,ie.Empty))},s.prototype.hasCompleteWrite=function(t){return null!=this.getCompleteNode(t)},s.prototype.getCompleteNode=function(t){var e=this.writeTree_.findRootMostValueAndPath(t);return null!=e?this.writeTree_.get(e.path).getChild(Y.relativePath(e.path,t)):null},s.prototype.getCompleteChildren=function(){var n=[],t=this.writeTree_.value;return null!=t?t.isLeafNode()||t.forEachChild(St,function(t,e){n.push(new _t(t,e))}):this.writeTree_.children.inorderTraversal(function(t,e){null!=e.value&&n.push(new _t(t,e.value))}),n},s.prototype.childCompoundWrite=function(t){if(t.isEmpty())return this;var e=this.getCompleteNode(t);return new s(null!=e?new ie(e):this.writeTree_.subtree(t))},s.prototype.isEmpty=function(){return this.writeTree_.isEmpty()},s.prototype.apply=function(t){return s.applySubtreeWrite_(Y.Empty,this.writeTree_,t)},s.Empty=new s(new ie(null)),s.applySubtreeWrite_=function(n,t,r){if(null!=t.value)return r.updateChild(n,t.value);var o=null;return t.children.inorderTraversal(function(t,e){".priority"===t?(b.assert(null!==e.value,"Priority writes must always be leaf nodes"),o=e.value):r=s.applySubtreeWrite_(n.child(t),e,r)}),r.getChild(n).isEmpty()||null===o||(r=r.updateChild(n.child(".priority"),o)),r},s}(),we=function(){function c(){this.visibleWrites_=Ee.Empty,this.allWrites_=[],this.lastWriteId_=-1}return c.prototype.childWrites=function(t){return new Ce(t,this)},c.prototype.addOverwrite=function(t,e,n,r){b.assert(n>this.lastWriteId_,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),this.allWrites_.push({path:t,snap:e,writeId:n,visible:r}),r&&(this.visibleWrites_=this.visibleWrites_.addWrite(t,e)),this.lastWriteId_=n},c.prototype.addMerge=function(t,e,n){b.assert(n>this.lastWriteId_,"Stacking an older merge on top of newer ones"),this.allWrites_.push({path:t,children:e,writeId:n,visible:!0}),this.visibleWrites_=this.visibleWrites_.addWrites(t,e),this.lastWriteId_=n},c.prototype.getWrite=function(t){for(var e=0;e<this.allWrites_.length;e++){var n=this.allWrites_[e];if(n.writeId===t)return n}return null},c.prototype.removeWrite=function(e){var n=this,t=this.allWrites_.findIndex(function(t){return t.writeId===e});b.assert(0<=t,"removeWrite called with nonexistent writeId.");var r=this.allWrites_[t];this.allWrites_.splice(t,1);for(var o=r.visible,i=!1,a=this.allWrites_.length-1;o&&0<=a;){var s=this.allWrites_[a];s.visible&&(t<=a&&this.recordContainsPath_(s,r.path)?o=!1:r.path.contains(s.path)&&(i=!0)),a--}if(o){if(i)return this.resetTree_(),!0;if(r.snap)this.visibleWrites_=this.visibleWrites_.removeWrite(r.path);else{var u=r.children;b.forEach(u,function(t){n.visibleWrites_=n.visibleWrites_.removeWrite(r.path.child(t))})}return!0}return!1},c.prototype.getCompleteWriteData=function(t){return this.visibleWrites_.getCompleteNode(t)},c.prototype.calcCompleteEventCache=function(e,t,n,r){if(n||r){var o=this.visibleWrites_.childCompoundWrite(e);if(!r&&o.isEmpty())return t;if(r||null!=t||o.hasCompleteWrite(Y.Empty)){var i=c.layerTree_(this.allWrites_,function(t){return(t.visible||r)&&(!n||!~n.indexOf(t.writeId))&&(t.path.contains(e)||e.contains(t.path))},e);return u=t||Lt.EMPTY_NODE,i.apply(u)}return null}var a=this.visibleWrites_.getCompleteNode(e);if(null!=a)return a;var s=this.visibleWrites_.childCompoundWrite(e);if(s.isEmpty())return t;if(null!=t||s.hasCompleteWrite(Y.Empty)){var u=t||Lt.EMPTY_NODE;return s.apply(u)}return null},c.prototype.calcCompleteEventChildren=function(t,e){var r=Lt.EMPTY_NODE,n=this.visibleWrites_.getCompleteNode(t);if(n)return n.isLeafNode()||n.forEachChild(St,function(t,e){r=r.updateImmediateChild(t,e)}),r;if(e){var o=this.visibleWrites_.childCompoundWrite(t);return e.forEachChild(St,function(t,e){var n=o.childCompoundWrite(new Y(t)).apply(e);r=r.updateImmediateChild(t,n)}),o.getCompleteChildren().forEach(function(t){r=r.updateImmediateChild(t.name,t.node)}),r}return this.visibleWrites_.childCompoundWrite(t).getCompleteChildren().forEach(function(t){r=r.updateImmediateChild(t.name,t.node)}),r},c.prototype.calcEventCacheAfterServerOverwrite=function(t,e,n,r){b.assert(n||r,"Either existingEventSnap or existingServerSnap must exist");var o=t.child(e);if(this.visibleWrites_.hasCompleteWrite(o))return null;var i=this.visibleWrites_.childCompoundWrite(o);return i.isEmpty()?r.getChild(e):i.apply(r.getChild(e))},c.prototype.calcCompleteChild=function(t,e,n){var r=t.child(e),o=this.visibleWrites_.getCompleteNode(r);return null!=o?o:n.isCompleteForChild(e)?this.visibleWrites_.childCompoundWrite(r).apply(n.getNode().getImmediateChild(e)):null},c.prototype.shadowingWrite=function(t){return this.visibleWrites_.getCompleteNode(t)},c.prototype.calcIndexedSlice=function(t,e,n,r,o,i){var a,s=this.visibleWrites_.childCompoundWrite(t),u=s.getCompleteNode(Y.Empty);if(null!=u)a=u;else{if(null==e)return[];a=s.apply(e)}if((a=a.withIndex(i)).isEmpty()||a.isLeafNode())return[];for(var c=[],l=i.getCompare(),h=o?a.getReverseIteratorFrom(n,i):a.getIteratorFrom(n,i),p=h.getNext();p&&c.length<r;)0!==l(p,n)&&c.push(p),p=h.getNext();return c},c.prototype.recordContainsPath_=function(n,r){return n.snap?n.path.contains(r):!!b.findKey(n.children,function(t,e){return n.path.child(e).contains(r)})},c.prototype.resetTree_=function(){this.visibleWrites_=c.layerTree_(this.allWrites_,c.DefaultFilter_,Y.Empty),0<this.allWrites_.length?this.lastWriteId_=this.allWrites_[this.allWrites_.length-1].writeId:this.lastWriteId_=-1},c.DefaultFilter_=function(t){return t.visible},c.layerTree_=function(t,e,n){for(var r=Ee.Empty,o=0;o<t.length;++o){var i=t[o];if(e(i)){var a=i.path,s=void 0;if(i.snap)n.contains(a)?(s=Y.relativePath(n,a),r=r.addWrite(s,i.snap)):a.contains(n)&&(s=Y.relativePath(a,n),r=r.addWrite(Y.Empty,i.snap.getChild(s)));else{if(!i.children)throw b.assertionError("WriteRecord should have .snap or .children");if(n.contains(a))s=Y.relativePath(n,a),r=r.addWrites(s,i.children);else if(a.contains(n))if((s=Y.relativePath(a,n)).isEmpty())r=r.addWrites(Y.Empty,i.children);else{var u=b.safeGet(i.children,s.getFront());if(u){var c=u.getChild(s.popFront());r=r.addWrite(Y.Empty,c)}}}}}return r},c}(),Ce=function(){function e(t,e){this.treePath_=t,this.writeTree_=e}return e.prototype.calcCompleteEventCache=function(t,e,n){return this.writeTree_.calcCompleteEventCache(this.treePath_,t,e,n)},e.prototype.calcCompleteEventChildren=function(t){return this.writeTree_.calcCompleteEventChildren(this.treePath_,t)},e.prototype.calcEventCacheAfterServerOverwrite=function(t,e,n){return this.writeTree_.calcEventCacheAfterServerOverwrite(this.treePath_,t,e,n)},e.prototype.shadowingWrite=function(t){return this.writeTree_.shadowingWrite(this.treePath_.child(t))},e.prototype.calcIndexedSlice=function(t,e,n,r,o){return this.writeTree_.calcIndexedSlice(this.treePath_,t,e,n,r,o)},e.prototype.calcCompleteChild=function(t,e){return this.writeTree_.calcCompleteChild(this.treePath_,t,e)},e.prototype.child=function(t){return new e(this.treePath_.child(t),this.writeTree_)},e}(),Se=function(){function _(t){this.listenProvider_=t,this.syncPointTree_=ie.Empty,this.pendingWriteTree_=new we,this.tagToQueryMap_={},this.queryToTagMap_={}}return _.prototype.applyUserOverwrite=function(t,e,n,r){return this.pendingWriteTree_.addOverwrite(t,e,n,r),r?this.applyOperationToSyncPoints_(new se(re.User,t,e)):[]},_.prototype.applyUserMerge=function(t,e,n){this.pendingWriteTree_.addMerge(t,e,n);var r=ie.fromObject(e);return this.applyOperationToSyncPoints_(new ue(re.User,t,r))},_.prototype.ackUserWrite=function(t,e){void 0===e&&(e=!1);var n=this.pendingWriteTree_.getWrite(t);if(this.pendingWriteTree_.removeWrite(t)){var r=ie.Empty;return null!=n.snap?r=r.set(Y.Empty,!0):b.forEach(n.children,function(t,e){r=r.set(new Y(t),e)}),this.applyOperationToSyncPoints_(new oe(n.path,r,e))}return[]},_.prototype.applyServerOverwrite=function(t,e){return this.applyOperationToSyncPoints_(new se(re.Server,t,e))},_.prototype.applyServerMerge=function(t,e){var n=ie.fromObject(e);return this.applyOperationToSyncPoints_(new ue(re.Server,t,n))},_.prototype.applyListenComplete=function(t){return this.applyOperationToSyncPoints_(new ae(re.Server,t))},_.prototype.applyTaggedQueryOverwrite=function(t,e,n){var r=this.queryKeyForTag_(n);if(null==r)return[];var o=_.parseQueryKey_(r),i=o.path,a=o.queryId,s=Y.relativePath(i,t),u=new se(re.forServerTaggedQuery(a),s,e);return this.applyTaggedOperation_(i,u)},_.prototype.applyTaggedQueryMerge=function(t,e,n){var r=this.queryKeyForTag_(n);if(r){var o=_.parseQueryKey_(r),i=o.path,a=o.queryId,s=Y.relativePath(i,t),u=ie.fromObject(e),c=new ue(re.forServerTaggedQuery(a),s,u);return this.applyTaggedOperation_(i,c)}return[]},_.prototype.applyTaggedListenComplete=function(t,e){var n=this.queryKeyForTag_(e);if(n){var r=_.parseQueryKey_(n),o=r.path,i=r.queryId,a=Y.relativePath(o,t),s=new ae(re.forServerTaggedQuery(i),a);return this.applyTaggedOperation_(o,s)}return[]},_.prototype.addEventRegistration=function(t,e){var r=t.path,o=null,i=!1;this.syncPointTree_.foreachOnPath(r,function(t,e){var n=Y.relativePath(t,r);o=o||e.getCompleteServerCache(n),i=i||e.hasCompleteView()});var n,a=this.syncPointTree_.get(r);a?(i=i||a.hasCompleteView(),o=o||a.getCompleteServerCache(Y.Empty)):(a=new be,this.syncPointTree_=this.syncPointTree_.set(r,a)),null!=o?n=!0:(n=!1,o=Lt.EMPTY_NODE,this.syncPointTree_.subtree(r).foreachChild(function(t,e){var n=e.getCompleteServerCache(Y.Empty);n&&(o=o.updateImmediateChild(t,n))}));var s=a.viewExistsForQuery(t);if(!s&&!t.getQueryParams().loadsAllData()){var u=_.makeQueryKey_(t);b.assert(!(u in this.queryToTagMap_),"View does not exist, but we have a tag");var c=_.getNextQueryTag_();this.queryToTagMap_[u]=c,this.tagToQueryMap_["_"+c]=u}var l=this.pendingWriteTree_.childWrites(r),h=a.addEventRegistration(t,e,l,o,n);if(!s&&!i){var p=a.viewForQuery(t);h=h.concat(this.setupListener_(t,p))}return h},_.prototype.removeEventRegistration=function(t,e,n){var r=this,o=t.path,i=this.syncPointTree_.get(o),a=[];if(i&&("default"===t.queryIdentifier()||i.viewExistsForQuery(t))){var s=i.removeEventRegistration(t,e,n);i.isEmpty()&&(this.syncPointTree_=this.syncPointTree_.remove(o));var u=s.removed;a=s.events;var c=-1!==u.findIndex(function(t){return t.getQueryParams().loadsAllData()}),l=this.syncPointTree_.findOnPath(o,function(t,e){return e.hasCompleteView()});if(c&&!l){var h=this.syncPointTree_.subtree(o);if(!h.isEmpty())for(var p=this.collectDistinctViewsForSubTree_(h),f=0;f<p.length;++f){var d=p[f],y=d.getQuery(),v=this.createListenerForView_(d);this.listenProvider_.startListening(_.queryForListening_(y),this.tagForQuery_(y),v.hashFn,v.onComplete)}}!l&&0<u.length&&!n&&(c?this.listenProvider_.stopListening(_.queryForListening_(t),null):u.forEach(function(t){var e=r.queryToTagMap_[_.makeQueryKey_(t)];r.listenProvider_.stopListening(_.queryForListening_(t),e)})),this.removeTags_(u)}return a},_.prototype.calcCompleteEventCache=function(o,t){var e=this.pendingWriteTree_,n=this.syncPointTree_.findOnPath(o,function(t,e){var n=Y.relativePath(t,o),r=e.getCompleteServerCache(n);if(r)return r});return e.calcCompleteEventCache(o,n,t,!0)},_.prototype.collectDistinctViewsForSubTree_=function(t){return t.fold(function(t,e,n){if(e&&e.hasCompleteView())return[e.getCompleteView()];var r=[];return e&&(r=e.getQueryViews()),b.forEach(n,function(t,e){r=r.concat(e)}),r})},_.prototype.removeTags_=function(t){for(var e=0;e<t.length;++e){var n=t[e];if(!n.getQueryParams().loadsAllData()){var r=_.makeQueryKey_(n),o=this.queryToTagMap_[r];delete this.queryToTagMap_[r],delete this.tagToQueryMap_["_"+o]}}},_.queryForListening_=function(t){return t.getQueryParams().loadsAllData()&&!t.getQueryParams().isDefault()?t.getRef():t},_.prototype.setupListener_=function(t,e){var n=t.path,r=this.tagForQuery_(t),o=this.createListenerForView_(e),i=this.listenProvider_.startListening(_.queryForListening_(t),r,o.hashFn,o.onComplete),a=this.syncPointTree_.subtree(n);if(r)b.assert(!a.value.hasCompleteView(),"If we're adding a query, it shouldn't be shadowed");else for(var s=a.fold(function(t,e,n){if(!t.isEmpty()&&e&&e.hasCompleteView())return[e.getCompleteView().getQuery()];var r=[];return e&&(r=r.concat(e.getQueryViews().map(function(t){return t.getQuery()}))),b.forEach(n,function(t,e){r=r.concat(e)}),r}),u=0;u<s.length;++u){var c=s[u];this.listenProvider_.stopListening(_.queryForListening_(c),this.tagForQuery_(c))}return i},_.prototype.createListenerForView_=function(t){var n=this,o=t.getQuery(),r=this.tagForQuery_(o);return{hashFn:function(){return(t.getServerCache()||Lt.EMPTY_NODE).hash()},onComplete:function(t){if("ok"===t)return r?n.applyTaggedListenComplete(o.path,r):n.applyListenComplete(o.path);var e=function(t,e){var n="Unknown Error";"too_big"===t?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"==t?n="Client doesn't have permission to access the desired data.":"unavailable"==t&&(n="The service is unavailable");var r=new Error(t+" at "+o.path.toString()+": "+n);return r.code=t.toUpperCase(),r}(t);return n.removeEventRegistration(o,null,e)}}},_.makeQueryKey_=function(t){return t.path.toString()+"$"+t.queryIdentifier()},_.parseQueryKey_=function(t){var e=t.indexOf("$");return b.assert(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Y(t.substr(0,e))}},_.prototype.queryKeyForTag_=function(t){return this.tagToQueryMap_["_"+t]},_.prototype.tagForQuery_=function(t){var e=_.makeQueryKey_(t);return b.safeGet(this.queryToTagMap_,e)},_.getNextQueryTag_=function(){return _.nextQueryTag_++},_.prototype.applyTaggedOperation_=function(t,e){var n=this.syncPointTree_.get(t);b.assert(n,"Missing sync point for query tag that we're tracking");var r=this.pendingWriteTree_.childWrites(t);return n.applyOperation(e,r,null)},_.prototype.applyOperationToSyncPoints_=function(t){return this.applyOperationHelper_(t,this.syncPointTree_,null,this.pendingWriteTree_.childWrites(Y.Empty))},_.prototype.applyOperationHelper_=function(t,e,n,r){if(t.path.isEmpty())return this.applyOperationDescendantsHelper_(t,e,n,r);var o=e.get(Y.Empty);null==n&&null!=o&&(n=o.getCompleteServerCache(Y.Empty));var i=[],a=t.path.getFront(),s=t.operationForChild(a),u=e.children.get(a);if(u&&s){var c=n?n.getImmediateChild(a):null,l=r.child(a);i=i.concat(this.applyOperationHelper_(s,u,c,l))}return o&&(i=i.concat(o.applyOperation(t,r,n))),i},_.prototype.applyOperationDescendantsHelper_=function(i,t,a,s){var u=this,e=t.get(Y.Empty);null==a&&null!=e&&(a=e.getCompleteServerCache(Y.Empty));var c=[];return t.children.inorderTraversal(function(t,e){var n=a?a.getImmediateChild(t):null,r=s.child(t),o=i.operationForChild(t);o&&(c=c.concat(u.applyOperationDescendantsHelper_(o,e,n,r)))}),e&&(c=c.concat(e.applyOperation(i,s,a))),c},_.nextQueryTag_=1,_}(),Te=function(){function t(){this.rootNode_=Lt.EMPTY_NODE}return t.prototype.getNode=function(t){return this.rootNode_.getChild(t)},t.prototype.updateSnapshot=function(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)},t}(),xe=function(){function t(t){this.app_=t}return t.prototype.getToken=function(t){return this.app_.INTERNAL.getToken(t).then(null,function(t){return t&&"auth/token-not-initialized"===t.code?(P("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)})},t.prototype.addTokenChangeListener=function(t){this.app_.INTERNAL.addAuthTokenListener(t)},t.prototype.removeTokenChangeListener=function(t){this.app_.INTERNAL.removeAuthTokenListener(t)},t.prototype.notifyForInvalidToken=function(){var t='Provided authentication credentials for the app named "'+this.app_.name+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.app_.options?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.app_.options?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',A(t)},t}(),Oe=function(){function t(){this.counters_={}}return t.prototype.incrementCounter=function(t,e){void 0===e&&(e=1),b.contains(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e},t.prototype.get=function(){return b.deepCopy(this.counters_)},t}(),Ne=function(){function t(){}return t.getCollection=function(t){var e=t.toString();return this.collections_[e]||(this.collections_[e]=new Oe),this.collections_[e]},t.getOrCreateReporter=function(t,e){var n=t.toString();return this.reporters_[n]||(this.reporters_[n]=e()),this.reporters_[n]},t.collections_={},t.reporters_={},t}(),Pe=function(){function t(t){this.collection_=t,this.last_=null}return t.prototype.get=function(){var t=this.collection_.get(),n=b.clone(t);return this.last_&&b.forEach(this.last_,function(t,e){n[t]=n[t]-e}),this.last_=t,n},t}(),Re=function(){function t(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new Pe(t);var n=1e4+2e4*Math.random();$(this.reportStats_.bind(this),Math.floor(n))}return t.prototype.includeStat=function(t){this.statsToReport_[t]=!0},t.prototype.reportStats_=function(){var n=this,t=this.statsListener_.get(),r={},o=!1;b.forEach(t,function(t,e){0<e&&b.contains(n.statsToReport_,t)&&(r[t]=e,o=!0)}),o&&this.server_.reportStats(r),$(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},t}(),Ie=function(){function t(){this.eventLists_=[],this.recursionDepth_=0}return t.prototype.queueEvents=function(t){for(var e=null,n=0;n<t.length;n++){var r=t[n],o=r.getPath();null===e||o.equals(e.getPath())||(this.eventLists_.push(e),e=null),null===e&&(e=new ke(o)),e.add(r)}e&&this.eventLists_.push(e)},t.prototype.raiseEventsAtPath=function(e,t){this.queueEvents(t),this.raiseQueuedEventsMatchingPredicate_(function(t){return t.equals(e)})},t.prototype.raiseEventsForChangedPath=function(e,t){this.queueEvents(t),this.raiseQueuedEventsMatchingPredicate_(function(t){return t.contains(e)||e.contains(t)})},t.prototype.raiseQueuedEventsMatchingPredicate_=function(t){this.recursionDepth_++;for(var e=!0,n=0;n<this.eventLists_.length;n++){var r=this.eventLists_[n];r&&(t(r.getPath())?(this.eventLists_[n].raise(),this.eventLists_[n]=null):e=!1)}e&&(this.eventLists_=[]),this.recursionDepth_--},t}(),ke=function(){function t(t){this.path_=t,this.events_=[]}return t.prototype.add=function(t){this.events_.push(t)},t.prototype.raise=function(){for(var t=0;t<this.events_.length;t++){var e=this.events_[t];if(null!==e){this.events_[t]=null;var n=e.getEventRunner();x&&P("event: "+e.toString()),z(n)}}},t.prototype.getPath=function(){return this.path_},t}(),Ae=function(){function t(t){this.allowedEvents_=t,this.listeners_={},b.assert(Array.isArray(t)&&0<t.length,"Requires a non-empty array")}return t.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Array.isArray(this.listeners_[t]))for(var r=this.listeners_[t].slice(),o=0;o<r.length;o++)r[o].callback.apply(r[o].context,e)},t.prototype.on=function(t,e,n){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:n});var r=this.getInitialEvent(t);r&&e.apply(n,r)},t.prototype.off=function(t,e,n){this.validateEventType_(t);for(var r=this.listeners_[t]||[],o=0;o<r.length;o++)if(r[o].callback===e&&(!n||n===r[o].context))return void r.splice(o,1)},t.prototype.validateEventType_=function(e){b.assert(this.allowedEvents_.find(function(t){return t===e}),"Unknown event: "+e)},t}(),De=function(r){function t(){var e,t,n=r.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(t="visibilitychange",e="hidden"):void 0!==document.mozHidden?(t="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(t="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(t="webkitvisibilitychange",e="webkitHidden")),n.visible_=!0,t&&document.addEventListener(t,function(){var t=!document[e];t!==n.visible_&&(n.visible_=t,n.trigger("visible",t))},!1),n}return d.__extends(t,r),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(t){return b.assert("visible"===t,"Unknown event type: "+t),[this.visible_]},t}(Ae),Fe=function(e){function t(){var t=e.call(this,["online"])||this;return t.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||b.isMobileCordova()||(window.addEventListener("online",function(){t.online_||(t.online_=!0,t.trigger("online",!0))},!1),window.addEventListener("offline",function(){t.online_&&(t.online_=!1,t.trigger("online",!1))},!1)),t}return d.__extends(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(t){return b.assert("online"===t,"Unknown event type: "+t),[this.online_]},t.prototype.currentlyOnline=function(){return this.online_},t}(Ae),Le=function(){function t(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return t.prototype.closeAfter=function(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},t.prototype.handleResponse=function(t,e){var r=this;this.pendingResponses[t]=e;for(var n=function(){var e=o.pendingResponses[o.currentResponseNum];delete o.pendingResponses[o.currentResponseNum];for(var t=function(t){e[t]&&z(function(){r.onMessage_(e[t])})},n=0;n<e.length;++n)t(n);if(o.currentResponseNum===o.closeAfterResponse)return o.onClose&&(o.onClose(),o.onClose=null),"break";o.currentResponseNum++},o=this;this.pendingResponses[this.currentResponseNum]&&"break"!==n(););},t}(),Me=function(){function t(t,e,n,r){this.connId=t,this.repoInfo=e,this.transportSessionId=n,this.lastSessionId=r,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=R(t),this.stats_=Ne.getCollection(e),this.urlFn=function(t){return e.connectionURL(K,t)}}return t.prototype.open=function(t,e){var i=this;this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new Le(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){i.log_("Timed out trying to connect."),i.onClosed_(),i.connectTimeoutTimer_=null},Math.floor(3e4)),function(e){if(b.isNodeSdk()||"complete"===document.readyState)e();else{var n=!1,t=function t(){document.body?n||(n=!0,e()):setTimeout(t,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&t()}),window.attachEvent("onload",t))}}(function(){if(!i.isClosed_){i.scriptTagHolder=new je(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[0],r=t[1],o=t[2];if(i.incrementIncomingBytes_(t),i.scriptTagHolder)if(i.connectTimeoutTimer_&&(clearTimeout(i.connectTimeoutTimer_),i.connectTimeoutTimer_=null),i.everConnected_=!0,"start"==n)i.id=r,i.password=o;else{if("close"!==n)throw new Error("Unrecognized command received: "+n);r?(i.scriptTagHolder.sendNewPolls=!1,i.myPacketOrderer.closeAfter(r,function(){i.onClosed_()})):i.onClosed_()}},function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[0],r=t[1];i.incrementIncomingBytes_(t),i.myPacketOrderer.handleResponse(n,r)},function(){i.onClosed_()},i.urlFn);var t={start:"t"};t.ser=Math.floor(1e8*Math.random()),i.scriptTagHolder.uniqueCallbackIdentifier&&(t.cb=i.scriptTagHolder.uniqueCallbackIdentifier),t.v="5",i.transportSessionId&&(t.s=i.transportSessionId),i.lastSessionId&&(t.ls=i.lastSessionId),!b.isNodeSdk()&&"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(t.r="f");var e=i.urlFn(t);i.log_("Connecting via long-poll to "+e),i.scriptTagHolder.addTag(e,function(){})}})},t.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},t.forceAllow=function(){t.forceAllow_=!0},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){return t.forceAllow_||!t.forceDisallow_&&"undefined"!=typeof document&&null!=document.createElement&&!("object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"==typeof Windows&&"object"==typeof Windows.UI)&&!b.isNodeSdk()},t.prototype.markConnectionHealthy=function(){},t.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},t.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},t.prototype.send=function(t){var e=b.stringify(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);for(var n=b.base64Encode(e),r=V(n,1840),o=0;o<r.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[o]),this.curSegmentNum++},t.prototype.addDisconnectPingFrame=function(t,e){if(!b.isNodeSdk()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=t,n.pw=e,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},t.prototype.incrementIncomingBytes_=function(t){var e=b.stringify(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)},t}(),je=function(){function a(t,e,n,r){if(this.onDisconnect=n,this.urlFn=r,this.outstandingRequests=new Xt,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,b.isNodeSdk())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=C(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=a.createIFrame_();var o="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(o='<script>document.domain="'+document.domain+'";<\/script>');var i="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(i),this.myIFrame.doc.close()}catch(t){P("frame writing exception"),t.stack&&P(t.stack),P(t)}}}return a.createIFrame_=function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||P("No IE domain setting required")}catch(t){var n=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e},a.prototype.close=function(){var t=this;if(this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){null!==t.myIFrame&&(document.body.removeChild(t.myIFrame),t.myIFrame=null)},Math.floor(0))),b.isNodeSdk()&&this.myID){var e={disconn:"t"};e.id=this.myID,e.pw=this.myPW;var n=this.urlFn(e);a.nodeRestRequest(n)}var r=this.onDisconnect;r&&(this.onDisconnect=null,r())},a.prototype.startLongPoll=function(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););},a.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.count()<(0<this.pendingSegs.length?2:1)){this.currentSerial++;var t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;for(var e=this.urlFn(t),n="",r=0;0<this.pendingSegs.length&&this.pendingSegs[0].d.length+30+n.length<=1870;){var o=this.pendingSegs.shift();n=n+"&seg"+r+"="+o.seg+"&ts"+r+"="+o.ts+"&d"+r+"="+o.d,r++}return e+=n,this.addLongPollTag_(e,this.currentSerial),!0}return!1},a.prototype.enqueueSegment=function(t,e,n){this.pendingSegs.push({seg:t,ts:e,d:n}),this.alive&&this.newRequest_()},a.prototype.addLongPollTag_=function(t,e){var n=this;this.outstandingRequests.add(e,1);var r=function(){n.outstandingRequests.remove(e),n.newRequest_()},o=setTimeout(r,Math.floor(25e3));this.addTag(t,function(){clearTimeout(o),r()})},a.prototype.addTag=function(t,n){var r=this;b.isNodeSdk()?this.doNodeLongPoll(t,n):setTimeout(function(){try{if(!r.sendNewPolls)return;var e=r.myIFrame.doc.createElement("script");e.type="text/javascript",e.async=!0,e.src=t,e.onload=e.onreadystatechange=function(){var t=e.readyState;t&&"loaded"!==t&&"complete"!==t||(e.onload=e.onreadystatechange=null,e.parentNode&&e.parentNode.removeChild(e),n())},e.onerror=function(){P("Long-poll script failed to load: "+t),r.sendNewPolls=!1,r.close()},r.myIFrame.doc.body.appendChild(e)}catch(t){}},Math.floor(1))},a}(),We=null;"undefined"!=typeof MozWebSocket?We=MozWebSocket:"undefined"!=typeof WebSocket&&(We=WebSocket);var Ue=function(){function o(t,e,n,r){this.connId=t,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=R(this.connId),this.stats_=Ne.getCollection(e),this.connURL=o.connectionURL_(e,n,r)}return o.connectionURL_=function(t,e,n){var r={v:"5"};return!b.isNodeSdk()&&"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(r.r="f"),e&&(r.s=e),n&&(r.ls=n),t.connectionURL("websocket",r)},o.prototype.open=function(t,e){var n=this;this.onDisconnect=e,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,m.set("previous_websocket_failure",!0);try{if(b.isNodeSdk()){var r=b.CONSTANTS.NODE_ADMIN?"AdminNode":"Node",o={headers:{"User-Agent":"Firebase/5/"+y.SDK_VERSION+"/"+u.platform+"/"+r}},i=Object({NODE_ENV:"production",PUBLIC_URL:"/triton"}),a=0==this.connURL.indexOf("wss://")?i.HTTPS_PROXY||i.https_proxy:i.HTTP_PROXY||i.http_proxy;a&&(o.proxy={origin:a}),this.mySock=new We(this.connURL,[],o)}else this.mySock=new We(this.connURL)}catch(t){this.log_("Error instantiating WebSocket.");var s=t.message||t.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(t){n.handleIncomingFrame(t)},this.mySock.onerror=function(t){n.log_("WebSocket error.  Closing connection.");var e=t.message||t.data;e&&n.log_(e),n.onClosed_()}},o.prototype.start=function(){},o.forceDisallow=function(){o.forceDisallow_=!0},o.isAvailable=function(){var t=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var e=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);e&&1<e.length&&parseFloat(e[1])<4.4&&(t=!0)}return!t&&null!==We&&!o.forceDisallow_},o.previouslyFailed=function(){return m.isInMemoryStorage||!0===m.get("previous_websocket_failure")},o.prototype.markConnectionHealthy=function(){m.remove("previous_websocket_failure")},o.prototype.appendFrame_=function(t){if(this.frames.push(t),this.frames.length==this.totalFrames){var e=this.frames.join("");this.frames=null;var n=b.jsonEval(e);this.onMessage(n)}},o.prototype.handleNewFrameCount_=function(t){this.totalFrames=t,this.frames=[]},o.prototype.extractFrameCount_=function(t){if(b.assert(null===this.frames,"We already have a frame buffer"),t.length<=6){var e=Number(t);if(!isNaN(e))return this.handleNewFrameCount_(e),null}return this.handleNewFrameCount_(1),t},o.prototype.handleIncomingFrame=function(t){if(null!==this.mySock){var e=t.data;if(this.bytesReceived+=e.length,this.stats_.incrementCounter("bytes_received",e.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(e);else{var n=this.extractFrameCount_(e);null!==n&&this.appendFrame_(n)}}},o.prototype.send=function(t){this.resetKeepAlive();var e=b.stringify(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);var n=V(e,16384);1<n.length&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},o.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},o.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},o.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},o.prototype.resetKeepAlive=function(){var t=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){t.mySock&&t.sendString_("0"),t.resetKeepAlive()},Math.floor(45e3))},o.prototype.sendString_=function(t){try{this.mySock.send(t)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},o.responsesRequiredToBeHealthy=2,o.healthyTimeout=3e4,o}(),Ve=function(){function o(t){this.initTransports_(t)}return Object.defineProperty(o,"ALL_TRANSPORTS",{get:function(){return[Me,Ue]},enumerable:!0,configurable:!0}),o.prototype.initTransports_=function(t){var e=Ue&&Ue.isAvailable(),n=e&&!Ue.previouslyFailed();if(t.webSocketOnly&&(e||A("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),n=!0),n)this.transports_=[Ue];else{var r=this.transports_=[];q(o.ALL_TRANSPORTS,function(t,e){e&&e.isAvailable()&&r.push(e)})}},o.prototype.initialTransport=function(){if(0<this.transports_.length)return this.transports_[0];throw new Error("No transports available")},o.prototype.upgradeTransport=function(){return 1<this.transports_.length?this.transports_[1]:null},o}(),qe=function(){function t(t,e,n,r,o,i,a){this.id=t,this.repoInfo_=e,this.onMessage_=n,this.onReady_=r,this.onDisconnect_=o,this.onKill_=i,this.lastSessionId=a,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=R("c:"+this.id+":"),this.transportManager_=new Ve(e),this.log_("Connection created"),this.start_()}return t.prototype.start_=function(){var t=this,e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,void 0,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){t.conn_&&t.conn_.open(n,r)},Math.floor(0));var o=e.healthyTimeout||0;0<o&&(this.healthyTimeout_=$(function(){t.healthyTimeout_=null,t.isHealthy_||(t.conn_&&102400<t.conn_.bytesReceived?(t.log_("Connection exceeded healthy timeout but has received "+t.conn_.bytesReceived+" bytes.  Marking connection healthy."),t.isHealthy_=!0,t.conn_.markConnectionHealthy()):t.conn_&&10240<t.conn_.bytesSent?t.log_("Connection exceeded healthy timeout but has sent "+t.conn_.bytesSent+" bytes.  Leaving connection alive."):(t.log_("Closing unhealthy connection after timeout."),t.close()))},Math.floor(o)))},t.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},t.prototype.disconnReceiver_=function(e){var n=this;return function(t){e===n.conn_?n.onConnectionLost_(t):e===n.secondaryConn_?(n.log_("Secondary connection lost."),n.onSecondaryConnectionLost_()):n.log_("closing an old connection")}},t.prototype.connReceiver_=function(e){var n=this;return function(t){2!=n.state_&&(e===n.rx_?n.onPrimaryMessageReceived_(t):e===n.secondaryConn_?n.onSecondaryMessageReceived_(t):n.log_("message on old connection"))}},t.prototype.sendRequest=function(t){var e={t:"d",d:t};this.sendData_(e)},t.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},t.prototype.onSecondaryControl_=function(t){if("t"in t){var e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},t.prototype.onSecondaryMessageReceived_=function(t){var e=W("t",t),n=W("d",t);if("c"==e)this.onSecondaryControl_(n);else{if("d"!=e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(n)}},t.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},t.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},t.prototype.onPrimaryMessageReceived_=function(t){var e=W("t",t),n=W("d",t);"c"==e?this.onControl_(n):"d"==e&&this.onDataMessage_(n)},t.prototype.onDataMessage_=function(t){this.onPrimaryResponse_(),this.onMessage_(t)},t.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},t.prototype.onControl_=function(t){var e=W("t",t);if("d"in t){var n=t.d;if("h"===e)this.onHandshake_(n);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(n):"r"===e?this.onReset_(n):"e"===e?I("Server Error: "+n):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):I("Unknown control packet command: "+e)}},t.prototype.onHandshake_=function(t){var e=t.ts,n=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.updateHost(r),0==this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==n&&A("Protocol version mismatch detected"),this.tryStartUpgrade_())},t.prototype.tryStartUpgrade_=function(){var t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)},t.prototype.startUpgrade_=function(t){var e=this;this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),$(function(){e.secondaryConn_&&(e.log_("Timed out trying to upgrade."),e.secondaryConn_.close())},Math.floor(6e4))},t.prototype.onReset_=function(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.updateHost(t),1===this.state_?this.close():(this.closeConnections_(),this.start_())},t.prototype.onConnectionEstablished_=function(t,e){var n=this;this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):$(function(){n.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))},t.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},t.prototype.onSecondaryConnectionLost_=function(){var t=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==t&&this.rx_!==t||this.close()},t.prototype.onConnectionLost_=function(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(m.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},t.prototype.onConnectionShutdown_=function(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()},t.prototype.sendData_=function(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)},t.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},t.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},t}(),Be=function(){function t(){}return t.prototype.put=function(t,e,n,r){},t.prototype.merge=function(t,e,n,r){},t.prototype.refreshAuthToken=function(t){},t.prototype.onDisconnectPut=function(t,e,n){},t.prototype.onDisconnectMerge=function(t,e,n){},t.prototype.onDisconnectCancel=function(t,e){},t.prototype.reportStats=function(t){},t}(),Qe=function(s){function l(t,e,n,r,o,i){var a=s.call(this)||this;if(a.repoInfo_=t,a.onDataUpdate_=e,a.onConnectStatus_=n,a.onServerInfoUpdate_=r,a.authTokenProvider_=o,a.authOverride_=i,a.id=l.nextPersistentConnectionId_++,a.log_=R("p:"+a.id+":"),a.interruptReasons_={},a.listens_={},a.outstandingPuts_=[],a.outstandingPutCount_=0,a.onDisconnectRequestQueue_=[],a.connected_=!1,a.reconnectDelay_=1e3,a.maxReconnectDelay_=3e5,a.securityDebugCallback_=null,a.lastSessionId=null,a.establishConnectionTimer_=null,a.visible_=!1,a.requestCBHash_={},a.requestNumber_=0,a.realtime_=null,a.authToken_=null,a.forceTokenRefresh_=!1,a.invalidAuthTokenCount_=0,a.firstConnection_=!0,a.lastConnectionAttemptTime_=null,a.lastConnectionEstablishedTime_=null,i&&!b.isNodeSdk())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return a.scheduleConnect_(0),De.getInstance().on("visible",a.onVisible_,a),-1===t.host.indexOf("fblocal")&&Fe.getInstance().on("online",a.onOnline_,a),a}return d.__extends(l,s),l.prototype.sendRequest=function(t,e,n){var r=++this.requestNumber_,o={r:r,a:t,b:e};this.log_(b.stringify(o)),b.assert(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),n&&(this.requestCBHash_[r]=n)},l.prototype.listen=function(t,e,n,r){var o=t.queryIdentifier(),i=t.path.toString();this.log_("Listen called for "+i+" "+o),this.listens_[i]=this.listens_[i]||{},b.assert(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),"listen() called for non-default but complete query"),b.assert(!this.listens_[i][o],"listen() called twice for same path/queryId.");var a={onComplete:r,hashFn:e,query:t,tag:n};this.listens_[i][o]=a,this.connected_&&this.sendListen_(a)},l.prototype.sendListen_=function(r){var o=this,i=r.query,a=i.path.toString(),s=i.queryIdentifier();this.log_("Listen on "+a+" for "+s);var t={p:a};r.tag&&(t.q=i.queryObject(),t.t=r.tag),t.h=r.hashFn(),this.sendRequest("q",t,function(t){var e=t.d,n=t.s;l.warnOnListenWarnings_(e,i),(o.listens_[a]&&o.listens_[a][s])===r&&(o.log_("listen response",t),"ok"!==n&&o.removeListen_(a,s),r.onComplete&&r.onComplete(n,e))})},l.warnOnListenWarnings_=function(t,e){if(t&&"object"==typeof t&&b.contains(t,"w")){var n=b.safeGet(t,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+e.getQueryParams().getIndex().toString()+'"',o=e.path.toString();A("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+r+" at "+o+" to your security rules for better performance.")}}},l.prototype.refreshAuthToken=function(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(t)},l.prototype.reduceReconnectDelayIfAdminCredential_=function(t){(t&&40===t.length||b.isAdmin(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},l.prototype.tryAuth=function(){var r=this;if(this.connected_&&this.authToken_){var o=this.authToken_,t=b.isValidFormat(o)?"auth":"gauth",e={cred:o};null===this.authOverride_?e.noauth=!0:"object"==typeof this.authOverride_&&(e.authvar=this.authOverride_),this.sendRequest(t,e,function(t){var e=t.s,n=t.d||"error";r.authToken_===o&&("ok"===e?r.invalidAuthTokenCount_=0:r.onAuthRevoked_(e,n))})}},l.prototype.unlisten=function(t,e){var n=t.path.toString(),r=t.queryIdentifier();this.log_("Unlisten called for "+n+" "+r),b.assert(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,t.queryObject(),e)},l.prototype.sendUnlisten_=function(t,e,n,r){this.log_("Unlisten on "+t+" for "+e);var o={p:t};r&&(o.q=n,o.t=r),this.sendRequest("n",o)},l.prototype.onDisconnectPut=function(t,e,n){this.connected_?this.sendOnDisconnect_("o",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:e,onComplete:n})},l.prototype.onDisconnectMerge=function(t,e,n){this.connected_?this.sendOnDisconnect_("om",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:e,onComplete:n})},l.prototype.onDisconnectCancel=function(t,e){this.connected_?this.sendOnDisconnect_("oc",t,null,e):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:e})},l.prototype.sendOnDisconnect_=function(t,e,n,r){var o={p:e,d:n};this.log_("onDisconnect "+t,o),this.sendRequest(t,o,function(t){r&&setTimeout(function(){r(t.s,t.d)},Math.floor(0))})},l.prototype.put=function(t,e,n,r){this.putInternal("p",t,e,n,r)},l.prototype.merge=function(t,e,n,r){this.putInternal("m",t,e,n,r)},l.prototype.putInternal=function(t,e,n,r,o){var i={p:e,d:n};void 0!==o&&(i.h=o),this.outstandingPuts_.push({action:t,request:i,onComplete:r}),this.outstandingPutCount_++;var a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+e)},l.prototype.sendPut_=function(e){var n=this,r=this.outstandingPuts_[e].action,t=this.outstandingPuts_[e].request,o=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(r,t,function(t){n.log_(r+" response",t),delete n.outstandingPuts_[e],n.outstandingPutCount_--,0===n.outstandingPutCount_&&(n.outstandingPuts_=[]),o&&o(t.s,t.d)})},l.prototype.reportStats=function(t){var n=this;if(this.connected_){var e={c:t};this.log_("reportStats",e),this.sendRequest("s",e,function(t){if("ok"!==t.s){var e=t.d;n.log_("reportStats","Error sending stats: "+e)}})}},l.prototype.onDataMessage_=function(t){if("r"in t){this.log_("from server: "+b.stringify(t));var e=t.r,n=this.requestCBHash_[e];n&&(delete this.requestCBHash_[e],n(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}},l.prototype.onDataPush_=function(t,e){this.log_("handleServerMessage",t,e),"d"===t?this.onDataUpdate_(e.p,e.d,!1,e.t):"m"===t?this.onDataUpdate_(e.p,e.d,!0,e.t):"c"===t?this.onListenRevoked_(e.p,e.q):"ac"===t?this.onAuthRevoked_(e.s,e.d):"sd"===t?this.onSecurityDebugPacket_(e):I("Unrecognized action received from server: "+b.stringify(t)+"\nAre you using the latest client?")},l.prototype.onReady_=function(t,e){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=e,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},l.prototype.scheduleConnect_=function(t){var e=this;b.assert(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){e.establishConnectionTimer_=null,e.establishConnection_()},Math.floor(t))},l.prototype.onVisible_=function(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)),this.visible_=t},l.prototype.onOnline_=function(t){t?(this.log_("Browser went online."),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},l.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(3e4<(new Date).getTime()-this.lastConnectionEstablishedTime_&&(this.reconnectDelay_=1e3),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());var t=(new Date).getTime()-this.lastConnectionAttemptTime_,e=Math.max(0,this.reconnectDelay_-t);e=Math.random()*e,this.log_("Trying to reconnect in "+e+"ms"),this.scheduleConnect_(e),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},l.prototype.establishConnection_=function(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;var e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+l.nextConnectionId_++,i=this,a=this.lastSessionId,s=!1,u=null,c=function(){u?u.close():(s=!0,r())};this.realtime_={close:c,sendRequest:function(t){b.assert(u,"sendRequest call when we're not connected not allowed."),u.sendRequest(t)}};var t=this.forceTokenRefresh_;this.forceTokenRefresh_=!1,this.authTokenProvider_.getToken(t).then(function(t){s?P("getToken() completed but was canceled"):(P("getToken() completed. Creating connection."),i.authToken_=t&&t.accessToken,u=new qe(o,i.repoInfo_,e,n,r,function(t){A(t+" ("+i.repoInfo_.toString()+")"),i.interrupt("server_kill")},a))}).then(null,function(t){i.log_("Failed to get token: "+t),s||(b.CONSTANTS.NODE_ADMIN&&A(t),c())})}},l.prototype.interrupt=function(t){P("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},l.prototype.resume=function(t){P("Resuming connection for reason: "+t),delete this.interruptReasons_[t],b.isEmpty(this.interruptReasons_)&&(this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0))},l.prototype.handleTimestamp_=function(t){var e=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:e})},l.prototype.cancelSentTransactions_=function(){for(var t=0;t<this.outstandingPuts_.length;t++){var e=this.outstandingPuts_[t];e&&"h"in e.request&&e.queued&&(e.onComplete&&e.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},l.prototype.onListenRevoked_=function(t,e){var n;n=e?e.map(function(t){return U(t)}).join("$"):"default";var r=this.removeListen_(t,n);r&&r.onComplete&&r.onComplete("permission_denied")},l.prototype.removeListen_=function(t,e){var n,r=new Y(t).toString();return void 0!==this.listens_[r]?(n=this.listens_[r][e],delete this.listens_[r][e],0===b.getCount(this.listens_[r])&&delete this.listens_[r]):n=void 0,n},l.prototype.onAuthRevoked_=function(t,e){P("Auth token revoked: "+t+"/"+e),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==t&&"permission_denied"!==t||(this.invalidAuthTokenCount_++,3<=this.invalidAuthTokenCount_&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},l.prototype.onSecurityDebugPacket_=function(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))},l.prototype.restoreState_=function(){var n=this;this.tryAuth(),b.forEach(this.listens_,function(t,e){b.forEach(e,function(t,e){n.sendListen_(e)})});for(var t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){var e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}},l.prototype.sendConnectStats_=function(){var t={},e="js";b.CONSTANTS.NODE_ADMIN?e="admin_node":b.CONSTANTS.NODE_CLIENT&&(e="node"),t["sdk."+e+"."+y.SDK_VERSION.replace(/\./g,"-")]=1,b.isMobileCordova()?t["framework.cordova"]=1:b.isReactNative()&&(t["framework.reactnative"]=1),this.reportStats(t)},l.prototype.shouldReconnect_=function(){var t=Fe.getInstance().currentlyOnline();return b.isEmpty(this.interruptReasons_)&&t},l.nextPersistentConnectionId_=0,l.nextConnectionId_=0,l}(Be),He=function(o){function c(t,e,n){var r=o.call(this)||this;return r.repoInfo_=t,r.onDataUpdate_=e,r.authTokenProvider_=n,r.log_=R("p:rest:"),r.listens_={},r}return d.__extends(c,o),c.prototype.reportStats=function(t){throw new Error("Method not implemented.")},c.getListenId_=function(t,e){return void 0!==e?"tag$"+e:(b.assert(t.getQueryParams().isDefault(),"should have a tag if it's not a default query."),t.path.toString())},c.prototype.listen=function(t,e,r,o){var i=this,a=t.path.toString();this.log_("Listen called for "+a+" "+t.queryIdentifier());var s=c.getListenId_(t,r),u={};this.listens_[s]=u;var n=t.getQueryParams().toRestQueryStringParameters();this.restRequest_(a+".json",n,function(t,e){var n=e;404===t&&(t=n=null),null===t&&i.onDataUpdate_(a,n,!1,r),b.safeGet(i.listens_,s)===u&&o(t?401==t?"permission_denied":"rest_error:"+t:"ok",null)})},c.prototype.unlisten=function(t,e){var n=c.getListenId_(t,e);delete this.listens_[n]},c.prototype.refreshAuthToken=function(t){},c.prototype.restRequest_=function(o,i,a){var s=this;void 0===i&&(i={}),i.format="export",this.authTokenProvider_.getToken(!1).then(function(t){var e=t&&t.accessToken;e&&(i.auth=e);var n=(s.repoInfo_.secure?"https://":"http://")+s.repoInfo_.host+o+"?ns="+s.repoInfo_.namespace+b.querystring(i);s.log_("Sending REST request for "+n);var r=new XMLHttpRequest;r.onreadystatechange=function(){if(a&&4===r.readyState){s.log_("REST Response for "+n+" received. status:",r.status,"response:",r.responseText);var t=null;if(200<=r.status&&r.status<300){try{t=b.jsonEval(r.responseText)}catch(t){A("Failed to parse JSON response for "+n+": "+r.responseText)}a(null,t)}else 401!==r.status&&404!==r.status&&A("Got unsuccessful REST response for "+n+" Status: "+r.status),a(r.status);a=null}},r.open("GET",n,!0),r.send()})},c}(Be),ze=function(){function t(t,e,n){var a=this;this.repoInfo_=t,this.app=n,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Ie,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=new Jt,this.persistentConnection_=null;var r=new xe(n);if(this.stats_=Ne.getCollection(t),e||0<=("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i))this.server_=new He(this.repoInfo_,this.onDataUpdate_.bind(this),r),setTimeout(this.onConnectStatus_.bind(this,!0),0);else{var o=n.options.databaseAuthVariableOverride;if(null!=o){if("object"!=typeof o)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{b.stringify(o)}catch(t){throw new Error("Invalid authOverride provided: "+t)}}this.persistentConnection_=new Qe(this.repoInfo_,this.onDataUpdate_.bind(this),this.onConnectStatus_.bind(this),this.onServerInfoUpdate_.bind(this),r,o),this.server_=this.persistentConnection_}r.addTokenChangeListener(function(t){a.server_.refreshAuthToken(t)}),this.statsReporter_=Ne.getOrCreateReporter(t,function(){return new Re(a.stats_,a.server_)}),this.transactions_init_(),this.infoData_=new Te,this.infoSyncTree_=new Se({startListening:function(t,e,n,r){var o=[],i=a.infoData_.getNode(t.path);return i.isEmpty()||(o=a.infoSyncTree_.applyServerOverwrite(t.path,i),setTimeout(function(){r("ok")},0)),o},stopListening:function(){}}),this.updateInfo_("connected",!1),this.serverSyncTree_=new Se({startListening:function(r,t,e,o){return a.server_.listen(r,e,t,function(t,e){var n=o(t,e);a.eventQueue_.raiseEventsForChangedPath(r.path,n)}),[]},stopListening:function(t,e){a.server_.unlisten(t,e)}})}return t.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},t.prototype.name=function(){return this.repoInfo_.namespace},t.prototype.serverTime=function(){var t=this.infoData_.getNode(new Y(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t},t.prototype.generateServerValues=function(){return(t=t={timestamp:this.serverTime()}).timestamp=t.timestamp||(new Date).getTime(),t;var t},t.prototype.onDataUpdate_=function(t,e,n,r){this.dataUpdateCount++;var o=new Y(t);e=this.interceptServerDataCallback_?this.interceptServerDataCallback_(t,e):e;var i=[];if(r)if(n){var a=b.map(e,function(t){return Wt(t)});i=this.serverSyncTree_.applyTaggedQueryMerge(o,a,r)}else{var s=Wt(e);i=this.serverSyncTree_.applyTaggedQueryOverwrite(o,s,r)}else if(n){var u=b.map(e,function(t){return Wt(t)});i=this.serverSyncTree_.applyServerMerge(o,u)}else{var c=Wt(e);i=this.serverSyncTree_.applyServerOverwrite(o,c)}var l=o;0<i.length&&(l=this.rerunTransactions_(o)),this.eventQueue_.raiseEventsForChangedPath(l,i)},t.prototype.interceptServerData_=function(t){this.interceptServerDataCallback_=t},t.prototype.onConnectStatus_=function(t){this.updateInfo_("connected",t),!1===t&&this.runOnDisconnectEvents_()},t.prototype.onServerInfoUpdate_=function(t){var n=this;q(t,function(t,e){n.updateInfo_(e,t)})},t.prototype.updateInfo_=function(t,e){var n=new Y("/.info/"+t),r=Wt(e);this.infoData_.updateSnapshot(n,r);var o=this.infoSyncTree_.applyServerOverwrite(n,r);this.eventQueue_.raiseEventsForChangedPath(n,o)},t.prototype.getNextWriteId_=function(){return this.nextWriteId_++},t.prototype.setWithPriority=function(o,t,e,i){var a=this;this.log_("set",{path:o.toString(),value:t,priority:e});var n=this.generateServerValues(),r=Wt(t,e),s=te(r,n),u=this.getNextWriteId_(),c=this.serverSyncTree_.applyUserOverwrite(o,s,u,!0);this.eventQueue_.queueEvents(c),this.server_.put(o.toString(),r.val(!0),function(t,e){var n="ok"===t;n||A("set at "+o+" failed: "+t);var r=a.serverSyncTree_.ackUserWrite(u,!n);a.eventQueue_.raiseEventsForChangedPath(o,r),a.callOnCompleteCallback(i,t,e)});var l=this.abortTransactions_(o);this.rerunTransactions_(l),this.eventQueue_.raiseEventsForChangedPath(l,[])},t.prototype.update=function(i,t,a){var s=this;this.log_("update",{path:i.toString(),value:t});var r=!0,o=this.generateServerValues(),u={};if(b.forEach(t,function(t,e){r=!1;var n=Wt(e);u[t]=te(n,o)}),r)P("update() called with empty data.  Don't do anything."),this.callOnCompleteCallback(a,"ok");else{var c=this.getNextWriteId_(),e=this.serverSyncTree_.applyUserMerge(i,u,c);this.eventQueue_.queueEvents(e),this.server_.merge(i.toString(),t,function(t,e){var n="ok"===t;n||A("update at "+i+" failed: "+t);var r=s.serverSyncTree_.ackUserWrite(c,!n),o=0<r.length?s.rerunTransactions_(i):i;s.eventQueue_.raiseEventsForChangedPath(o,r),s.callOnCompleteCallback(a,t,e)}),b.forEach(t,function(t){var e=s.abortTransactions_(i.child(t));s.rerunTransactions_(e)}),this.eventQueue_.raiseEventsForChangedPath(i,[])}},t.prototype.runOnDisconnectEvents_=function(){var r=this;this.log_("onDisconnectEvents");var t,n,o,e=this.generateServerValues(),i=(t=this.onDisconnect_,n=e,o=new Jt,t.forEachTree(new Y(""),function(t,e){o.remember(t,te(e,n))}),o),a=[];i.forEachTree(Y.Empty,function(t,e){a=a.concat(r.serverSyncTree_.applyServerOverwrite(t,e));var n=r.abortTransactions_(t);r.rerunTransactions_(n)}),this.onDisconnect_=new Jt,this.eventQueue_.raiseEventsForChangedPath(Y.Empty,a)},t.prototype.onDisconnectCancel=function(n,r){var o=this;this.server_.onDisconnectCancel(n.toString(),function(t,e){"ok"===t&&o.onDisconnect_.forget(n),o.callOnCompleteCallback(r,t,e)})},t.prototype.onDisconnectSet=function(n,t,r){var o=this,i=Wt(t);this.server_.onDisconnectPut(n.toString(),i.val(!0),function(t,e){"ok"===t&&o.onDisconnect_.remember(n,i),o.callOnCompleteCallback(r,t,e)})},t.prototype.onDisconnectSetWithPriority=function(n,t,e,r){var o=this,i=Wt(t,e);this.server_.onDisconnectPut(n.toString(),i.val(!0),function(t,e){"ok"===t&&o.onDisconnect_.remember(n,i),o.callOnCompleteCallback(r,t,e)})},t.prototype.onDisconnectUpdate=function(r,n,o){var i=this;if(b.isEmpty(n))return P("onDisconnect().update() called with empty data.  Don't do anything."),void this.callOnCompleteCallback(o,"ok");this.server_.onDisconnectMerge(r.toString(),n,function(t,e){"ok"===t&&b.forEach(n,function(t,e){var n=Wt(e);i.onDisconnect_.remember(r.child(t),n)}),i.callOnCompleteCallback(o,t,e)})},t.prototype.addEventCallbackForQuery=function(t,e){var n;n=".info"===t.path.getFront()?this.infoSyncTree_.addEventRegistration(t,e):this.serverSyncTree_.addEventRegistration(t,e),this.eventQueue_.raiseEventsAtPath(t.path,n)},t.prototype.removeEventCallbackForQuery=function(t,e){var n;n=".info"===t.path.getFront()?this.infoSyncTree_.removeEventRegistration(t,e):this.serverSyncTree_.removeEventRegistration(t,e),this.eventQueue_.raiseEventsAtPath(t.path,n)},t.prototype.interrupt=function(){this.persistentConnection_&&this.persistentConnection_.interrupt("repo_interrupt")},t.prototype.resume=function(){this.persistentConnection_&&this.persistentConnection_.resume("repo_interrupt")},t.prototype.stats=function(t){if(void 0===t&&(t=!1),"undefined"!=typeof console){var e;e=t?(this.statsListener_||(this.statsListener_=new Pe(this.stats_)),this.statsListener_.get()):this.stats_.get();var r=Object.keys(e).reduce(function(t,e){return Math.max(e.length,t)},0);b.forEach(e,function(t,e){for(var n=t.length;n<r+2;n++)t+=" ";console.log(t+e)})}},t.prototype.statsIncrementCounter=function(t){this.stats_.incrementCounter(t),this.statsReporter_.includeStat(t)},t.prototype.log_=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="";this.persistentConnection_&&(n=this.persistentConnection_.id+":"),P.apply(void 0,[n].concat(t))},t.prototype.callOnCompleteCallback=function(r,o,i){r&&z(function(){if("ok"==o)r(null);else{var t=(o||"error").toUpperCase(),e=t;i&&(e+=": "+i);var n=new Error(e);n.code=t,r(n)}})},Object.defineProperty(t.prototype,"database",{get:function(){return this.__database||(this.__database=new rn(this))},enumerable:!0,configurable:!0}),t}(),$e=function(){function e(t){this.indexedFilter_=new pe(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t)}return e.prototype.getStartPost=function(){return this.startPost_},e.prototype.getEndPost=function(){return this.endPost_},e.prototype.matches=function(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0},e.prototype.updateChild=function(t,e,n,r,o,i){return this.matches(new _t(e,n))||(n=Lt.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,n,r,o,i)},e.prototype.updateFullNode=function(t,e,n){e.isLeafNode()&&(e=Lt.EMPTY_NODE);var r=e.withIndex(this.index_);r=r.updatePriority(Lt.EMPTY_NODE);var o=this;return e.forEachChild(St,function(t,e){o.matches(new _t(t,e))||(r=r.updateImmediateChild(t,Lt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,r,n)},e.prototype.updatePriority=function(t,e){return t},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.indexedFilter_},e.prototype.getIndex=function(){return this.index_},e.getStartPost_=function(t){if(t.hasStart()){var e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()},e.getEndPost_=function(t){if(t.hasEnd()){var e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()},e}(),Ye=function(){function t(t){this.rangedFilter_=new $e(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return t.prototype.updateChild=function(t,e,n,r,o,i){return this.rangedFilter_.matches(new _t(e,n))||(n=Lt.EMPTY_NODE),t.getImmediateChild(e).equals(n)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,n,r,o,i):this.fullLimitUpdateChild_(t,e,n,o,i)},t.prototype.updateFullNode=function(t,e,n){var r;if(e.isLeafNode()||e.isEmpty())r=Lt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){r=Lt.EMPTY_NODE.withIndex(this.index_);var o=void 0;o=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var i=0;o.hasNext()&&i<this.limit_;){var a=o.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),a)<=0:this.index_.compare(a,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(a.name,a.node),i++}}else{r=(r=e.withIndex(this.index_)).updatePriority(Lt.EMPTY_NODE);var s=void 0,u=void 0,c=void 0;if(o=void 0,this.reverse_){o=r.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),u=this.rangedFilter_.getStartPost();var l=this.index_.getCompare();c=function(t,e){return l(e,t)}}else o=r.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),u=this.rangedFilter_.getEndPost(),c=this.index_.getCompare();i=0;for(var h=!1;o.hasNext();)a=o.getNext(),!h&&c(s,a)<=0&&(h=!0),h&&i<this.limit_&&c(a,u)<=0?i++:r=r.updateImmediateChild(a.name,Lt.EMPTY_NODE)}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},t.prototype.getIndex=function(){return this.index_},t.prototype.fullLimitUpdateChild_=function(t,e,n,r,o){var i;if(this.reverse_){var a=this.index_.getCompare();i=function(t,e){return a(e,t)}}else i=this.index_.getCompare();var s=t;b.assert(s.numChildren()==this.limit_,"");var u=new _t(e,n),c=this.reverse_?s.getFirstChild(this.index_):s.getLastChild(this.index_),l=this.rangedFilter_.matches(u);if(s.hasChild(e)){for(var h=s.getImmediateChild(e),p=r.getChildAfterChild(this.index_,c,this.reverse_);null!=p&&(p.name==e||s.hasChild(p.name));)p=r.getChildAfterChild(this.index_,p,this.reverse_);var f=null==p?1:i(p,u);if(l&&!n.isEmpty()&&0<=f)return null!=o&&o.trackChildChange(he.childChangedChange(e,n,h)),s.updateImmediateChild(e,n);null!=o&&o.trackChildChange(he.childRemovedChange(e,h));var d=s.updateImmediateChild(e,Lt.EMPTY_NODE);return null!=p&&this.rangedFilter_.matches(p)?(null!=o&&o.trackChildChange(he.childAddedChange(p.name,p.node)),d.updateImmediateChild(p.name,p.node)):d}return n.isEmpty()?t:l&&0<=i(c,u)?(null!=o&&(o.trackChildChange(he.childRemovedChange(c.name,c.node)),o.trackChildChange(he.childAddedChange(e,n))),s.updateImmediateChild(e,n).updateImmediateChild(c.name,Lt.EMPTY_NODE)):t},t}(),Ge=function(){function r(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=St}return r.prototype.hasStart=function(){return this.startSet_},r.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:this.viewFrom_===r.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT},r.prototype.getIndexStartValue=function(){return b.assert(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},r.prototype.getIndexStartName=function(){return b.assert(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:F},r.prototype.hasEnd=function(){return this.endSet_},r.prototype.getIndexEndValue=function(){return b.assert(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},r.prototype.getIndexEndName=function(){return b.assert(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:L},r.prototype.hasLimit=function(){return this.limitSet_},r.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},r.prototype.getLimit=function(){return b.assert(this.limitSet_,"Only valid if limit has been set"),this.limit_},r.prototype.getIndex=function(){return this.index_},r.prototype.copy_=function(){var t=new r;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t},r.prototype.limit=function(t){var e=this.copy_();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="",e},r.prototype.limitToFirst=function(t){var e=this.copy_();return e.limitSet_=!0,e.limit_=t,e.viewFrom_=r.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT,e},r.prototype.limitToLast=function(t){var e=this.copy_();return e.limitSet_=!0,e.limit_=t,e.viewFrom_=r.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_RIGHT,e},r.prototype.startAt=function(t,e){var n=this.copy_();return n.startSet_=!0,void 0===t&&(t=null),n.indexStartValue_=t,n.indexStartName_=null!=e?(n.startNameSet_=!0,e):(n.startNameSet_=!1,""),n},r.prototype.endAt=function(t,e){var n=this.copy_();return n.endSet_=!0,void 0===t&&(t=null),n.indexEndValue_=t,n.indexEndName_=void 0!==e?(n.endNameSet_=!0,e):(n.endNameSet_=!1,""),n},r.prototype.orderBy=function(t){var e=this.copy_();return e.index_=t,e},r.prototype.getQueryObject=function(){var t=r.WIRE_PROTOCOL_CONSTANTS_,e={};if(this.startSet_&&(e[t.INDEX_START_VALUE]=this.indexStartValue_,this.startNameSet_&&(e[t.INDEX_START_NAME]=this.indexStartName_)),this.endSet_&&(e[t.INDEX_END_VALUE]=this.indexEndValue_,this.endNameSet_&&(e[t.INDEX_END_NAME]=this.indexEndName_)),this.limitSet_){e[t.LIMIT]=this.limit_;var n=this.viewFrom_;""===n&&(n=this.isViewFromLeft()?t.VIEW_FROM_LEFT:t.VIEW_FROM_RIGHT),e[t.VIEW_FROM]=n}return this.index_!==St&&(e[t.INDEX]=this.index_.toString()),e},r.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},r.prototype.isDefault=function(){return this.loadsAllData()&&this.index_==St},r.prototype.getNodeFilter=function(){return this.loadsAllData()?new pe(this.getIndex()):this.hasLimit()?new Ye(this):new $e(this)},r.prototype.toRestQueryStringParameters=function(){var t,e=r.REST_QUERY_CONSTANTS_,n={};return this.isDefault()||(t=this.index_===St?e.PRIORITY_INDEX:this.index_===Bt?e.VALUE_INDEX:this.index_===bt?e.KEY_INDEX:(b.assert(this.index_ instanceof Qt,"Unrecognized index type!"),this.index_.toString()),n[e.ORDER_BY]=b.stringify(t),this.startSet_&&(n[e.START_AT]=b.stringify(this.indexStartValue_),this.startNameSet_&&(n[e.START_AT]+=","+b.stringify(this.indexStartName_))),this.endSet_&&(n[e.END_AT]=b.stringify(this.indexEndValue_),this.endNameSet_&&(n[e.END_AT]+=","+b.stringify(this.indexEndName_))),this.limitSet_&&(this.isViewFromLeft()?n[e.LIMIT_TO_FIRST]=this.limit_:n[e.LIMIT_TO_LAST]=this.limit_)),n},r.WIRE_PROTOCOL_CONSTANTS_={INDEX_START_VALUE:"sp",INDEX_START_NAME:"sn",INDEX_END_VALUE:"ep",INDEX_END_NAME:"en",LIMIT:"l",VIEW_FROM:"vf",VIEW_FROM_LEFT:"l",VIEW_FROM_RIGHT:"r",INDEX:"i"},r.REST_QUERY_CONSTANTS_={ORDER_BY:"orderBy",PRIORITY_INDEX:"$priority",VALUE_INDEX:"$value",KEY_INDEX:"$key",START_AT:"startAt",END_AT:"endAt",LIMIT_TO_FIRST:"limitToFirst",LIMIT_TO_LAST:"limitToLast"},r.DEFAULT=new r,r}(),Ke=function(n){function r(t,e){if(!(t instanceof ze))throw new Error("new Reference() no longer supported - use app.database().");return n.call(this,t,e,Ge.DEFAULT,!1)||this}return d.__extends(r,n),r.prototype.getKey=function(){return b.validateArgCount("Reference.key",0,0,arguments.length),this.path.isEmpty()?null:this.path.getBack()},r.prototype.child=function(t){return b.validateArgCount("Reference.child",1,1,arguments.length),"number"==typeof t?t=String(t):t instanceof Y||(null===this.path.getFront()?((e=t)&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),ht("Reference.child",1,e,!1)):ht("Reference.child",1,t,!1)),new r(this.repo,this.path.child(t));var e},r.prototype.getParent=function(){b.validateArgCount("Reference.parent",0,0,arguments.length);var t=this.path.parent();return null===t?null:new r(this.repo,t)},r.prototype.getRoot=function(){b.validateArgCount("Reference.root",0,0,arguments.length);for(var t=this;null!==t.getParent();)t=t.getParent();return t},r.prototype.databaseProp=function(){return this.repo.database},r.prototype.set=function(t,e){b.validateArgCount("Reference.set",1,2,arguments.length),pt("Reference.set",this.path),it("Reference.set",1,t,this.path,!1),b.validateCallback("Reference.set",2,e,!0);var n=new b.Deferred;return this.repo.setWithPriority(this.path,t,null,n.wrapCallback(e)),n.promise},r.prototype.update=function(t,e){if(b.validateArgCount("Reference.update",1,2,arguments.length),pt("Reference.update",this.path),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,A("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}st("Reference.update",1,t,this.path,!1),b.validateCallback("Reference.update",2,e,!0);var o=new b.Deferred;return this.repo.update(this.path,t,o.wrapCallback(e)),o.promise},r.prototype.setWithPriority=function(t,e,n){if(b.validateArgCount("Reference.setWithPriority",2,3,arguments.length),pt("Reference.setWithPriority",this.path),it("Reference.setWithPriority",1,t,this.path,!1),ut("Reference.setWithPriority",2,e,!1),b.validateCallback("Reference.setWithPriority",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.setWithPriority failed: "+this.getKey()+" is a read-only object.";var r=new b.Deferred;return this.repo.setWithPriority(this.path,t,e,r.wrapCallback(n)),r.promise},r.prototype.remove=function(t){return b.validateArgCount("Reference.remove",0,1,arguments.length),pt("Reference.remove",this.path),b.validateCallback("Reference.remove",1,t,!0),this.set(null,t)},r.prototype.transaction=function(t,r,o){if(b.validateArgCount("Reference.transaction",1,3,arguments.length),pt("Reference.transaction",this.path),b.validateCallback("Reference.transaction",1,t,!1),b.validateCallback("Reference.transaction",2,r,!0),function(t,e,n,r){if(void 0!==o&&"boolean"!=typeof o)throw new Error(b.errorPrefix("Reference.transaction",3,!0)+"must be a boolean.")}(),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.transaction failed: "+this.getKey()+" is a read-only object.";void 0===o&&(o=!0);var i=new b.Deferred;return"function"==typeof r&&i.promise.catch(function(){}),this.repo.startTransaction(this.path,t,function(t,e,n){t?i.reject(t):i.resolve(new yt(e,n)),"function"==typeof r&&r(t,e,n)},o),i.promise},r.prototype.setPriority=function(t,e){b.validateArgCount("Reference.setPriority",1,2,arguments.length),pt("Reference.setPriority",this.path),ut("Reference.setPriority",1,t,!1),b.validateCallback("Reference.setPriority",2,e,!0);var n=new b.Deferred;return this.repo.setWithPriority(this.path.child(".priority"),t,null,n.wrapCallback(e)),n.promise},r.prototype.push=function(t,e){b.validateArgCount("Reference.push",0,2,arguments.length),pt("Reference.push",this.path),it("Reference.push",1,t,this.path,!0),b.validateCallback("Reference.push",2,e,!0);var n,r=this.repo.serverTime(),o=vt(r),i=this.child(o),a=this.child(o);return n=null!=t?i.set(t,e).then(function(){return a}):Promise.resolve(a),i.then=n.then.bind(n),i.catch=n.then.bind(n,void 0),"function"==typeof e&&n.catch(function(){}),i},r.prototype.onDisconnect=function(){return pt("Reference.onDisconnect",this.path),new dt(this.repo,this.path)},Object.defineProperty(r.prototype,"database",{get:function(){return this.databaseProp()},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"key",{get:function(){return this.getKey()},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"parent",{get:function(){return this.getParent()},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"root",{get:function(){return this.getRoot()},enumerable:!0,configurable:!0}),r}(Kt);Kt.__referenceConstructor=Ke,be.__referenceConstructor=Ke;var Xe,Je,Ze=function(){this.children={},this.childCount=0,this.value=null},tn=function(){function o(t,e,n){void 0===t&&(t=""),void 0===e&&(e=null),void 0===n&&(n=new Ze),this.name_=t,this.parent_=e,this.node_=n}return o.prototype.subTree=function(t){for(var e,n=t instanceof Y?t:new Y(t),r=this;null!==(e=n.getFront());)r=new o(e,r,b.safeGet(r.node_.children,e)||new Ze),n=n.popFront();return r},o.prototype.getValue=function(){return this.node_.value},o.prototype.setValue=function(t){b.assert(void 0!==t,"Cannot set value to undefined"),this.node_.value=t,this.updateParents_()},o.prototype.clear=function(){this.node_.value=null,this.node_.children={},this.node_.childCount=0,this.updateParents_()},o.prototype.hasChildren=function(){return 0<this.node_.childCount},o.prototype.isEmpty=function(){return null===this.getValue()&&!this.hasChildren()},o.prototype.forEachChild=function(n){var r=this;b.forEach(this.node_.children,function(t,e){n(new o(t,r,e))})},o.prototype.forEachDescendant=function(e,t,n){t&&!n&&e(this),this.forEachChild(function(t){t.forEachDescendant(e,!0,n)}),t&&n&&e(this)},o.prototype.forEachAncestor=function(t,e){for(var n=e?this:this.parent();null!==n;){if(t(n))return!0;n=n.parent()}return!1},o.prototype.forEachImmediateDescendantWithValue=function(e){this.forEachChild(function(t){null!==t.getValue()?e(t):t.forEachImmediateDescendantWithValue(e)})},o.prototype.path=function(){return new Y(null===this.parent_?this.name_:this.parent_.path()+"/"+this.name_)},o.prototype.name=function(){return this.name_},o.prototype.parent=function(){return this.parent_},o.prototype.updateParents_=function(){null!==this.parent_&&this.parent_.updateChild_(this.name_,this)},o.prototype.updateChild_=function(t,e){var n=e.isEmpty(),r=b.contains(this.node_.children,t);n&&r?(delete this.node_.children[t],this.node_.childCount--,this.updateParents_()):n||r||(this.node_.children[t]=e.node_,this.node_.childCount++,this.updateParents_())},o}();(Je=Xe||(Xe={}))[Je.RUN=0]="RUN",Je[Je.SENT=1]="SENT",Je[Je.COMPLETED=2]="COMPLETED",Je[Je.SENT_NEEDS_ABORT=3]="SENT_NEEDS_ABORT",Je[Je.NEEDS_ABORT=4]="NEEDS_ABORT",ze.MAX_TRANSACTION_RETRIES_=25,ze.prototype.transactions_init_=function(){this.transactionQueueTree_=new tn},ze.prototype.startTransaction=function(t,e,n,r){this.log_("transaction on "+t);var o=function(){},i=new Ke(this,t);i.on("value",o);var a={path:t,update:e,onComplete:n,status:null,order:C(),applyLocally:r,retryCount:0,unwatcher:function(){i.off("value",o)},abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},s=this.getLatestState_(t);a.currentInputSnapshot=s;var u=a.update(s.val());if(void 0===u){if(a.unwatcher(),a.currentOutputSnapshotRaw=null,a.currentOutputSnapshotResolved=null,a.onComplete){var c=new Ht(a.currentInputSnapshot,new Ke(this,a.path),St);a.onComplete(null,!1,c)}}else{at("transaction failed: Data returned ",u,a.path),a.status=Xe.RUN;var l=this.transactionQueueTree_.subTree(t),h=l.getValue()||[];h.push(a),l.setValue(h);var p=void 0;"object"==typeof u&&null!==u&&b.contains(u,".priority")?(p=b.safeGet(u,".priority"),b.assert(ot(p),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):p=(this.serverSyncTree_.calcCompleteEventCache(t)||Lt.EMPTY_NODE).getPriority().val(),p=p;var f=this.generateServerValues(),d=Wt(u,p),y=te(d,f);a.currentOutputSnapshotRaw=d,a.currentOutputSnapshotResolved=y,a.currentWriteId=this.getNextWriteId_();var v=this.serverSyncTree_.applyUserOverwrite(t,y,a.currentWriteId,a.applyLocally);this.eventQueue_.raiseEventsForChangedPath(t,v),this.sendReadyTransactions_()}},ze.prototype.getLatestState_=function(t,e){return this.serverSyncTree_.calcCompleteEventCache(t,e)||Lt.EMPTY_NODE},ze.prototype.sendReadyTransactions_=function(t){var e=this;if(void 0===t&&(t=this.transactionQueueTree_),t||this.pruneCompletedTransactionsBelowNode_(t),null!==t.getValue()){var n=this.buildTransactionQueue_(t);b.assert(0<n.length,"Sending zero length transaction queue"),n.every(function(t){return t.status===Xe.RUN})&&this.sendTransactionQueue_(t.path(),n)}else t.hasChildren()&&t.forEachChild(function(t){e.sendReadyTransactions_(t)})},ze.prototype.sendTransactionQueue_=function(s,u){for(var c=this,t=u.map(function(t){return t.currentWriteId}),e=this.getLatestState_(s,t),n=e,r=e.hash(),o=0;o<u.length;o++){var i=u[o];b.assert(i.status===Xe.RUN,"tryToSendTransactionQueue_: items in queue should all be run."),i.status=Xe.SENT,i.retryCount++;var a=Y.relativePath(s,i.path);n=n.updateChild(a,i.currentOutputSnapshotRaw)}var l=n.val(!0),h=s;this.server_.put(h.toString(),l,function(t){c.log_("transaction put response",{path:h.toString(),status:t});var e=[];if("ok"===t){for(var n=[],r=0;r<u.length;r++){if(u[r].status=Xe.COMPLETED,e=e.concat(c.serverSyncTree_.ackUserWrite(u[r].currentWriteId)),u[r].onComplete){var o=u[r].currentOutputSnapshotResolved,i=new Ke(c,u[r].path),a=new Ht(o,i,St);n.push(u[r].onComplete.bind(null,null,!0,a))}u[r].unwatcher()}for(c.pruneCompletedTransactionsBelowNode_(c.transactionQueueTree_.subTree(s)),c.sendReadyTransactions_(),c.eventQueue_.raiseEventsForChangedPath(s,e),r=0;r<n.length;r++)z(n[r])}else{if("datastale"===t)for(r=0;r<u.length;r++)u[r].status===Xe.SENT_NEEDS_ABORT?u[r].status=Xe.NEEDS_ABORT:u[r].status=Xe.RUN;else for(A("transaction at "+h.toString()+" failed: "+t),r=0;r<u.length;r++)u[r].status=Xe.NEEDS_ABORT,u[r].abortReason=t;c.rerunTransactions_(s)}},r)},ze.prototype.rerunTransactions_=function(t){var e=this.getAncestorTransactionNode_(t),n=e.path(),r=this.buildTransactionQueue_(e);return this.rerunTransactionQueue_(r,n),n},ze.prototype.rerunTransactionQueue_=function(t,e){if(0!==t.length){for(var n,r=[],o=[],i=t.filter(function(t){return t.status===Xe.RUN}).map(function(t){return t.currentWriteId}),a=0;a<t.length;a++){var s=t[a],u=Y.relativePath(e,s.path),c=!1,l=void 0;if(b.assert(null!==u,"rerunTransactionsUnderNode_: relativePath should not be null."),s.status===Xe.NEEDS_ABORT)c=!0,l=s.abortReason,o=o.concat(this.serverSyncTree_.ackUserWrite(s.currentWriteId,!0));else if(s.status===Xe.RUN)if(s.retryCount>=ze.MAX_TRANSACTION_RETRIES_)c=!0,l="maxretry",o=o.concat(this.serverSyncTree_.ackUserWrite(s.currentWriteId,!0));else{var h=this.getLatestState_(s.path,i);s.currentInputSnapshot=h;var p=t[a].update(h.val());if(void 0!==p){at("transaction failed: Data returned ",p,s.path);var f=Wt(p);"object"==typeof p&&null!=p&&b.contains(p,".priority")||(f=f.updatePriority(h.getPriority()));var d=s.currentWriteId,y=this.generateServerValues(),v=te(f,y);s.currentOutputSnapshotRaw=f,s.currentOutputSnapshotResolved=v,s.currentWriteId=this.getNextWriteId_(),i.splice(i.indexOf(d),1),o=(o=o.concat(this.serverSyncTree_.applyUserOverwrite(s.path,v,s.currentWriteId,s.applyLocally))).concat(this.serverSyncTree_.ackUserWrite(d,!0))}else c=!0,l="nodata",o=o.concat(this.serverSyncTree_.ackUserWrite(s.currentWriteId,!0))}if(this.eventQueue_.raiseEventsForChangedPath(e,o),o=[],c&&(t[a].status=Xe.COMPLETED,n=t[a].unwatcher,setTimeout(n,Math.floor(0)),t[a].onComplete))if("nodata"===l){var _=new Ke(this,t[a].path),g=t[a].currentInputSnapshot,m=new Ht(g,_,St);r.push(t[a].onComplete.bind(null,null,!1,m))}else r.push(t[a].onComplete.bind(null,new Error(l),!1,null))}for(this.pruneCompletedTransactionsBelowNode_(this.transactionQueueTree_),a=0;a<r.length;a++)z(r[a]);this.sendReadyTransactions_()}},ze.prototype.getAncestorTransactionNode_=function(t){for(var e,n=this.transactionQueueTree_;null!==(e=t.getFront())&&null===n.getValue();)n=n.subTree(e),t=t.popFront();return n},ze.prototype.buildTransactionQueue_=function(t){var e=[];return this.aggregateTransactionQueuesForNode_(t,e),e.sort(function(t,e){return t.order-e.order}),e},ze.prototype.aggregateTransactionQueuesForNode_=function(t,e){var n=this,r=t.getValue();if(null!==r)for(var o=0;o<r.length;o++)e.push(r[o]);t.forEachChild(function(t){n.aggregateTransactionQueuesForNode_(t,e)})},ze.prototype.pruneCompletedTransactionsBelowNode_=function(t){var e=this,n=t.getValue();if(n){for(var r=0,o=0;o<n.length;o++)n[o].status!==Xe.COMPLETED&&(n[r]=n[o],r++);n.length=r,t.setValue(0<n.length?n:null)}t.forEachChild(function(t){e.pruneCompletedTransactionsBelowNode_(t)})},ze.prototype.abortTransactions_=function(t){var e=this,n=this.getAncestorTransactionNode_(t).path(),r=this.transactionQueueTree_.subTree(t);return r.forEachAncestor(function(t){e.abortTransactionsOnNode_(t)}),this.abortTransactionsOnNode_(r),r.forEachDescendant(function(t){e.abortTransactionsOnNode_(t)}),n},ze.prototype.abortTransactionsOnNode_=function(t){var e=t.getValue();if(null!==e){for(var n=[],r=[],o=-1,i=0;i<e.length;i++)e[i].status===Xe.SENT_NEEDS_ABORT||(e[i].status===Xe.SENT?(b.assert(o===i-1,"All SENT items should be at beginning of queue."),e[o=i].status=Xe.SENT_NEEDS_ABORT,e[i].abortReason="set"):(b.assert(e[i].status===Xe.RUN,"Unexpected transaction status in abort"),e[i].unwatcher(),r=r.concat(this.serverSyncTree_.ackUserWrite(e[i].currentWriteId,!0)),e[i].onComplete&&n.push(e[i].onComplete.bind(null,new Error("set"),!1,null))));for(-1===o?t.setValue(null):e.length=o+1,this.eventQueue_.raiseEventsForChangedPath(t.path(),r),i=0;i<n.length;i++)z(n[i])}};var en,nn=function(){function t(){this.repos_={},this.useRestClient_=!1}return t.getInstance=function(){return en||(en=new t),en},t.prototype.interrupt=function(){for(var t in this.repos_)for(var e in this.repos_[t])this.repos_[t][e].interrupt()},t.prototype.resume=function(){for(var t in this.repos_)for(var e in this.repos_[t])this.repos_[t][e].resume()},t.prototype.databaseFromApp=function(t,e){var n=e||t.options.databaseURL;void 0===n&&k("Can't determine Firebase Database URL.  Be sure to include databaseURL option when calling firebase.initializeApp().");var r=J(n),o=r.repoInfo;return ft("Invalid Firebase Database URL",1,r),r.path.isEmpty()||k("Database URL must point to the root of a Firebase Database (not including a child path)."),this.createRepo(o,t).database},t.prototype.deleteRepo=function(t){var e=b.safeGet(this.repos_,t.app.name);e&&b.safeGet(e,t.repoInfo_.toURLString())===t||k("Database "+t.app.name+"("+t.repoInfo_+") has already been deleted."),t.interrupt(),delete e[t.repoInfo_.toURLString()]},t.prototype.createRepo=function(t,e){var n=b.safeGet(this.repos_,e.name);n||(n={},this.repos_[e.name]=n);var r=b.safeGet(n,t.toURLString());return r&&k("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),r=new ze(t,this.useRestClient_,e),n[t.toURLString()]=r},t.prototype.forceRestClient=function(t){this.useRestClient_=t},t}(),rn=function(){function t(t){(this.repo_=t)instanceof ze||k("Don't call new Database() directly - please use firebase.database()."),this.root_=new Ke(t,Y.Empty),this.INTERNAL=new on(this)}return Object.defineProperty(t.prototype,"app",{get:function(){return this.repo_.app},enumerable:!0,configurable:!0}),t.prototype.ref=function(t){return this.checkDeleted_("ref"),b.validateArgCount("database.ref",0,1,arguments.length),t instanceof Ke?this.refFromURL(t.toString()):void 0!==t?this.root_.child(t):this.root_},t.prototype.refFromURL=function(t){var e="database.refFromURL";this.checkDeleted_(e),b.validateArgCount(e,1,1,arguments.length);var n=J(t);ft(e,1,n);var r=n.repoInfo;return r.host!==this.repo_.repoInfo_.host&&k(e+": Host name does not match the current database: (found "+r.host+" but expected "+this.repo_.repoInfo_.host+")"),this.ref(n.path.toString())},t.prototype.checkDeleted_=function(t){null===this.repo_&&k("Cannot call "+t+" on a deleted database.")},t.prototype.goOffline=function(){b.validateArgCount("database.goOffline",0,0,arguments.length),this.checkDeleted_("goOffline"),this.repo_.interrupt()},t.prototype.goOnline=function(){b.validateArgCount("database.goOnline",0,0,arguments.length),this.checkDeleted_("goOnline"),this.repo_.resume()},t.ServerValue={TIMESTAMP:{".sv":"timestamp"}},t}(),on=function(){function t(t){this.database=t}return t.prototype.delete=function(){return d.__awaiter(this,void 0,void 0,function(){return d.__generator(this,function(t){return this.database.checkDeleted_("delete"),nn.getInstance().deleteRepo(this.database.repo_),this.database.repo_=null,this.database.root_=null,this.database.INTERNAL=null,this.database=null,[2]})})},t}(),an=Object.freeze({forceLongPolling:function(){Ue.forceDisallow(),Me.forceAllow()},forceWebSockets:function(){Me.forceDisallow()},isWebSocketsAvailable:function(){return Ue.isAvailable()},setSecurityDebugCallback:function(t,e){t.repo.persistentConnection_.securityDebugCallback_=e},stats:function(t,e){t.repo.stats(e)},statsIncrementCounter:function(t,e){t.repo.statsIncrementCounter(e)},dataUpdateCount:function(t){return t.repo.dataUpdateCount},interceptServerData:function(t,e){return t.repo.interceptServerData_(e)}}),sn=Qe;Qe.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},Qe.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};var un=qe,cn=X,ln=Object.freeze({DataConnection:sn,RealTimeConnection:un,hijackHash:function(o){var i=Qe.prototype.put;return Qe.prototype.put=function(t,e,n,r){void 0!==r&&(r=o()),i.call(this,t,e,n,r)},function(){Qe.prototype.put=i}},ConnectionTarget:cn,queryIdentifier:function(t){return t.queryIdentifier()},listens:function(t){return t.repo.persistentConnection_.listens_},forceRestClient:function(t){nn.getInstance().forceRestClient(t)}}),hn=rn.ServerValue;function pn(t){var e=t.INTERNAL.registerService("database",function(t,e,n){return nn.getInstance().databaseFromApp(t,n)},{Reference:Ke,Query:Kt,Database:rn,enableLogging:N,INTERNAL:an,ServerValue:hn,TEST_ACCESS:ln},null,!0);b.isNodeSdk()&&(fn.exports=e)}pn(y),dn.registerDatabase=pn,dn.Database=rn,dn.Query=Kt,dn.Reference=Ke,dn.enableLogging=N,dn.ServerValue=hn,dn.DataSnapshot=Ht,dn.OnDisconnect=dt}).call(this,yn(64))},function(t,e,n){"use strict";n.r(e),n.d(e,"setLogLevel",function(){return c}),n.d(e,"Logger",function(){return u}),n.d(e,"LogLevel",function(){return i});var i,r,o=[];(r=i||(i={}))[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT";var a=i.INFO,s=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(e<t.logLevel)){var o=(new Date).toISOString();switch(e){case i.DEBUG:case i.VERBOSE:console.log.apply(console,["["+o+"]  "+t.name+":"].concat(n));break;case i.INFO:console.info.apply(console,["["+o+"]  "+t.name+":"].concat(n));break;case i.WARN:console.warn.apply(console,["["+o+"]  "+t.name+":"].concat(n));break;case i.ERROR:console.error.apply(console,["["+o+"]  "+t.name+":"].concat(n));break;default:throw new Error("Attempted to log a message with an invalid logType (value: "+e+")")}}},u=function(){function t(t){this.name=t,this._logLevel=a,this._logHandler=s,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in i))throw new TypeError("Invalid value assigned to `logLevel`");this._logLevel=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!0,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,i.DEBUG].concat(t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,i.VERBOSE].concat(t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,i.INFO].concat(t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,i.WARN].concat(t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,i.ERROR].concat(t))},t}();function c(e){o.forEach(function(t){t.logLevel=e})}},function(t,e){t.exports=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)}},,function(t,e,n){"use strict";var s=n(0),r=n(2),o=n.n(r),i=n(9),u=n.n(i),c=n(15),l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function h(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var a=function(o){function i(){var t,a;!function(t,e){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this);for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return t=a=h(this,o.call.apply(o,[this].concat(n))),a.handleClick=function(t){if(a.props.onClick&&a.props.onClick(t),!(t.defaultPrevented||0!==t.button||a.props.target||((i=t).metaKey||i.altKey||i.ctrlKey||i.shiftKey))){t.preventDefault();var e=a.context.router.history,n=a.props,r=n.replace,o=n.to;r?e.replace(o):e.push(o)}var i},h(a,t)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(i,o),i.prototype.render=function(){var t=this.props,e=(t.replace,t.to),n=t.innerRef,r=function(t,e){var n={};for(var r in t)0<=e.indexOf(r)||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}(t,["replace","to","innerRef"]);u()(this.context.router,"You should not use <Link> outside a <Router>"),u()(void 0!==e,'You must specify the "to" property');var o=this.context.router.history,i="string"==typeof e?Object(c.b)(e,null,null,o.location):e,a=o.createHref(i);return s.default.createElement("a",l({},r,{onClick:this.handleClick,href:a,ref:n}))},i}(s.default.Component);a.propTypes={onClick:o.a.func,target:o.a.string,replace:o.a.bool,to:o.a.oneOfType([o.a.string,o.a.object]).isRequired,innerRef:o.a.oneOfType([o.a.string,o.a.func])},a.defaultProps={replace:!1},a.contextTypes={router:o.a.shape({history:o.a.shape({push:o.a.func.isRequired,replace:o.a.func.isRequired,createHref:o.a.func.isRequired}).isRequired}).isRequired},e.a=a},function(t,e,n){"use strict";var r=n(40);e.a=r.a},function(t,e,n){"use strict";var r=n(10),o=n.n(r),s=n(0),i=n(2),a=n.n(i),u=n(15),c=n(9),l=n.n(c),h=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function p(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var f=function(i){function a(){var t,e;!function(t,e){if(!(t instanceof a))throw new TypeError("Cannot call a class as a function")}(this);for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=e=p(this,i.call.apply(i,[this].concat(r))),e.state={match:e.computeMatch(e.props.history.location.pathname)},p(e,t)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(a,i),a.prototype.getChildContext=function(){return{router:h({},this.context.router,{history:this.props.history,route:{location:this.props.history.location,match:this.state.match}})}},a.prototype.computeMatch=function(t){return{path:"/",url:"/",params:{},isExact:"/"===t}},a.prototype.componentWillMount=function(){var t=this,e=this.props,n=e.children,r=e.history;l()(null==n||1===s.default.Children.count(n),"A <Router> may have only one child element"),this.unlisten=r.listen(function(){t.setState({match:t.computeMatch(r.location.pathname)})})},a.prototype.componentWillReceiveProps=function(t){o()(this.props.history===t.history,"You cannot change <Router history>")},a.prototype.componentWillUnmount=function(){this.unlisten()},a.prototype.render=function(){var t=this.props.children;return t?s.default.Children.only(t):null},a}(s.default.Component);f.propTypes={history:a.a.object.isRequired,children:a.a.node},f.contextTypes={router:a.a.object},f.childContextTypes={router:a.a.object.isRequired};var d=f;function y(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var v=function(i){function a(){var t,e;!function(t,e){if(!(t instanceof a))throw new TypeError("Cannot call a class as a function")}(this);for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=e=y(this,i.call.apply(i,[this].concat(r))),e.history=Object(u.a)(e.props),y(e,t)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(a,i),a.prototype.componentWillMount=function(){o()(!this.props.history,"<BrowserRouter> ignores the history prop. To use a custom history, use `import { Router }` instead of `import { BrowserRouter as Router }`.")},a.prototype.render=function(){return s.default.createElement(d,{history:this.history,children:this.props.children})},a}(s.default.Component);v.propTypes={basename:a.a.string,forceRefresh:a.a.bool,getUserConfirmation:a.a.func,keyLength:a.a.number,children:a.a.node},e.a=v},function(t,e,n){"use strict";var r=n(0),o=n(2),i=n.n(o),a=n(10),s=n.n(a),u=n(9),c=n.n(u),l=n(15),h=n(42),p=n.n(h),f={},d=0,y=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"/",e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return"/"===t?t:function(t){var e=t,n=f[e]||(f[e]={});if(n[t])return n[t];var r=p.a.compile(t);return d<1e4&&(n[t]=r,d++),r}(t)(e,{pretty:!0})},v=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_=function(t){function n(){return function(t,e){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(n,t),n.prototype.isStatic=function(){return this.context.router&&this.context.router.staticContext},n.prototype.componentWillMount=function(){c()(this.context.router,"You should not use <Redirect> outside a <Router>"),this.isStatic()&&this.perform()},n.prototype.componentDidMount=function(){this.isStatic()||this.perform()},n.prototype.componentDidUpdate=function(t){var e=Object(l.b)(t.to),n=Object(l.b)(this.props.to);Object(l.c)(e,n)?s()(!1,"You tried to redirect to the same route you're currently on: \""+n.pathname+n.search+'"'):this.perform()},n.prototype.computeTo=function(t){var e=t.computedMatch,n=t.to;return e?"string"==typeof n?y(n,e.params):v({},n,{pathname:y(n.pathname,e.params)}):n},n.prototype.perform=function(){var t=this.context.router.history,e=this.props.push,n=this.computeTo(this.props);e?t.push(n):t.replace(n)},n.prototype.render=function(){return null},n}(r.default.Component);_.propTypes={computedMatch:i.a.object,push:i.a.bool,from:i.a.string,to:i.a.oneOfType([i.a.string,i.a.object]).isRequired},_.defaultProps={push:!1},_.contextTypes={router:i.a.shape({history:i.a.shape({push:i.a.func.isRequired,replace:i.a.func.isRequired}).isRequired,staticContext:i.a.object}).isRequired};var g=_;e.a=g},function(t,e,n){"use strict";var p=n(0),r=n(2),o=n.n(r),i=n(10),a=n.n(i),s=n(9),u=n.n(s),f=n(41),c=function(t){function n(){return function(t,e){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(n,t),n.prototype.componentWillMount=function(){u()(this.context.router,"You should not use <Switch> outside a <Router>")},n.prototype.componentWillReceiveProps=function(t){a()(!(t.location&&!this.props.location),'<Switch> elements should not change from uncontrolled to controlled (or vice versa). You initially used no "location" prop and then provided one on a subsequent render.'),a()(!(!t.location&&this.props.location),'<Switch> elements should not change from controlled to uncontrolled (or vice versa). You provided a "location" prop initially but omitted it on a subsequent render.')},n.prototype.render=function(){var u=this.context.router.route,t=this.props.children,c=this.props.location||u.location,l=void 0,h=void 0;return p.default.Children.forEach(t,function(t){if(null==l&&p.default.isValidElement(t)){var e=t.props,n=e.path,r=e.exact,o=e.strict,i=e.sensitive,a=e.from,s=n||a;h=t,l=Object(f.a)(c.pathname,{path:s,exact:r,strict:o,sensitive:i},u.match)}}),l?p.default.cloneElement(h,{location:c,computedMatch:l}):null},n}(p.default.Component);c.contextTypes={router:o.a.shape({route:o.a.object.isRequired}).isRequired},c.propTypes={children:o.a.node,location:o.a.object};var l=c;e.a=l},function(t,e,n){"use strict";var o=n(0),r=n(2),i=n.n(r),a=n(83),s=n.n(a),u=n(40),c=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};e.a=function(r){var t=function(t){var e=t.wrappedComponentRef,n=function(t,e){var n={};for(var r in t)0<=e.indexOf(r)||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}(t,["wrappedComponentRef"]);return o.default.createElement(u.a,{children:function(t){return o.default.createElement(r,c({},n,t,{ref:e}))}})};return t.displayName="withRouter("+(r.displayName||r.name)+")",t.WrappedComponent=r,t.propTypes={wrappedComponentRef:i.a.func},s()(t,r)}}]]);