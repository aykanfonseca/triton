(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{104:function(e,t,n){},176:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(27),s=n.n(i),c=(n(104),n(15)),l=n(16),o=n(18),u=n(17),h=n(19),m=n(180),d=Object(a.createContext)({theme:"",toggleTheme:function(){}}),p=n(69),v=n.n(p),f=n(93),E=n(98),g=n(181),b=n(179);function w(){return(w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var y=r.a.createElement("defs",null,r.a.createElement("linearGradient",{x1:"0%",y1:"0%",y2:"100%",id:"a"},r.a.createElement("stop",{stopColor:"#FC933C",offset:"0%"}),r.a.createElement("stop",{stopColor:"#FFE14B",offset:"100%"}))),O=r.a.createElement("path",{d:"M18.892 36.283V65H13.96V35.873l-.942-2.617.085-.806L0 36.782l6.423-22.948-1.72.55 5.39-9.443-3.785 22.948 7.658-3.687L16.5 0l2.534 24.202 7.658 3.687L22.907 4.94l5.39 9.442-1.72-.549L33 36.782 19.897 32.45l.085.806-1.09 3.027z",fill:"url(#a)"}),P=function(e){return r.a.createElement("svg",w({width:33,height:65},e),y,O)},j=(n.p,Object(a.memo)(function(e){return r.a.createElement("div",{className:"branding"+e.theme,onClick:e.changeTheme,title:"Triton Courses - a convenient way to plan your courses!"},r.a.createElement("h1",null,"Triton"),r.a.createElement(P,null),r.a.createElement("h1",null,"Courses"))})),x=n(70),C=n(177);function S(){return(S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var k=r.a.createElement("path",{d:"M13.6 9.848H15c.6 0 1 .419 1 1.047v10.057c0 .629-.4 1.048-1 1.048H1c-.552 0-1-.469-1-1.048V10.895c0-.628.4-1.047 1-1.047h1.4v-4.19h2.2v4.19h6.8v-4.19h2.2v4.19zm0-4.19H2.4C2.4 2.513 5 0 8 0c3 0 5.6 2.514 5.6 5.657zm-2.2 0C11.4 3.77 9.9 2.2 8 2.2c-1.84 0-3.346 1.531-3.4 3.457h6.8z"}),N=function(e){return r.a.createElement("svg",S({width:16,height:22},e),k)};n.p;function R(){return(R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var T=r.a.createElement("path",{d:"M2.167 11H2V3h.296C1.58 3 1 2.42 1 1.704v-.408C1 .58 1.58 0 2.296 0h8.408C11.42 0 12 .58 12 1.296v.408C12 2.42 11.42 3 10.704 3H11v8h-.17L13 12v.704C13 13.42 12.42 14 11.704 14H8v7l-1.5 1L5 21v-7H1.296C.58 14 0 13.42 0 12.704V12l2.167-1z"}),M=function(e){return r.a.createElement("svg",R({width:13,height:22},e),T)},q=(n.p,function(e){var t=e.waitlist,n=e.theme,a=e.item,i=e.pinned,s=e.removePin;return i.includes(a)?r.a.createElement("div",{className:"card-pin",onClick:function(e){e.preventDefault(),s(a)},title:"Means there's a waitlist."},r.a.createElement(M,null)):t?r.a.createElement("div",{className:"card-waitlist"+n,title:"Means there's a waitlist."},r.a.createElement(N,null)):r.a.createElement("div",{className:"card-waitlist-empty-icon"})}),z=function(e){var t=e.item,n=e.theme,a=e.pinned,i=e.removePin;return r.a.createElement(C.a,{to:{pathname:"/"+t.code.split(" ").join(""),state:{item:t}},title:"A course card.",className:"card"+n},r.a.createElement("div",{className:"card-width"},r.a.createElement("p",{className:"card-code"},t.code),r.a.createElement("p",{className:"card-title"+n},t.title)),r.a.createElement(q,{pinned:a,item:t,waitlist:t.waitlist,theme:n,removePin:i}))},Q=function(e){var t=e.item,n=e.theme;return r.a.createElement(C.a,{to:"/content",title:"A teacher card.",className:"card"+n},r.a.createElement("div",{className:"card-width"},r.a.createElement("p",{className:"card-code"},t.teacher),r.a.createElement("p",{className:"card-title"+n},"teaches ",t.classes.length," ",t.classes.length>1?"classes":"class"," this quarter")))},W=function(e){var t=e.theme;return r.a.createElement("span",{className:"blankcard"+t},r.a.createElement("div",null,r.a.createElement("div",{className:"blankcard-header"+t}),r.a.createElement("div",{className:"blankcard-subtitle"+t})))},L=Object(a.memo)(function(e){var t=e.loading,n=e.item,a=e.theme,i=e.pinned,s=e.removePin,c=void 0===s?"":s;return t?r.a.createElement(W,{theme:a}):n.code?r.a.createElement(z,{theme:a,item:n,pinned:i,removePin:c}):r.a.createElement(Q,{theme:a,item:n})}),I=n(97),A=n.n(I),D=(n(172),A.a.initializeApp({apiKey:"AIzaSyBz9MqHrEh6L_JfowxiohQopK_QInvj0zo",authDomain:"schedule-of-classes-8b222.firebaseapp.com",databaseURL:"https://schedule-of-classes-8b222.firebaseio.com",projectId:"schedule-of-classes-8b222",storageBucket:"schedule-of-classes-8b222.appspot.com",messagingSenderId:"146759229029"})),U={FA:"Fall",WI:"Winter",SP:"Spring",SU:"Summer Med School",S1:"Summer Session 1",S2:"Summer Session 2",S3:"Summer Session 3",SA:"Summer"},H={SU:0,S1:1,S2:2,S3:3,SA:4,FA:5,WI:6,SP:7},V=function(e,t){var n=parseInt(e.slice(-2),10),a=parseInt(t.slice(-2),10);return n>a?-1:n<a?1:H[e.slice(0,2)]>H[t.slice(0,2)]?-1:1},F=function(e,t){var n=[],a=[];for(e.code.replace(/(\d+)|(\D+)/g,function(e,t,a){n.push([t||1/0,a||""])}),t.code.replace(/(\d+)|(\D+)/g,function(e,t,n){a.push([t||1/0,n||""])});n.length&&a.length;){var r=n.shift(),i=a.shift(),s=r[0]-i[0]||r[1].localeCompare(i[1]);if(s)return s}},B=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(o.a)(this,Object(u.a)(t).call(this,e))).rowRenderer=function(e){var t=e.key,a=e.index,i=e.style;if(0===n.props.searchResults.length&&!1===n.props.loading)return r.a.createElement("div",{key:t,style:i},r.a.createElement("div",{className:"empty-list"+n.props.theme},r.a.createElement("div",null,"No Search Results")));var s=n.props.searchResults[a];return r.a.createElement("div",{key:t,style:i},r.a.createElement(L,{loading:n.props.loading,key:t.code||t.teacher||a,item:s,theme:n.props.theme,pinned:n.props.pinned,removePin:n.props.removePin}))},n.list=Object(a.createRef)(),n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentDidUpdate",value:function(e){this.props.theme!==e.theme?this.list.current.forceUpdateGrid():this.props.pinned.length!==e.pinned.length&&this.list.current.forceUpdateGrid()}},{key:"render",value:function(){var e=this,t=this.props,n=t.isMobile,a=t.theme,i=t.pinned,s=t.searchResults,c=t.loading,l=!n&&i.length>0?"list-short"+a:"list"+a;return r.a.createElement("div",{className:l},r.a.createElement(x.a,null,function(t){var n=t.height,a=t.width;return r.a.createElement(x.b,{ref:e.list,height:n,width:a,rowCount:function(e,t){return e?100:0===t?1:t}(c,s.length),rowHeight:function(e,t,n,a){return n||0!==a?t<400?80:95:e}(n,a,c,s.length),rowRenderer:e.rowRenderer,loading:c})}))}}]),t}(a.Component);function G(){return(G=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var J=r.a.createElement("path",{d:"M14.061 11.045l7.297 7.267a2.087 2.087 0 0 1-.88 3.517 2.107 2.107 0 0 1-2.039-.506l-7.4-7.267-7.298 7.267c-.806.86-2.16.907-3.023.104a2.124 2.124 0 0 1-.104-3.01l7.505-7.372L.718 3.778A2.162 2.162 0 0 1 .562.715 2.184 2.184 0 0 1 3.637.559l7.297 7.58 7.61-7.372a2.091 2.091 0 0 1 2.558.348c.67.691.775 1.75.256 2.559l-7.297 7.267v.104z",fill:"#fff"}),K=function(e){return r.a.createElement("svg",G({width:22,height:22},e),J)};n.p;function _(){return(_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var $=r.a.createElement("path",{d:"M25.638 23.736c.679.678.69 1.766.027 2.43-.663.663-1.75.65-2.43-.028l-6.832-6.833c-3.964 2.796-9.546 2.362-13.168-1.261C-.807 14.003-.88 7.524 3.072 3.572c3.951-3.952 10.43-3.879 14.472.163 3.623 3.622 4.057 9.204 1.261 13.168l6.833 6.833zm-9.588-7.29c3-3 2.944-7.919-.124-10.987C12.858 2.391 7.94 2.336 4.94 5.335c-3 3-2.944 7.919.124 10.987 3.068 3.068 7.986 3.123 10.986.123z",fill:"#fff"}),X=function(e){return r.a.createElement("svg",_({width:27,height:27},e),$)},Y=(n.p,Object(a.memo)(function(e){return r.a.createElement("div",{className:"searchbutton"+e.theme,onClick:e.hasTextInput?e.clearSearchBox:null,title:e.hasTextInput?"Clear searchbox":"Search as you type"},e.hasTextInput?r.a.createElement(K,{alt:"clear searchbox"}):r.a.createElement(X,{alt:"search"}))})),Z=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(o.a)(this,Object(u.a)(t).call(this,e))).handleWindowResize=function(){window.innerWidth>=1200&&window.innerWidth<1600||window.innerWidth<520?n.setState({showSmall:!0}):n.setState({showSmall:!1})},n.handleQuarterChange=function(e){e.stopPropagation(),n.setState({quarter:e.target.value}),n.props.changeQuarter(e.target.value)},n.state={quarter:"",showSmall:window.innerWidth>=1200&&window.innerWidth<1600||window.innerWidth<520},n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.handleWindowResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleWindowResize)}},{key:"render",value:function(){var e=this;return""!==this.props.selectedQuarter?r.a.createElement("select",{title:"Select to change quarter",className:"quarter"+this.context.theme,value:this.state.quarter,onChange:this.handleQuarterChange},r.a.createElement("optgroup",{label:"Other"},r.a.createElement("option",null,"Catalog")),r.a.createElement("optgroup",{label:"Quarters"},this.props.quarters.map(function(t){return r.a.createElement("option",{key:t.abbreviation},e.state.showSmall?t.abbreviation:t.value)}))):r.a.createElement("div",{title:"Select to change quarter",className:"quarter"+this.context.theme},r.a.createElement("div",{className:"quarter"+this.context.theme+"-loading"}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return""!==e.selectedQuarter?t.showSmall?{quarter:e.selectedQuarter}:{quarter:U[e.selectedQuarter.slice(0,2)]+" "+("20"+e.selectedQuarter.slice(2,4))}:""}}]),t}(a.PureComponent);Z.contextType=d;var ee=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(o.a)(this,Object(u.a)(t).call(this,e))).handleText=function(e){n.setState({text:e.target.value}),n.props.filterView(e)},n.clearSearchBox=function(){n.searchbox.value="",n.setState({text:""})},n.state={text:""},n.searchbox=Object(a.createRef)(),n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"searchbox"+this.context.theme},r.a.createElement("input",{type:"text",title:"Type to search",spellCheck:"false",ref:function(t){e.searchbox=t},placeholder:"Find courses, teachers, units...",onKeyUp:this.handleText}),r.a.createElement(Z,{quarters:this.props.quarters,changeQuarter:this.props.changeQuarter,selectedQuarter:this.props.selectedQuarter}),r.a.createElement(Y,{theme:this.context.theme,hasTextInput:""!==this.state.text,clearSearchBox:this.clearSearchBox}))}}]),t}(a.PureComponent);function te(){return(te=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}ee.contextType=d;var ne=r.a.createElement("g",null,r.a.createElement("circle",{cx:20.56,cy:3,r:3}),r.a.createElement("circle",{cx:11.56,cy:3,r:3}),r.a.createElement("circle",{cx:3.56,cy:3,r:3})),ae=function(e){return r.a.createElement("svg",te({width:24,height:6},e),ne)};n.p;function re(){return(re=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var ie=r.a.createElement("path",{d:"M6.732 14.476l-6.446-3.94c-.401-.238-.38-.568.062-.741L24.403.207c.435-.17.936-.39.842.056l-4.45 21.573s.666.394.263.154l-8.162-3.937-3.64 3.137-2.523-6.714h-.001zm1.683-1.14l1.515 4.805c.096.302.223.29.292-.008l.717-3.118L21.965 3.513c.415-.433.365-.498-.118-.14L8.415 13.337z"}),se=function(e){return r.a.createElement("svg",re({width:26,height:22},e),ie)};n.p;function ce(){return(ce=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var le=r.a.createElement("path",{d:"M2 0h16a2 2 0 0 1 2 2v20a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2zm1 2a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h5a1 1 0 0 0 1-1V3a1 1 0 0 0-1-1H3zm9 6a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h5a1 1 0 0 0 1-1V9a1 1 0 0 0-1-1h-5z"}),oe=function(e){return r.a.createElement("svg",ce({width:20,height:24},e),le)},ue=(n.p,function(e){var t=e.theme;return r.a.createElement(C.a,{to:"/",title:"Click to close",className:"btn-nav"+t},r.a.createElement(K,null),r.a.createElement("div",null,"Close"))}),he=function(e){var t=e.theme,n=e.addPin,a=e.removePin,i=e.pinned,s=e.item;return r.a.createElement("div",{title:i.includes(s)?"Click to unpin":"Click to pin",onClick:i.includes(s)?function(){a(s)}:function(){n(s)},className:i.includes(s)?"active-btn-nav"+t:"btn-nav"+t},r.a.createElement(M,null),r.a.createElement("div",null,i.includes(s)?"Planned":"Plan"))},me=function(e){var t=e.theme;return r.a.createElement("div",{title:"Click to email",className:"btn-nav"+t},r.a.createElement(se,null),r.a.createElement("div",null,"Email"))},de=function(e){var t=e.theme;return r.a.createElement(C.a,{to:"/",title:"Go to settings",className:"btn-nav"+t},r.a.createElement(ae,{style:{margin:"8px 0 7px 0"}}),r.a.createElement("div",null,"More"))},pe=function(e){var t=e.theme;return r.a.createElement(C.a,{to:"/schedule",title:"Go to settings",className:"btn-nav"+t},r.a.createElement(oe,null),r.a.createElement("div",null,"Schedule"))},ve=Object(a.memo)(function(e){var t=e.theme,n=e.type,a=e.addPin,i=e.removePin,s=e.pinned,c=e.item,l=void 0===c?"":c,o=e.isMobile,u=void 0!==o&&o;return"course"===n?r.a.createElement("div",{className:"navigation"+t},r.a.createElement(he,{theme:t,addPin:a,removePin:i,pinned:s,item:l}),r.a.createElement(ue,{theme:t})):"teacher"===n?r.a.createElement("div",{className:"navigation"+t},r.a.createElement(me,{theme:t}),r.a.createElement(ue,{theme:t})):"home"===n?r.a.createElement("div",{className:"navigation"+t},r.a.createElement(pe,{theme:t}),u&&r.a.createElement(de,{theme:t})):void 0}),fe=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(o.a)(this,Object(u.a)(t).call(this,e))).setRef=function(e){n.inputRef=e},n.clearTextInput=function(){n.searchbox.value="",n.classes=n.initialClasses,n.teachers=n.initialTeachers,n.setState({displayResults:n.classes})},n.handleFilter=function(e,t){var a=e?n.initialClasses:n.classes,r=e?n.initialTeachers:n.teachers;if(-1!==t.indexOf("pinned"))n.props.pinned.length>0&&n.setState({displayResults:n.initialClasses.filter(function(e){return n.props.pinned.includes(e)})});else if(-1!==t.indexOf("unit")||-1!==t.indexOf("units")){var i=t.match(/\d+/);null!==i&&n.setState({displayResults:n.initialClasses.filter(function(e){return-1!==e.units.indexOf(i)})})}else n.classes=a.filter(function(e){var n=e.code,a=e.title;return-1!==n.toLowerCase().indexOf(t)||-1!==a.toLowerCase().indexOf(t)}),n.classes!==n.state.displayResults&&(n.teachers=r.filter(function(e){return-1!==e.teacher.toLowerCase().replace(",","").indexOf(t)}),n.classes.length<5?n.setState({displayResults:n.classes.concat(n.teachers.slice(0,7))}):n.setState({displayResults:n.classes}))},n.filterView=function(e){if(""!==e.target.value){var t=e.target.value.trim().toLowerCase(),a=8===e.keyCode;" "!==t&&n.handleFilter(a,t)}else n.setState({displayResults:n.initialClasses}),n.classes=n.initialClasses,n.teachers=n.initialTeachers},n.initialClasses=[],n.initialTeachers=[],n.classes=[],n.teachers=[],n.state={displayResults:[]},n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentDidUpdate",value:function(){!0===this.props.loading&&0!==this.state.displayResults.length?(this.setState({displayResults:[]}),this.searchbox.value="",this.initialClasses=this.initialTeachers=this.classes=this.teachers=[]):0===this.classes.length&&this.state.displayResults.length>0&&(this.classes=this.initialClasses=this.props.classes,this.teachers=this.initialTeachers=this.props.teachers)}},{key:"render",value:function(){var e=this.props.isMobile||this.props.pinned.length>0;return r.a.createElement("div",null,r.a.createElement(j,this.context),r.a.createElement(ee,{quarters:this.props.quarters,changeQuarter:this.props.changeQuarter,selectedQuarter:this.props.selectedQuarter,filterView:this.filterView,setRef:this.setRef}),r.a.createElement(B,{searchResults:this.state.displayResults,loading:this.props.loading,isMobile:this.props.isMobile,pinned:this.props.pinned,removePin:this.props.removePin,theme:this.context.theme}),e&&r.a.createElement(ve,{type:"home",theme:this.context.theme,pinned:this.props.pinned,addPin:this.props.addPin,removePin:this.props.removePin,isMobile:this.props.isMobile}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return 0===t.displayResults.length&&e.classes.length>0?{displayResults:e.classes}:null}}]),t}(a.PureComponent);fe.contextType=d;var Ee=function(e){var t=e.theme;return r.a.createElement(C.a,{to:"/",title:"Click to close",className:"btn-close"+t},r.a.createElement(K,null))},ge=function(e){var t=e.theme,n=e.addPin,a=e.removePin,i=e.pinned,s=e.item;return r.a.createElement("div",{title:i.includes(s)?"Click to unpin":"Click to pin",onClick:i.includes(s)?function(){return a(s)}:function(){return n(s)},className:i.includes(s)?"btn-pin-active"+t:"btn-pin"+t},r.a.createElement(M,null))},be=Object(a.memo)(function(e){var t=e.item,n=e.addPin,a=e.removePin,i=e.pinned,s=e.theme,c=e.isMobile;return r.a.createElement("div",{className:"ribbon"+s},r.a.createElement("div",{className:"title"+s},r.a.createElement("h1",null,t.code),r.a.createElement("p",null,t.title)),!c&&r.a.createElement("div",{style:{display:"flex",flexDirection:"row"}},r.a.createElement(ge,{theme:s,item:t,addPin:n,removePin:a,pinned:i}),r.a.createElement(Ee,{theme:s})))}),we=Object(a.memo)(function(e){var t=e.item,n=e.theme;e.classes;return r.a.createElement("div",{className:"content"+n},r.a.createElement("h1",null,"Description"),r.a.createElement("p",null,t.rest.description),r.a.createElement("b",null,"Prerequisites:"),r.a.createElement("p",null,t.rest.prerequisites),r.a.createElement("b",null,"Restrictions:"),r.a.createElement("p",null,""===t.rest.restrictions?"None.":t.rest.restrictions))}),ye=function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"rightpane"+this.context.theme},r.a.createElement(be,{item:this.props.location.state.item,theme:this.context.theme,isMobile:this.props.isMobile,addPin:this.props.addPin,removePin:this.props.removePin,pinned:this.props.pinned}),r.a.createElement(we,{classes:this.props.classes,item:this.props.location.state.item,theme:this.context.theme,isMobile:this.props.isMobile}),this.props.isMobile&&r.a.createElement(ve,{theme:this.context.theme,type:void 0!==this.props.location.state.item.code?"course":"teacher",addPin:this.props.addPin,removePin:this.props.removePin,pinned:this.props.pinned,item:this.props.location.state.item}))}}]),t}(a.PureComponent);ye.contextType=d;var Oe=Object(a.memo)(function(e){var t=e.theme;return r.a.createElement("div",{className:"emptypane"+t})}),Pe=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(o.a)(this,Object(u.a)(t).call(this,e))).addPin=function(e){n.setState({pinned:Object(E.a)(n.state.pinned).concat([e])})},n.removePin=function(e){n.setState(function(t){return{pinned:t.pinned.filter(function(t){return t!==e})}})},n.clearPins=function(){n.state.pinned.length>0&&n.setState({pinned:[]})},n.handleWindowResize=function(){n.setState({width:window.innerWidth})},n.loadData=function(){var e=Object(f.a)(v.a.mark(function e(t){var a,r;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.selectedQuarter=t,e.next=3,D.database().ref("quarter/"+t).once("value").then(function(e){return n.addClasses(e.val())});case 3:return a=e.sent,e.next=6,D.database().ref("quarter/"+t+" teachers").once("value").then(function(e){return n.addTeachers(e.val())});case 6:r=e.sent,Promise.all([a,r]).then(n.finishLoading());case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),n.addClasses=function(e){for(var t=Object.values(e),a=0;a<t.length;a++){var r=t[a];n.classes.push({code:r.code,title:r.title,units:r.units,rest:r,waitlist:"true"===r.waitlist,dei:"true"===r.dei})}n.classes=n.classes.sort(F)},n.addTeachers=function(e){for(var t in e)n.teachers.push({teacher:t,email:e[t][0],classes:e[t][1]})},n.finishLoading=function(){localStorage.setItem(n.selectedQuarter,[n.classes,n.teachers]),n.setState({loading:!1})},n.selectedQuarter="",n.quarters=[],n.classes=[],n.teachers=[],n.state={loading:!0,pinned:[],width:window.innerWidth},n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleWindowResize)}},{key:"componentDidMount",value:function(){var e=this;window.addEventListener("resize",this.handleWindowResize),this.quarters=function(){var e=[];return D.database().ref("quarter/").once("value",function(t){Object.keys(t.val()).filter(function(e){return-1===e.indexOf("teacher")}).sort(V).forEach(function(t){return e.push({value:U[t.slice(0,2)]+" 20"+t.slice(-2),abbreviation:t})})}),e}(),D.database().ref("current").once("value").then(function(t){return e.loadData(t.val())})}},{key:"render",value:function(){var e=this,t=this.state.width<1200;return t?r.a.createElement(g.a,null,r.a.createElement(m.a,{exact:!0,path:"/",render:function(){return r.a.createElement(fe,{classes:e.classes,teachers:e.teachers,quarters:e.quarters,selectedQuarter:e.selectedQuarter,loading:e.state.loading,pinned:e.state.pinned,clearPins:e.clearPins,removePin:e.removePin,isMobile:t})}}),r.a.createElement(m.a,{path:"/:id",render:function(n){return r.a.createElement(ye,Object.assign({isMobile:t,classes:e.classes,pinned:e.state.pinned,addPin:e.addPin,removePin:e.removePin},n))}}),r.a.createElement(b.a,{from:"/:id",to:"/"})):r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(fe,{classes:this.classes,teachers:this.teachers,quarters:this.quarters,selectedQuarter:this.selectedQuarter,loading:this.state.loading,pinned:this.state.pinned,removePin:this.removePin,clearPins:this.clearPins,isMobile:t}),r.a.createElement(g.a,null,r.a.createElement(m.a,{path:"/:id",render:function(n){return r.a.createElement(ye,Object.assign({isMobile:t,classes:e.classes,pinned:e.state.pinned,addPin:e.addPin,removePin:e.removePin},n))}}),r.a.createElement(m.a,{render:function(){return r.a.createElement(Oe,{theme:e.context.theme})}})))}}]),t}(a.Component);Pe.contextType=d;var je=function(e){function t(e){var n;Object(c.a)(this,t),(n=Object(o.a)(this,Object(u.a)(t).call(this,e))).changeTheme=function(){n.setState({theme:""===n.state.theme?"-dark":""},n.saveTheme)},n.saveTheme=function(){localStorage.setItem("theme",n.state.theme)};var a=localStorage.getItem("theme")||"";return n.state={theme:a,changeTheme:n.changeTheme},n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(d.Provider,{value:this.state},r.a.createElement(m.a,{component:Pe}))}}]),t}(a.Component),xe=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Ce(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}var Se=n(178);s.a.render(r.a.createElement(Se.a,{basename:"/triton"},r.a.createElement(je,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/triton",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/triton","/service-worker.js");xe?(function(e,t){fetch(e).then(function(n){404===n.status||-1===n.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):Ce(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")})):Ce(t,e)})}}()},99:function(e,t,n){e.exports=n(176)}},[[99,2,1]]]);
//# sourceMappingURL=main.79accbe8.chunk.js.map