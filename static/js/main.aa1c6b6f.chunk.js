(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{100:function(e,t,a){e.exports=a(177)},105:function(e,t,a){},177:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(27),l=a.n(i),s=(a(105),a(6)),c=a(7),o=a(11),d=a(8),u=a(12),m=a(182),h=Object(n.createContext)({theme:"",toggleTheme:function(){}}),p=a(29),v=a(71),f=a.n(v),y=a(95),E=a(55),g=a(181),b=a(180);function w(){return(w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var x=r.a.createElement("defs",null,r.a.createElement("linearGradient",{x1:"0%",y1:"0%",y2:"100%",id:"a"},r.a.createElement("stop",{stopColor:"#FC933C",offset:"0%"}),r.a.createElement("stop",{stopColor:"#FFE14B",offset:"100%"}))),k=r.a.createElement("path",{d:"M18.892 36.283V65H13.96V35.873l-.942-2.617.085-.806L0 36.782l6.423-22.948-1.72.55 5.39-9.443-3.785 22.948 7.658-3.687L16.5 0l2.534 24.202 7.658 3.687L22.907 4.94l5.39 9.442-1.72-.549L33 36.782 19.897 32.45l.085.806-1.09 3.027z",fill:"url(#a)"}),O=function(e){return r.a.createElement("svg",w({width:33,height:65},e),x,k)},j=(a.p,Object(n.memo)(function(e){var t=e.theme,a=e.changeTheme;return r.a.createElement("div",{className:"branding"+t,onClick:a,title:"Triton Courses - a convenient way to plan your courses!"},r.a.createElement("h1",null,"Triton"),r.a.createElement(O,null),r.a.createElement("h1",null,"Courses"))})),T=a(72),S=a(178);function C(){return(C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var D=r.a.createElement("path",{d:"M13.6 9.848H15c.6 0 1 .419 1 1.047v10.057c0 .629-.4 1.048-1 1.048H1c-.552 0-1-.469-1-1.048V10.895c0-.628.4-1.047 1-1.047h1.4v-4.19h2.2v4.19h6.8v-4.19h2.2v4.19zm0-4.19H2.4C2.4 2.513 5 0 8 0c3 0 5.6 2.514 5.6 5.657zm-2.2 0C11.4 3.77 9.9 2.2 8 2.2c-1.84 0-3.346 1.531-3.4 3.457h6.8z"}),N=function(e){return r.a.createElement("svg",C({width:16,height:22},e),D)};a.p;function F(){return(F=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var B=r.a.createElement("path",{d:"M2.167 11H2V3h.296C1.58 3 1 2.42 1 1.704v-.408C1 .58 1.58 0 2.296 0h8.408C11.42 0 12 .58 12 1.296v.408C12 2.42 11.42 3 10.704 3H11v8h-.17L13 12v.704C13 13.42 12.42 14 11.704 14H8v7l-1.5 1L5 21v-7H1.296C.58 14 0 13.42 0 12.704V12l2.167-1z"}),A=function(e){return r.a.createElement("svg",F({width:13,height:22},e),B)},P=(a.p,function(e){var t=e.waitlist,a=e.theme,n=e.item,i=e.pinned,l=e.removePin;return i.includes(n)?r.a.createElement("div",{className:"card-pin",onClick:function(e){e.preventDefault(),l(n)},title:"Means there's a waitlist."},r.a.createElement(A,null)):t?r.a.createElement("div",{className:"card-waitlist"+a,title:"Means there's a waitlist."},r.a.createElement(N,null)):r.a.createElement("div",{className:"card-waitlist-empty-icon"})}),W=function(e){var t=e.item,a=e.theme,n=e.pinned,i=e.removePin,l=e.location;return r.a.createElement(S.a,{to:{pathname:"/"+t.code.split(" ").join(""),state:{item:t}},title:"A course card.",className:l===t.code.split(" ").join("")?"card-active"+a:"card"+a},r.a.createElement("div",{className:"card-width"},r.a.createElement("p",{className:"card-code"},t.code),r.a.createElement("p",{className:"card-title"+a},t.title)),r.a.createElement(P,{pinned:n,item:t,waitlist:t.waitlist,theme:a,removePin:i}))},R=function(e){var t=e.item,a=e.theme;return r.a.createElement(S.a,{to:"/content",title:"A teacher card.",className:"card"+a},r.a.createElement("div",{className:"card-width"},r.a.createElement("p",{className:"card-code"},t.teacher),r.a.createElement("p",{className:"card-title"+a},"teaches ",t.classes.length," ",t.classes.length>1?"classes":"class"," this quarter")))},I=function(e){var t=e.theme;return r.a.createElement("span",{className:"blankcard"+t},r.a.createElement("div",null,r.a.createElement("div",{className:"blankcard-header"+t}),r.a.createElement("div",{className:"blankcard-subtitle"+t})))},M=Object(n.memo)(function(e){var t=e.loading,a=e.item,n=e.theme,i=e.pinned,l=e.removePin,s=void 0===l?"":l,c=e.location;return t?r.a.createElement(I,{theme:n}):a.code?r.a.createElement(W,{theme:n,item:a,pinned:i,removePin:s,location:c}):r.a.createElement(R,{theme:n,item:a})}),z=a(99),H=a.n(z),L=(a(173),H.a.initializeApp({apiKey:"AIzaSyDoBGorgT6WStsAGDdz2RDwhzdSPrlhDcw",authDomain:"winter-2019-rd.firebaseapp.com",databaseURL:"https://winter-2019-rd.firebaseio.com",projectId:"winter-2019-rd",storageBucket:"winter-2019-rd.appspot.com",messagingSenderId:"405408128128"})),q={FA:"Fall",WI:"Winter",SP:"Spring",SU:"Summer Med School",S1:"Summer Session 1",S2:"Summer Session 2",S3:"Summer Session 3",SA:"Summer"},Q={SU:0,S1:1,S2:2,S3:3,SA:4,FA:5,WI:6,SP:7},U=function(e,t){var a=e["start time"].split(":").map(function(e){return parseInt(e,10)}),n=t["start time"].split(":").map(function(e){return parseInt(e,10)});return a[0]>n[0]?1:a[0]<n[0]?-1:a[1]>n[1]?1:a[1]<n[1]?-1:0},V=function(e,t){var a=e["end time"].split(":").map(function(e){return parseInt(e,10)}),n=t["end time"].split(":").map(function(e){return parseInt(e,10)});return a[0]>n[0]?-1:a[0]<n[0]?1:a[1]>n[1]?-1:a[1]<n[1]?1:0},G=function(e,t,a){for(var n=e.split(":").map(function(e){return parseInt(e,10)})[0],r=t.split(":").map(function(e){return parseInt(e,10)})[0],i=[],l=[],s=n;s<=r;s++)i.push(s+":00"),l.push(s+":00"),l.push(s+":30");return a&&(i.push(r+1+":00"),l.push(r+1+":00"),l.push(r+1+":30")),[i,l]},X=function(e,t){var a=parseInt(e.slice(-2),10),n=parseInt(t.slice(-2),10);return a>n?-1:a<n?1:Q[e.slice(0,2)]>Q[t.slice(0,2)]?-1:1},J=function(e,t){var a=[],n=[];for(e.code.replace(/(\d+)|(\D+)/g,function(e,t,n){a.push([t||1/0,n||""])}),t.code.replace(/(\d+)|(\D+)/g,function(e,t,a){n.push([t||1/0,a||""])});a.length&&n.length;){var r=a.shift(),i=n.shift(),l=r[0]-i[0]||r[1].localeCompare(i[1]);if(l)return l}},K=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e))).rowRenderer=function(e){var t=e.key,n=e.index,i=e.style,l=a.props.searchResults[n];return r.a.createElement("div",{key:t,style:i},r.a.createElement(M,{loading:a.props.loading,key:t.code||t.teacher||n,item:l,theme:a.props.theme,pinned:a.props.pinned,removePin:a.props.removePin,location:a.props.location.pathname.slice(1)}))},a.findIndex=function(e,t){var n=e.pathname;if("/"===n)return a.lastScrollSpot;for(var r in n=n.slice(1),t)if(a.props.searchResults[r].code.split(" ").join("")===n)return a.lastScrollSpot=Number(r),Number(r);return 0},a.list=Object(n.createRef)(),a.lastScrollSpot=0,a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidUpdate",value:function(e){this.props.theme!==e.theme?this.list.current.forceUpdateGrid():this.props.pinned.length!==e.pinned.length?this.list.current.forceUpdateGrid():this.props.location!==e.location&&this.list.current.forceUpdateGrid()}},{key:"render",value:function(){var e=this,t=this.props,a=t.isMobile,n=t.theme,i=t.pinned,l=t.searchResults,s=t.loading,c=t.location,o=!a&&i.length>0?"list-short"+n:"list"+n;return r.a.createElement("div",{className:o},r.a.createElement(T.a,null,function(t){var n=t.height,i=t.width;return r.a.createElement(T.b,{ref:e.list,height:n,width:i,rowCount:function(e,t){return e?100:0===t?1:t}(s,l.length),rowHeight:function(e,t,a,n,r){return n||0!==r?t&&a<=200?60:t&&a<=400?80:t&&a<=450?85:95:e}(n,a,i,s,l.length),rowRenderer:e.rowRenderer,loading:s,scrollToIndex:e.findIndex(c,l)})}))}}]),t}(n.Component),$=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e))).handleWindowResize=function(){window.innerWidth>=1e3&&window.innerWidth<=1200||window.innerWidth<400?a.setState({showSmall:!0}):a.setState({showSmall:!1})},a.handleQuarterChange=function(e){e.stopPropagation(),a.setState({quarter:e.target.value}),a.props.changeQuarter(e.target.value)},a.state={quarter:"",showSmall:window.innerWidth>=1e3&&window.innerWidth<=1200||window.innerWidth<400},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.handleWindowResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleWindowResize)}},{key:"render",value:function(){var e=this.props,t=e.selectedQuarter,a=e.quarters,n=this.state,i=n.quarter,l=n.showSmall,s=this.context.theme;return""!==t?r.a.createElement("select",{title:"Select to change quarter",className:"quarter"+s,value:i,onChange:this.handleQuarterChange},a.map(function(e){return r.a.createElement("option",{key:e.abbreviation},l?e.abbreviation:e.value)})):r.a.createElement("div",{title:"Select to change quarter",className:"quarter"+s},r.a.createElement("div",{className:"quarter"+s+"-loading"}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return""!==e.selectedQuarter?t.showSmall?{quarter:e.selectedQuarter}:{quarter:q[e.selectedQuarter.slice(0,2)]+" "+("20"+e.selectedQuarter.slice(2,4))}:""}}]),t}(n.PureComponent);function Y(){return(Y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}$.contextType=h;var Z=r.a.createElement("path",{d:"M14.061 11.045l7.297 7.267a2.087 2.087 0 0 1-.88 3.517 2.107 2.107 0 0 1-2.039-.506l-7.4-7.267-7.298 7.267c-.806.86-2.16.907-3.023.104a2.124 2.124 0 0 1-.104-3.01l7.505-7.372L.718 3.778A2.162 2.162 0 0 1 .562.715 2.184 2.184 0 0 1 3.637.559l7.297 7.58 7.61-7.372a2.091 2.091 0 0 1 2.558.348c.67.691.775 1.75.256 2.559l-7.297 7.267v.104z",fill:"#fff"}),_=function(e){return r.a.createElement("svg",Y({width:22,height:22},e),Z)};a.p;function ee(){return(ee=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var te=r.a.createElement("path",{d:"M25.638 23.736c.679.678.69 1.766.027 2.43-.663.663-1.75.65-2.43-.028l-6.832-6.833c-3.964 2.796-9.546 2.362-13.168-1.261C-.807 14.003-.88 7.524 3.072 3.572c3.951-3.952 10.43-3.879 14.472.163 3.623 3.622 4.057 9.204 1.261 13.168l6.833 6.833zm-9.588-7.29c3-3 2.944-7.919-.124-10.987C12.858 2.391 7.94 2.336 4.94 5.335c-3 3-2.944 7.919.124 10.987 3.068 3.068 7.986 3.123 10.986.123z",fill:"#fff"}),ae=function(e){return r.a.createElement("svg",ee({width:27,height:27},e),te)},ne=(a.p,function(e){return r.a.createElement("div",{className:"searchbutton"+e.theme,onClick:e.hasTextInput?e.clearSearchBox:null,title:e.hasTextInput?"Clear searchbox":"Search as you type"},e.hasTextInput?r.a.createElement(_,{alt:"clear searchbox"}):r.a.createElement(ae,{alt:"search"}))}),re=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e))).handleWindowResize=function(){window.innerWidth<230?a.setState({placeholder:"Search..."}):window.innerWidth<240?a.setState({placeholder:"Type to search"}):window.innerWidth<300||1e3<=window.innerWidth<=1200?a.setState({placeholder:"Type to search..."}):window.innerWidth<350&&a.setState({placeholder:"Find courses & teachers..."}),a.setState({placeholder:"Find courses, teachers, units..."})},a.handleText=function(e){a.setState({text:e.target.value}),a.props.filterView(e)},a.clearSearchBox=function(){a.setState({text:""}),a.props.filterView()},a.state={text:"",placeholder:"Find courses, teachers, units..."},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.handleWindowResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleWindowResize)}},{key:"render",value:function(){var e=this.context.theme,t=this.props,a=t.quarters,n=t.changeQuarter,i=t.selectedQuarter,l=this.state,s=l.text,c=l.placeholder;return r.a.createElement("div",{className:"searchbox"+e},r.a.createElement("input",{type:"text",title:"Type to search",spellCheck:"false",value:s,placeholder:c,onChange:this.handleText}),r.a.createElement($,{quarters:a,changeQuarter:n,selectedQuarter:i}),r.a.createElement(ne,{theme:e,hasTextInput:""!==s,clearSearchBox:this.clearSearchBox}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return window.innerWidth<230?{text:t.text,placeholder:"Search..."}:window.innerWidth<240?{text:t.text,placeholder:"Type to search"}:window.innerWidth<300||1e3<=window.innerWidth<=1200?{text:t.text,placeholder:"Type to search..."}:window.innerWidth<350?{text:t.text,placeholder:"Find courses & teachers..."}:{text:t.text,placeholder:"Find courses, teachers, units..."}}}]),t}(n.PureComponent);function ie(){return(ie=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}re.contextType=h;var le=r.a.createElement("g",null,r.a.createElement("circle",{cx:20.56,cy:3,r:3}),r.a.createElement("circle",{cx:11.56,cy:3,r:3}),r.a.createElement("circle",{cx:3.56,cy:3,r:3})),se=function(e){return r.a.createElement("svg",ie({width:24,height:6},e),le)};a.p;function ce(){return(ce=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var oe=r.a.createElement("path",{d:"M6.732 14.476l-6.446-3.94c-.401-.238-.38-.568.062-.741L24.403.207c.435-.17.936-.39.842.056l-4.45 21.573s.666.394.263.154l-8.162-3.937-3.64 3.137-2.523-6.714h-.001zm1.683-1.14l1.515 4.805c.096.302.223.29.292-.008l.717-3.118L21.965 3.513c.415-.433.365-.498-.118-.14L8.415 13.337z"}),de=function(e){return r.a.createElement("svg",ce({width:26,height:22},e),oe)};a.p;function ue(){return(ue=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var me=r.a.createElement("path",{d:"M2 0h16a2 2 0 0 1 2 2v20a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2zm1 2a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h5a1 1 0 0 0 1-1V3a1 1 0 0 0-1-1H3zm9 6a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h5a1 1 0 0 0 1-1V9a1 1 0 0 0-1-1h-5z"}),he=function(e){return r.a.createElement("svg",ue({width:20,height:24},e),me)};a.p;function pe(){return(pe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var ve=r.a.createElement("path",{d:"M9 8V1a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v7h3.89a1 1 0 0 1 .774 1.633l-6.89 8.421a1 1 0 0 1-1.548 0l-6.89-8.42A1 1 0 0 1 5.11 8H9zM1 22h23a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1v-2a1 1 0 0 1 1-1z"}),fe=function(e){return r.a.createElement("svg",pe({width:25,height:26},e),ve)},ye=(a.p,function(e){var t=e.theme;return r.a.createElement(S.a,{to:"/",title:"Click to close",className:"btn-nav"+t},r.a.createElement(_,null),r.a.createElement("div",null,"Close"))}),Ee=function(e){var t=e.theme,a=e.addPin,n=e.removePin,i=e.pinned,l=e.item;return r.a.createElement("div",{title:i.includes(l)?"Click to unpin":"Click to pin",onClick:i.includes(l)?function(){n(l)}:function(){a(l)},className:i.includes(l)?"active-btn-nav"+t:"btn-nav"+t},r.a.createElement(A,null),r.a.createElement("div",null,i.includes(l)?"Planned":"Plan"))},ge=function(e){var t=e.theme;return r.a.createElement("div",{title:"Click to email",className:"btn-nav"+t},r.a.createElement(de,null),r.a.createElement("div",null,"Email"))},be=function(e){var t=e.theme;return r.a.createElement(S.a,{to:"/",title:"Go to settings",className:"btn-nav"+t},r.a.createElement(se,{style:{margin:"8px 0 7px 0"}}),r.a.createElement("div",null,"More"))},we=function(e){var t=e.theme;return r.a.createElement(S.a,{to:"/schedule",title:"Go to settings",className:"btn-nav"+t},r.a.createElement(he,null),r.a.createElement("div",null,"Schedule"))},xe=function(e){var t=e.theme;return r.a.createElement("div",{title:"Save your schedule",className:"btn-nav"+t},r.a.createElement(fe,null),r.a.createElement("div",null,"Save"))},ke=Object(n.memo)(function(e){var t=e.theme,a=e.type,n=e.addPin,i=e.removePin,l=e.pinned,s=e.item,c=void 0===s?"":s,o=e.isMobile,d=void 0!==o&&o;return"course"===a?r.a.createElement("div",{className:"navigation"+t},r.a.createElement(Ee,{theme:t,addPin:n,removePin:i,pinned:l,item:c}),r.a.createElement(ye,{theme:t})):"teacher"===a?r.a.createElement("div",{className:"navigation"+t},r.a.createElement(ge,{theme:t}),r.a.createElement(ye,{theme:t})):"schedule"===a?r.a.createElement("div",{className:"navigation"+t},r.a.createElement(xe,{theme:t}),r.a.createElement(ye,{theme:t})):"home"===a?d?r.a.createElement("div",{className:"navigation"+t},r.a.createElement(we,{theme:t}),r.a.createElement(be,{theme:t})):r.a.createElement("div",{className:"navigation"+t},r.a.createElement(we,{theme:t})):void 0}),Oe=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e))).setRef=function(e){a.inputRef=e},a.clearTextInput=function(){a.searchbox.value="",a.classes=a.initialClasses,a.teachers=a.initialTeachers,a.setState({displayResults:a.classes})},a.handleFilter=function(e,t){var n=e?a.initialClasses:a.classes,r=e?a.initialTeachers:a.teachers;if(-1!==t.indexOf("unit")||-1!==t.indexOf("units")){var i=t.match(/\d+/);null!==i&&a.setState({displayResults:a.initialClasses.filter(function(e){return-1!==e.units.indexOf(i)})})}else a.classes=n.filter(function(e){var a=e.code,n=e.title;return-1!==a.toLowerCase().indexOf(t)||-1!==n.toLowerCase().indexOf(t)}),a.classes!==a.state.displayResults&&(a.teachers=r.filter(function(e){return-1!==e.teacher.toLowerCase().replace(",","").indexOf(t)}),a.classes.length<5?a.setState({displayResults:a.classes.concat(a.teachers.slice(0,7))}):a.setState({displayResults:a.classes}))},a.filterView=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(""!==e&&""!==e.target.value){var t=e.target.value.trim().toLowerCase(),n=8===e.keyCode;" "!==t&&a.handleFilter(n,t)}else a.setState({displayResults:a.initialClasses}),a.classes=a.initialClasses,a.teachers=a.initialTeachers},a.initialClasses=[],a.initialTeachers=[],a.classes=[],a.teachers=[],a.state={displayResults:[]},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidUpdate",value:function(){!0===this.props.loading&&0!==this.state.displayResults.length?(this.setState({displayResults:[]}),this.searchbox.value="",this.initialClasses=this.initialTeachers=this.classes=this.teachers=[]):0===this.classes.length&&this.state.displayResults.length>0&&(this.classes=this.initialClasses=this.props.classes,this.teachers=this.initialTeachers=this.props.teachers)}},{key:"render",value:function(){var e=this.props,t=e.quarters,a=e.changeQuarter,n=e.selectedQuarter,i=e.loading,l=e.isMobile,s=e.pinned,c=e.removePin,o=e.addPin,d=e.location,u=this.context.theme,m=l||s.length>0;return r.a.createElement("div",null,r.a.createElement(j,this.context),r.a.createElement(re,{quarters:t,changeQuarter:a,selectedQuarter:n,filterView:this.filterView,setRef:this.setRef}),r.a.createElement(K,{searchResults:this.state.displayResults,loading:i,isMobile:l,pinned:s,removePin:c,theme:u,location:d}),m&&r.a.createElement(ke,{type:"home",theme:u,pinned:s,addPin:o,removePin:c,isMobile:l}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return 0===t.displayResults.length&&e.classes.length>0?{displayResults:e.classes}:null}}]),t}(n.PureComponent);Oe.contextType=h;var je=function(e){var t=e.theme;return r.a.createElement(S.a,{to:"/",title:"Click to close",className:"btn-close"+t},r.a.createElement(_,null))},Te=function(e){var t=e.theme,a=e.addPin,n=e.removePin,i=e.pinned,l=e.item;return r.a.createElement("div",{title:i.includes(l)?"Click to unpin":"Click to pin",onClick:i.includes(l)?function(){return n(l)}:function(){return a(l)},className:i.includes(l)?"btn-pin-active"+t:"btn-pin"+t},r.a.createElement(A,null))},Se=Object(n.memo)(function(e){var t=e.item,a=e.addPin,n=e.removePin,i=e.pinned,l=e.theme,s=e.isMobile;return r.a.createElement("div",{className:"ribbon"+l},r.a.createElement("div",{className:"title"+l},r.a.createElement("h1",null,t.code),r.a.createElement("b",null,t.title)),r.a.createElement("div",{style:{display:"flex",flexDirection:"row"}},r.a.createElement("div",{className:"units"+l},t.units,r.a.createElement("span",null,"Units")),!s&&r.a.createElement(Te,{theme:l,item:t,addPin:a,removePin:n,pinned:i}),!s&&r.a.createElement(je,{theme:l})))}),Ce=function(e){var t=e.grade;return r.a.createElement("div",{className:"metric"},r.a.createElement("b",{className:"metric-header",style:{backgroundColor:"#A2CDFF"}},"Average Grade"),r.a.createElement("div",{className:"metric-body",style:{border:"2px solid #A2CDFF"}},t))},De=function(e){var t=e.study;return r.a.createElement("div",{className:"metric"},r.a.createElement("b",{className:"metric-header",style:{backgroundColor:"#AAEEDD"}},"Average Study"),r.a.createElement("div",{className:"metric-body",style:{border:"2px solid #AAEEDD"}},r.a.createElement("div",null,t),"N/A"!==t&&r.a.createElement("div",{style:{marginLeft:"5px"}},"hrs/week")))},Ne=function(e){var t=e.seat,a=e.waitlist;return r.a.createElement("div",{className:"metric"},r.a.createElement("b",{className:"metric-header",style:{backgroundColor:"#B8E986"}},"Seats Taken / Available"),r.a.createElement("div",{className:"metric-body",style:{border:"2px solid #B8E986"}},1===t.length?r.a.createElement("div",{style:{padding:"6px",display:"flex",alignItems:"baseline",justifyContent:"center"}},r.a.createElement("div",null,"Unlimited")):r.a.createElement("div",{style:{padding:"6px",display:"flex",alignItems:"baseline",justifyContent:"center"}},r.a.createElement("div",{title:"Total seats taken.",style:{marginRight:"5px",color:a?"red":"inherit"}},t[0]),r.a.createElement("div",null,"/"),r.a.createElement("div",{title:"Total seats available.",style:{marginLeft:"5px"}},t[1]))))},Fe=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e))).state={metrics:["N/A","N/A","N/A","N/A"],waitlist:!1,code:""},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.state,t=e.metrics,a=e.waitlist;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Overview"),r.a.createElement("div",{className:"metric-list"},r.a.createElement(Ce,{grade:t[0]}),r.a.createElement(De,{study:t[1]}),r.a.createElement(Ne,{seat:t[3],waitlist:a})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(t.code!==e.code){var a=[0,0,0],n=[0,0],r=0,i=!1;for(var l in e.sections){var s=e.sections[l],c=s.cape,o=s.section;for(var d in"N/A"!==c&&(a[0]+=c.expected,a[1]+=c.study,a[2]+=c.received,r+=1),o){var u="Blank"!==o[d]["seats taken"]?o[d]["seats taken"]:null;if(null!==u){if(0x8000000000000000===u){n[0]="Unlimited";break}n[0]+=u,n[1]+="Blank"!==o[d]["seats available"]?o[d]["seats available"]:null}}}return 0!==r&&(a=[(a[0]/r).toFixed(2),(a[1]/r).toFixed(2),(a[2]/r).toFixed(2),""]).length>0&&(a[0]=(m=a[0])>=4?"A":m>=3.7?"A-":m>=3.3?"B+":m>=3?"B":m>=2.7?"B-":m>=2.3?"C+":m>=2?"C":m>=1.7?"C-":m>=1?"D":"F"),"Unlimited"===n[0]?a[3]=["Unlimited"]:n[0]>=n[1]?(i=!0,a[3]=[n[0],n[1]]):a[3]=[n[0],n[1]],{metrics:[0===r?"N/A":a[0],0===r?"N/A":a[1],0===r?"N/A":a[2],a[3]],waitlist:i,code:e.code}}var m;return null}}]),t}(n.PureComponent),Be=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e))).convertBlank=function(e){return"Blank"!==e?e:null},a.convertTime=function(e){var t=e.split(":"),a=Number(t[0]);return a>12?String(a-12)+":"+t[1]+"pm":e+(12===a?"pm":"am")},a.handleTime=function(){var e=a.state.row["start time"],t=a.state.row["end time"];return"TBA"!==e?a.convertTime(e)+" - "+a.convertTime(t):"TBA"},a.handleLocation=function(){var e=a.convertBlank(a.state.row.building),t=a.convertBlank(a.state.row.room);return"TBA"===e?"TBA":null!==e?e+" "+t:"TBA"},a.handleSeats=function(){var e=a.convertBlank(a.state.row["seats available"]),t=a.convertBlank(a.state.row["seats taken"]);return 0x8000000000000000===t?"Unlimited":null===t?null:t+" / "+e},a.handleDays=function(){return"-"===a.state.row.days?null:"FI"===a.state.row["meeting type"]?a.state.row.days:a.state.row.days.replace("T","Tu").replace("R","Th")},a.state={row:[],waitlist:!1},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.theme;return r.a.createElement("div",{className:"subinfo-row"+e,style:{display:"flex",height:"40px",fontSize:"15px"}},r.a.createElement("div",{style:{width:"45px"}}),r.a.createElement("div",{className:"block",style:{width:"90px"}},this.convertBlank(this.state.row.id)),r.a.createElement("div",{className:"block",style:{width:"70px"}},this.convertBlank(this.state.row.number)),r.a.createElement("div",{className:"block",style:{width:"60px"}},this.convertBlank(this.state.row["meeting type"])),r.a.createElement("div",{className:"block",style:{width:"200px"}},r.a.createElement("div",{style:{marginRight:"10px"}},this.handleDays()),r.a.createElement("div",null,this.handleTime())),r.a.createElement("div",{className:"block",style:{width:"100px"}},this.handleLocation()),r.a.createElement("div",{className:"block",style:{width:"250px",textOverflow:"ellipsis",whiteSpace:"nowrap",overflowX:"auto"}},r.a.createElement("div",{title:"Click to see info about a teacher!",style:{fontWeight:"500",padding:"5px",borderRadius:"7px",backgroundColor:""===this.props.theme?"#EDF4FA":"#D2E3FB",color:""===this.props.theme?"#0000EE":"#333",cursor:"pointer"}},this.convertBlank(this.state.row.name))),r.a.createElement("div",{className:"block",title:this.state.waitlist?"Has a waitlist.":"Seats taken / Seats available.",style:this.state.waitlist?{fontWeight:"500",color:"red",width:"100px"}:{width:"100px"}},this.handleSeats()))}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(e.row!==t.row){var a="Blank"!==e.row["seats available"]?e.row["seats available"]:null,n="Blank"!==e.row["seats taken"]?e.row["seats taken"]:null;return 0x8000000000000000===n||null===n?{row:e.row,waitlist:!1}:n>=a?{row:e.row,waitlist:!0}:{row:e.row,waitlist:!1}}return null}}]),t}(n.Component),Ae=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e))).convertBlank=function(e){return"Blank"!==e?e:null},a.convertTime=function(e){var t=e.split(":"),a=Number(t[0]);return a>12?String(a-12)+":"+t[1]+"pm":e+(12===a?"pm":"am")},a.handleTime=function(){var e=a.state.sectionsAndFinals[1]["start time"],t=a.state.sectionsAndFinals[1]["end time"];return"TBA"!==e?a.convertTime(e)+" - "+a.convertTime(t):"TBA"},a.handleLocation=function(){var e=a.convertBlank(a.state.sectionsAndFinals[1].building),t=a.convertBlank(a.state.sectionsAndFinals[1].room);return"TBA"===e?"TBA":null!==e?e+" "+t:"TBA"},a.handleSeats=function(){var e=a.convertBlank(a.state.sectionsAndFinals[1]["seats available"]),t=a.convertBlank(a.state.sectionsAndFinals[1]["seats taken"]);return 0x8000000000000000===t?"Unlimited":null===t?null:t+" / "+e},a.handleDays=function(){return"-"===a.state.sectionsAndFinals[1].days?null:a.state.sectionsAndFinals[1].days.replace("T","Tu").replace("R","Th")},a.state={sectionsAndFinals:[],waitlist:!1},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.theme;return r.a.createElement("div",{className:"accor"},r.a.createElement("div",{className:"section"+e},r.a.createElement("div",{className:this.state.sectionsAndFinals.slice(2).length>0?""===e?"dropdown":"dropdown-dark":""===e?"block2":"block2-dark",style:{width:"45px"}},this.state.sectionsAndFinals.slice(2).length>0&&r.a.createElement("svg",{width:"21",height:"12",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{d:"M10.328 7.486L17.286.528a1.842 1.842 0 0 1 2.611.004c.723.722.716 1.9.004 2.612l-7.853 7.853a1.837 1.837 0 0 1-1.371.54 1.88 1.88 0 0 1-2.014-.413L.701 3.162c-.73-.73-.734-1.91.004-2.648A1.88 1.88 0 0 1 3.352.51l6.976 6.976z",fill:"#FFF"}))),r.a.createElement("div",{className:"block2"+e,style:{width:"90px"}},this.convertBlank(this.state.sectionsAndFinals[1].id)),r.a.createElement("div",{className:"block2"+e,style:{width:"70px"}},this.convertBlank(this.state.sectionsAndFinals[1].number)),r.a.createElement("div",{className:"block2"+e,style:{width:"60px"}},this.convertBlank(this.state.sectionsAndFinals[1]["meeting type"])),r.a.createElement("div",{className:"block2"+e,style:{width:"200px"}},r.a.createElement("div",{style:{marginRight:"10px"}},this.handleDays()),r.a.createElement("div",null,this.handleTime())),r.a.createElement("div",{className:"block2"+e,style:{width:"100px"}},this.handleLocation()),r.a.createElement("div",{className:"block2"+e,style:{width:"250px",textOverflow:"ellipsis",whiteSpace:"nowrap",overflowX:"auto"}},r.a.createElement("div",{title:"Click to see info about a teacher",style:{fontWeight:"500",padding:"5px",borderRadius:"7px",backgroundColor:""===this.props.theme?"#EDF4FA":"#D2E3FB",color:""===this.props.theme?"#0000EE":"#333",cursor:"pointer"}},this.convertBlank(this.state.sectionsAndFinals[1].name))),r.a.createElement("div",{className:"block2"+e,title:this.state.waitlist?"If number is 0, it is exactly full. Else it has a waitlist of this number.":"Seats taken / Seats available.",style:this.state.waitlist?{fontWeight:"500",color:"red",width:"100px"}:{width:"100px"}},this.handleSeats())),r.a.createElement("div",{className:"body"+e,style:{display:"inline-block"}},this.state.sectionsAndFinals.slice(2).map(function(t,a){return r.a.createElement(Be,{theme:e,key:a,row:t})})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a=e.rows.section;if("undefined"!==typeof e.rows.final&&(a=a.concat(e.rows.final)),a!==t.sectionsAndFinals){var n="Blank"!==a[1]["seats available"]?a[1]["seats available"]:null,r="Blank"!==a[1]["seats taken"]?a[1]["seats taken"]:null;return 0x8000000000000000===r||null===r?{sectionsAndFinals:a,waitlist:!1}:r>=n?{sectionsAndFinals:a,waitlist:!0}:{sectionsAndFinals:a,waitlist:!1}}return null}}]),t}(n.Component),Pe=Object(n.memo)(function(){return r.a.createElement("div",{style:{display:"inline-flex",height:"25px",fontWeight:"600"}},r.a.createElement("div",{style:{width:"45px"}}),r.a.createElement("div",{className:"block",style:{width:"90px"}},"ID"),r.a.createElement("div",{className:"block",style:{width:"70px"}},"Section"),r.a.createElement("div",{className:"block",style:{width:"60px"}},"Type"),r.a.createElement("div",{className:"block",style:{width:"200px"}},"When"),r.a.createElement("div",{className:"block",style:{width:"100px"}},"Where"),r.a.createElement("div",{className:"block",style:{width:"250px"}},"Instructor"),r.a.createElement("div",{className:"block",style:{width:"100px"}},"Seats"))}),We=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e))).addClick=function(){var e=!0,t=!1,n=void 0;try{for(var r,i=function(){var e=r.value;e.lastChild.onclick=function(e){"A"!==e.srcElement.nodeName&&e.stopPropagation()},e.onclick=function(){e.classList.toggle("active"),e.firstChild.firstChild.classList.toggle("active")}},l=a.acc.current.children[Symbol.iterator]();!(e=(r=l.next()).done);e=!0)i()}catch(s){t=!0,n=s}finally{try{e||null==l.return||l.return()}finally{if(t)throw n}}},a.state={sections:[]},a.acc=Object(n.createRef)(),a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.addClick()}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Sections"),r.a.createElement("div",{style:{overflow:"scroll"}},r.a.createElement(Pe,null),r.a.createElement("div",{ref:this.acc},this.state.sections.map(function(t,a){return r.a.createElement(Ae,{theme:e.props.theme,key:a,rows:t})}))))}}],[{key:"getDerivedStateFromProps",value:function(e){return{sections:Object.values(e.sections)}}}]),t}(n.PureComponent);function Re(){return(Re=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var Ie=r.a.createElement("path",{d:"M6.401 7.852h-.01v4.296h9.217V7.852h-.01A4.6 4.6 0 0 0 11 2.963a4.6 4.6 0 0 0-4.598 4.889zm-3.13 0C3.27 3.515 6.797 0 11.148 0c4.35 0 7.58 3.515 7.58 7.852v4.296h1.733c.535 0 .729.056.924.16.196.105.35.258.454.454.104.196.16.39.16.924v12.776c0 .535-.056.729-.16.924a1.09 1.09 0 0 1-.454.454c-.195.104-.39.16-.924.16H1.538c-.535 0-.729-.056-.924-.16a1.09 1.09 0 0 1-.454-.454c-.104-.195-.16-.39-.16-.924V13.686c0-.534.056-.728.16-.924a1.09 1.09 0 0 1 .454-.454c.195-.104.39-.16.924-.16H3.27V7.852z",fill:"#7F7F7F"}),Me=function(e){return r.a.createElement("svg",Re({width:22,height:28},e),Ie)};a.p;function ze(){return(ze=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var He=r.a.createElement("title",null,"Team Icon"),Le=r.a.createElement("desc",null,"Created with Sketch."),qe=r.a.createElement("defs",null,r.a.createElement("linearGradient",{x1:"50%",y1:"5.27230853%",x2:"50%",y2:"100%",id:"linearGradient-1"},r.a.createElement("stop",{stopColor:"#9DD4FC",offset:"0%"}),r.a.createElement("stop",{stopColor:"#628AFF",offset:"100%"})),r.a.createElement("circle",{id:"path-2",cx:21.5333333,cy:17,r:9.06666667}),r.a.createElement("circle",{id:"path-3",cx:12.4666667,cy:17,r:9.06666667})),Qe=r.a.createElement("circle",{id:"Oval",fill:"url(#linearGradient-1)",cx:17,cy:17,r:17}),Ue=r.a.createElement("use",{stroke:"#FFFFFF",strokeWidth:1.5,xlinkHref:"#path-2"}),Ve=r.a.createElement("use",{stroke:"#FFFFFF",strokeWidth:1.5,xlinkHref:"#path-3"}),Ge=function(e){return r.a.createElement("svg",ze({width:"35px",height:"34px",viewBox:"0 0 35 34",version:1.1,xmlnsXlink:"http://www.w3.org/1999/xlink"},e),He,Le,qe,r.a.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},r.a.createElement("g",{id:"Icon-Explorations",transform:"translate(-328.000000, -254.000000)"},r.a.createElement("g",{id:"Team-Icon",transform:"translate(328.256662, 254.000000)"},Qe,r.a.createElement("g",{id:"Oval-2-Copy"},r.a.createElement("use",{fill:"#D8D8D8",fillRule:"evenodd",style:{mixBlendMode:"soft-light"},xlinkHref:"#path-2"}),Ue),r.a.createElement("g",{id:"Oval-2-Copy-2"},r.a.createElement("use",{fill:"#D8D8D8",fillRule:"evenodd",style:{mixBlendMode:"soft-light"},xlinkHref:"#path-3"}),Ve)))))},Xe=(a.p,function(){return r.a.createElement("div",{className:"bling-strip",title:"Course is waitlisted",style:{backgroundColor:"#F7F7F7"}},r.a.createElement(Me,null),r.a.createElement("b",null,"Waitlisted"))}),Je=function(){return r.a.createElement("div",{className:"bling-strip",title:"A DEI approved course",style:{backgroundColor:"#EDF4FA"}},r.a.createElement(Ge,null),r.a.createElement("b",null,"DEI-approved"))},Ke=Object(n.memo)(function(e){var t=e.item;return r.a.createElement("div",{style:{display:"flex",alignItems:"center"}},t.waitlist&&r.a.createElement(Xe,null),t.dei&&r.a.createElement(Je,null))}),$e=function(e){var t,a=e.item;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Description"),r.a.createElement("p",null,"???"===a.description?"---":a.description),r.a.createElement("b",null,"Prerequisites:"),r.a.createElement("p",null,"???"===a.prerequisites?"None.":(t=a.prerequisites).charAt(0).toUpperCase()+t.slice(1)),r.a.createElement("b",null,"Restrictions:"),r.a.createElement("p",null,""===a.restrictions?"None.":a.restrictions))},Ye=Object(n.memo)(function(e){var t=e.item,a=e.theme;return r.a.createElement("div",{className:"content"+a},r.a.createElement(Ke,{item:t}),r.a.createElement($e,{item:t}),r.a.createElement(Fe,{code:t.code,sections:t.sections}),r.a.createElement(We,{theme:a,key:t.code,sections:t.sections}))}),Ze=function(e){function t(){return Object(s.a)(this,t),Object(o.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.context.theme,t=this.props,a=t.location,n=t.isMobile,i=t.pinned,l=t.addPin,s=t.removePin;return r.a.createElement("div",{className:"rightpane"+e},r.a.createElement(Se,{item:a.state.item,theme:e,isMobile:n,pinned:i,addPin:l,removePin:s}),r.a.createElement(Ye,{item:a.state.item,theme:e,isMobile:n}),n&&r.a.createElement(ke,{theme:e,type:void 0!==a.state.item.code?"course":"teacher",addPin:l,removePin:s,pinned:i,item:a.state.item,isMobile:"true"}))}}]),t}(n.PureComponent);Ze.contextType=h;var _e=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(o.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).convertTime=function(e){var t=e.split(":"),a=Number(t[0]);return a>12?String(a-12)+":"+t[1]+"pm":e+(12===a?" pm":" am")},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(n.Fragment,null,r.a.createElement("div",{style:{width:"100px",textAlign:"center",height:"60px",borderTop:"1px solid #ccc",borderRight:"1px solid #ddd"}},this.convertTime(this.props.time)),r.a.createElement("div",{style:{width:"100px",textAlign:"center",height:"60px",borderTop:"1px dashed #ccc",borderRight:"1px solid #ddd"}}))}}]),t}(n.PureComponent),et=Object(n.memo)(function(e){var t=e.isNotFinalSchedule,a=e.theme;return r.a.createElement("div",{style:{marginTop:t?"30px":"0px",display:"flex",color:""===a?"#333":"#fff",backgroundColor:""===a?"#f7f7f7":"#333",borderBottom:""===a?"1px solid #dedede":"1px solid #444"}},r.a.createElement("div",{style:{width:"100px",borderTop:""===a?"1px solid #dedede":"1px solid #444",display:"flex",alignItems:"center",justifyContent:"center",borderRight:""===a?"1px solid #dedede":"1px solid #444",cursor:t?"pointer":"default"}}),r.a.createElement("b",{style:{width:"calc((75vw - 200px)/5)",display:"flex",alignItems:"center",justifyContent:"center",height:"60px",borderTop:""===a?"1px solid #dedede":"1px solid #444"}},"Monday"),r.a.createElement("b",{style:{width:"calc((75vw - 200px)/5)",display:"flex",alignItems:"center",justifyContent:"center",height:"60px",borderTop:""===a?"1px solid #dedede":"1px solid #444"}},"Tuesday"),r.a.createElement("b",{style:{width:"calc((75vw - 200px)/5)",display:"flex",alignItems:"center",justifyContent:"center",height:"60px",borderTop:""===a?"1px solid #dedede":"1px solid #444"}},"Wednesday"),r.a.createElement("b",{style:{width:"calc((75vw - 200px)/5)",display:"flex",alignItems:"center",justifyContent:"center",height:"60px",borderTop:""===a?"1px solid #dedede":"1px solid #444"}},"Thursday"),r.a.createElement("b",{style:{width:"calc((75vw - 200px)/5)",display:"flex",alignItems:"center",justifyContent:"center",height:"60px",borderTop:""===a?"1px solid #dedede":"1px solid #444"}},"Friday"))}),tt=Object(n.memo)(function(e){var t=e.intervalWithHalf;return r.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},t.map(function(e,t){return r.a.createElement("div",{key:e,style:{position:"relative",zIndex:"0",width:"calc((75vw - 200px)/5)",height:"60px",borderTop:t%2===0?"1px solid #ccc":"1px dashed #ccc"}})}))}),at=function(e){function t(e){var a;Object(s.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e))).handleOnMouseEnter=function(){a.setState({mouseHover:!0})},a.handleOnMouseLeave=function(){a.setState({mouseHover:!1})},a.round=function(e,t){return 20===t?2*e+1:2*(e+1)},a.numBlocks=function(e,t){var n=e.split(":").map(function(e){return parseInt(e,10)}),r=t.split(":").map(function(e){return parseInt(e,10)});return a.round(r[0]-n[0],r[1]-n[1])},a.convertTime=function(e){var t=e.split(":"),a=Number(t[0]);return a>12?String(a-12)+":"+t[1]+"pm":e+(12===a?"pm":"am")},a.state={mouseHover:!1},a.mapOfTimes=[];for(var n=0;n<a.props.dayData.length;n++){var i=[a.props.dayData[n]["start time"],a.props.dayData[n]["end time"],n];a.mapOfTimes.push(i)}a.column=[];var l=0,c=0;a.toggleBorderBool=!0;for(var u=0;u<a.props.intervalWithHalf.length;u++){for(var m=0;m<a.mapOfTimes.length;m++)if(a.mapOfTimes[m][0]===a.props.intervalWithHalf[u]){var h=a.numBlocks(a.mapOfTimes[m][0],a.mapOfTimes[m][1]);if(a.column.push(r.a.createElement("div",{key:a.props.day+l,style:{width:"calc((75vw - 200px)/5)",borderTop:a.toggleBorderBool?"1px solid #ccc":"1px dashed #ccc",textAlign:"center",height:"30px"}},r.a.createElement("div",{key:a.props.day+c,style:{width:"calc((75vw - 260px)/5)",display:"inline-flex",alignItems:"center",justifyContent:"center",whiteSpace:"nowrap",backgroundColor:a.props.dayData[a.mapOfTimes[m][2]].color,height:"30px",color:"white",fontSize:"16px",fontWeight:"bold",borderRadius:"5px 5px 0 0"}},a.props.dayData[a.mapOfTimes[m][2]].code+" "+a.props.dayData[a.mapOfTimes[m][2]]["meeting type"]))),l++,c++,a.toggleBorderBool=!a.toggleBorderBool,a.column.push(r.a.createElement("div",{key:a.props.day+l,style:{width:"calc((75vw - 200px)/5)",height:"30px",textAlign:"center"}},r.a.createElement("div",{key:a.props.day+c,style:{width:"calc((75vw - 260px)/5)",backgroundColor:a.props.dayData[a.mapOfTimes[m][2]].color,height:"30px",color:"white",fontSize:"14px",whiteSpace:"nowrap",display:"inline-flex",alignItems:"center",justifyContent:"center"}},a.props.dayData[a.mapOfTimes[m][2]].name))),l++,c++,h<=2)a.column.push(r.a.createElement("div",{key:a.props.day+l,style:{width:"calc((75vw - 200px)/5)",height:"25px",borderTop:a.toggleBorderBool?"1px solid #ccc":"1px dashed #ccc",textAlign:"center"}},r.a.createElement("div",{key:a.props.day+c,style:{position:"relative",top:"-1px",width:"calc((75vw - 260px)/5)",backgroundColor:a.props.dayData[a.mapOfTimes[m][2]].color,height:"26px",color:"white",fontSize:"14px",display:"inline-flex",alignItems:"center",justifyContent:"center"}},a.props.dayData[a.mapOfTimes[m][2]].building+" "+a.props.dayData[a.mapOfTimes[m][2]].room))),l++,c++,a.toggleBorderBool=!a.toggleBorderBool,a.column.push(r.a.createElement("div",{key:a.props.day+l,style:{width:"calc((75vw - 200px)/5)",height:"25px",textAlign:"center"}},r.a.createElement("div",{key:a.props.day+c,style:{position:"relative",top:"-1px",width:"calc((75vw - 260px)/5)",backgroundColor:a.props.dayData[a.mapOfTimes[m][2]].color,height:"26px",color:"white",fontSize:"14px",display:"inline-flex",alignItems:"center",justifyContent:"center",borderRadius:"0 0 5px 5px"}},a.convertTime(a.props.dayData[a.mapOfTimes[m][2]]["start time"])+"-"+a.convertTime(a.props.dayData[a.mapOfTimes[m][2]]["end time"])))),l++,c++,a.column.push(r.a.createElement("div",{key:a.props.day+l,style:{width:"calc((75vw - 200px)/5)",textAlign:"center",height:"10px"}},r.a.createElement("div",{key:a.props.day+c,style:{width:"calc((75vw - 200px)/5)",height:"10px",display:"inline-flex"}}))),l++,c++;else{8===h&&(h=6),a.column.push(r.a.createElement("div",{key:a.props.day+l,style:{width:"calc((75vw - 200px)/5)",height:"25px",borderTop:a.toggleBorderBool?"1px solid #ccc":"1px dashed #ccc",textAlign:"center"}},r.a.createElement("div",{key:a.props.day+c,style:{position:"relative",top:"-1px",width:"calc((75vw - 260px)/5)",backgroundColor:a.props.dayData[a.mapOfTimes[m][2]].color,height:"26px",color:"white",fontSize:"14px",display:"inline-flex",alignItems:"center",justifyContent:"center",whiteSpace:"initial"}},a.props.dayData[a.mapOfTimes[m][2]].building+" "+a.props.dayData[a.mapOfTimes[m][2]].room))),l++,c++,a.toggleBorderBool=!a.toggleBorderBool,a.column.push(r.a.createElement("div",{key:a.props.day+l,style:{width:"calc((75vw - 200px)/5)",height:"25px",textAlign:"center"}},r.a.createElement("div",{key:a.props.day+c,style:{position:"relative",top:"-4px",width:"calc((75vw - 260px)/5)",backgroundColor:a.props.dayData[a.mapOfTimes[m][2]].color,height:"29px",color:"white",fontSize:"14px",display:"inline-flex",alignItems:"center",justifyContent:"center",whiteSpace:"initial"}},a.convertTime(a.props.dayData[a.mapOfTimes[m][2]]["start time"])+"-"+a.convertTime(a.props.dayData[a.mapOfTimes[m][2]]["end time"])))),l++,c++,a.column.push(r.a.createElement("div",{key:a.props.day+l,style:{width:"calc((75vw - 200px)/5)",textAlign:"center",height:"10px"}},r.a.createElement("div",{key:a.props.day+c,style:{position:"relative",top:"-4px",width:"calc((75vw - 260px)/5)",height:"11px",backgroundColor:a.props.dayData[a.mapOfTimes[m][2]].color,display:"inline-flex"}}))),l++,c++;for(var p=2;p<h-1;p++)a.column.push(r.a.createElement("div",{key:a.props.day+l,style:{width:"calc((75vw - 200px)/5)",borderTop:a.toggleBorderBool?"1px solid #ccc":"1px dashed #ccc",textAlign:"center",height:"60px"}},r.a.createElement("div",{key:a.props.day+c,style:{position:"relative",top:"-1px",width:"calc((75vw - 260px)/5)",display:"inline-flex",height:"61px",backgroundColor:a.props.dayData[a.mapOfTimes[m][2]].color}}))),l++,c++,a.toggleBorderBool=!a.toggleBorderBool;a.column.push(r.a.createElement("div",{key:a.props.day+l,style:{width:"calc((75vw - 200px)/5)",height:"50px",borderTop:a.toggleBorderBool?"1px solid #ccc":"1px dashed #ccc",textAlign:"center"}},r.a.createElement("div",{key:a.props.day+c,style:{position:"relative",top:"-1px",width:"calc((75vw - 260px)/5)",display:"inline-flex",height:"51px",backgroundColor:a.props.dayData[a.mapOfTimes[m][2]].color,borderRadius:"0 0 5px 5px"}}))),l++,c++,a.toggleBorderBool=!a.toggleBorderBool,a.column.push(r.a.createElement("div",{key:a.props.day+l,style:{width:"calc((75vw - 200px)/5)",textAlign:"center",height:"10px"}},r.a.createElement("div",{key:a.props.day+c,style:{width:"calc((75vw - 200px)/5)",height:"10px",display:"inline-flex"}}))),l++,c++}u+=h}u<a.props.intervalWithHalf.length&&(a.column.push(r.a.createElement("div",{key:a.props.day+l,style:{width:"calc((75vw - 200px)/5)",textAlign:"center",height:"60px",borderTop:a.toggleBorderBool?"1px solid #ccc":"1px dashed #ccc"}})),l++,a.toggleBorderBool=!a.toggleBorderBool)}return a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.dayData,a=e.theme;return 0===t.length?r.a.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",backgroundColor:this.state.mouseHover?"#eee":"#fff"},onMouseEnter:this.handleOnMouseEnter,onMouseLeave:this.handleOnMouseLeave},r.a.createElement(tt,{theme:a,intervalWithHalf:this.props.intervalWithHalf})):r.a.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",backgroundColor:this.state.mouseHover?"#eee":"#fff"},onMouseEnter:this.handleOnMouseEnter,onMouseLeave:this.handleOnMouseLeave},this.column)}}]),t}(n.Component),nt=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e))).calcData=function(){var e={},t=!0,n=!1,r=void 0;try{for(var i,l=function(){var t=i.value,a=[],n=function(e){var n=t.sections[e],r=(n.seats,Object(p.a)(n,["seats"])),i=[],l=[];r.section.forEach(function(e){"Blank"===e.id?i.push(e):l.push(e)});var s=l.map(function(e){return i.concat([e,r.cape,r.final,t.code])});a.push.apply(a,Object(E.a)(s))};for(var r in t.sections)n(r);e[t.code]=a},s=a.props.pinned[Symbol.iterator]();!(t=(i=s.next()).done);t=!0)l()}catch(d){n=!0,r=d}finally{try{t||null==s.return||s.return()}finally{if(n)throw r}}var c=[];for(var o in e)c.push(e[o][0]);return c},a.loadData=function(e){var t=0;a.days={M:[],T:[],W:[],R:[],F:[]},a.colors=["#9e7cdc","#5684e0","#8ecf5c","#f4b05a","#e9624c","#a47461"];var n=!0,r=!1,i=void 0;try{for(var l,s=e[Symbol.iterator]();!(n=(l=s.next()).done);n=!0){for(var c=l.value,o=0;o<c.length-3;o++){var d=c[o],u=(d["seats taken"],d["seats available"],d.number);if((C=Object(p.a)(d,["seats taken","seats available","number"])).code=c[c.length-1],C.color=a.colors[t],"-"!==C.days){var m=!0,h=!1,v=void 0;try{for(var f,y=C.days[Symbol.iterator]();!(m=(f=y.next()).done);m=!0){var E=f.value,g=(C.days,Object(p.a)(C,["days"]));a.days[E].push(g),a.hasData=!0}}catch(L){h=!0,v=L}finally{try{m||null==y.return||y.return()}finally{if(h)throw v}}}}t++}}catch(L){r=!0,i=L}finally{try{n||null==s.return||s.return()}finally{if(r)throw i}}a.metrics=[0,0,0],a.finalDays={M:[],T:[],W:[],R:[],F:[]},a.finalTitles={M:"",T:"",W:"",R:"",F:""},a.numberExclude=0,t=0,a.scheduleHasFinals=!1;var b=!0,w=!1,x=void 0;try{for(var k,O=e[Symbol.iterator]();!(b=(k=O.next()).done);b=!0){var j=k.value,T=j[j.length-3],S=j[j.length-2];if("N/A"!==T?(a.metrics[0]+=T.expected,a.metrics[1]+=T.received,a.metrics[2]+=T.study,a.hasMetrics=!0):a.numberExclude++,void 0!==S){S["seats taken"],S["seats available"],u=S.number;var C=Object(p.a)(S,["seats taken","seats available","number"]);a.finalTitles[C.days]=u,C.code=j[j.length-1],C.color=a.colors[t],t++;var D=C.days;g=Object(p.a)(C,["days"]);a.finalDays[D].push(g),a.scheduleHasFinals=!0}}}catch(L){w=!0,x=L}finally{try{b||null==O.return||O.return()}finally{if(w)throw x}}var N=[],F=[],B=[],A=[];if(a.hasData){for(var P in a.days)a.days[P].sort(U),a.finalDays[P].sort(U),N.push(a.days[P][0]),F.push(a.days[P][a.days[P].length-1]),B.push(a.finalDays[P][0]),A.push(a.finalDays[P][a.finalDays[P].length-1]);var W=N.sort(U)[0]["start time"],R=F.sort(V)[0]["end time"],I=B.sort(U)[0]["start time"],M=A.sort(V)[0]["end time"],z=G(W,R,!1),H=G(I,M,!0);a.interval=z[0],a.interval2=z[1],a.finalInterval=H[0],a.finalInterval2=H[1]}else a.interval=["6:00","7:00"],a.interval2=["6:00","6:30","7:00","7:30"]},a.hasData=!1,a.hasMetrics=!1,a.loadData(a.calcData()),a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.setRef,a=e.theme;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{ref:function(e){return t(e)}},r.a.createElement(et,{isNotFinalSchedule:!0,theme:a}),r.a.createElement("div",{style:{display:"flex",borderBottom:"3px solid #dedede"}},r.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},this.interval.map(function(e,t){return r.a.createElement(_e,{theme:a,key:t,time:e})})),r.a.createElement(at,{theme:a,key:"M",dayData:this.days.M,day:"M",intervalWithHalf:this.interval2}),r.a.createElement(at,{theme:a,key:"T",dayData:this.days.T,day:"T",intervalWithHalf:this.interval2}),r.a.createElement(at,{theme:a,key:"W",dayData:this.days.W,day:"W",intervalWithHalf:this.interval2}),r.a.createElement(at,{theme:a,key:"R",dayData:this.days.R,day:"R",intervalWithHalf:this.interval2}),r.a.createElement(at,{theme:a,key:"F",dayData:this.days.F,day:"F",intervalWithHalf:this.interval2}))),this.scheduleHasFinals?r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",{style:{marginTop:"30px",marginBottom:"10px"}},"Finals Schedule"),r.a.createElement(et,{isNotFinalSchedule:!1}),r.a.createElement("div",{style:{display:"flex",borderBottom:"3px solid #dedede"}},r.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},this.finalInterval.map(function(e,t){return r.a.createElement(_e,{theme:a,key:t,time:e})})),r.a.createElement(at,{theme:a,key:"M",dayData:this.finalDays.M,day:"M",intervalWithHalf:this.finalInterval2}),r.a.createElement(at,{theme:a,key:"T",dayData:this.finalDays.T,day:"T",intervalWithHalf:this.finalInterval2}),r.a.createElement(at,{theme:a,key:"W",dayData:this.finalDays.W,day:"W",intervalWithHalf:this.finalInterval2}),r.a.createElement(at,{theme:a,key:"R",dayData:this.finalDays.R,day:"R",intervalWithHalf:this.finalInterval2}),r.a.createElement(at,{theme:a,key:"F",dayData:this.finalDays.F,day:"F",intervalWithHalf:this.finalInterval2}))):r.a.createElement("div",{style:{display:"flex",marginTop:"110px",borderBottom:"3px solid #dedede"}}))}}]),t}(n.PureComponent),rt=function(e){var t=e.theme;return r.a.createElement(S.a,{to:"/",title:"Click to close",className:"btn-close"+t},r.a.createElement(_,null))},it=function(e){var t=e.theme;return r.a.createElement("div",{title:"Save your schedule",className:"btn-pin"+t},r.a.createElement(fe,null))},lt=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e))).setRef=function(e){a.setState({reference:e})},a.state={reference:""},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.context.theme,t=this.props,a=t.isMobile,n=t.pinned;return r.a.createElement("div",{className:"rightpane"+e},r.a.createElement("div",{className:"ribbon"+e},r.a.createElement("div",{className:"title"+e},r.a.createElement("h1",null,"Schedule")),r.a.createElement("div",{style:{display:"flex",flexDirection:"row"}},!a&&r.a.createElement(it,{theme:e}),!a&&r.a.createElement(rt,{theme:e}))),r.a.createElement("div",{className:"content"+e},r.a.createElement(nt,{pinned:n,setRef:this.setRef,theme:e})),a&&r.a.createElement(ke,{theme:e,type:"schedule",pinned:n,reference:this.state.reference}))}}]),t}(n.PureComponent);lt.contextType=h;var st=Object(n.memo)(function(e){var t=e.theme;return r.a.createElement("div",{className:"emptypane"+t})}),ct=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e))).addPin=function(e){a.setState({pinned:Object(E.a)(a.state.pinned).concat([e]).sort(J)})},a.removePin=function(e){a.setState(function(t){return{pinned:t.pinned.filter(function(t){return t!==e})}})},a.clearPins=function(){a.state.pinned.length>0&&a.setState({pinned:[]})},a.handleWindowResize=function(){a.setState({width:window.innerWidth})},a.loadData=function(){var e=Object(y.a)(f.a.mark(function e(t){var n,r;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.selectedQuarter=t,e.next=3,L.database().ref("quarter/"+t).once("value").then(function(e){return a.addClasses(e.val())});case 3:return n=e.sent,e.next=6,L.database().ref("quarter/"+t+" teachers").once("value").then(function(e){return a.addTeachers(e.val())});case 6:r=e.sent,Promise.all([n,r]).then(a.finishLoading());case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a.addClasses=function(e){for(var t=Object.values(e),n=0;n<t.length;n++){var r=t[n],i=r.code,l=r.title,s=r.units,c=r.description,o=r.prerequisites,d=r.restrictions,u=r.waitlist,m=r.dei,h=(r.podcast,Object(p.a)(r,["code","title","units","description","prerequisites","restrictions","waitlist","dei","podcast"]));a.classes.push({code:i,title:l,units:s,description:c,prerequisites:o,restrictions:d,waitlist:"true"===u,dei:"true"===m,sections:h})}a.classes=a.classes.sort(J)},a.addTeachers=function(e){for(var t in e)a.teachers.push({teacher:t,email:e[t][0],classes:e[t][1]})},a.finishLoading=function(){localStorage.setItem(a.selectedQuarter,[a.classes,a.teachers]),a.setState({loading:!1})},a.selectedQuarter="",a.quarters=[],a.classes=[],a.teachers=[],a.state={loading:!0,pinned:[],width:window.innerWidth},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleWindowResize)}},{key:"componentDidMount",value:function(){var e=this;window.addEventListener("resize",this.handleWindowResize),this.quarters=function(){var e=[];return L.database().ref("quarter/").once("value",function(t){Object.keys(t.val()).filter(function(e){return-1===e.indexOf("teacher")}).sort(X).forEach(function(t){return e.push({value:q[t.slice(0,2)]+" 20"+t.slice(-2),abbreviation:t})})}),e}(),L.database().ref("current").once("value").then(function(t){return e.loadData(t.val())})}},{key:"render",value:function(){var e=this,t=this.state,a=t.loading,n=t.pinned,i=t.width<1e3;return i?r.a.createElement(g.a,null,r.a.createElement(m.a,{exact:!0,path:"/",render:function(t){return r.a.createElement(Oe,Object.assign({classes:e.classes,teachers:e.teachers,quarters:e.quarters,selectedQuarter:e.selectedQuarter,loading:a,pinned:n,clearPins:e.clearPins,removePin:e.removePin,isMobile:i},t))}}),r.a.createElement(m.a,{exact:!0,path:"/schedule",render:function(e){return r.a.createElement(lt,Object.assign({isMobile:i,pinned:n},e))}}),r.a.createElement(m.a,{path:"/:id",render:function(t){return r.a.createElement(Ze,Object.assign({isMobile:i,pinned:n,addPin:e.addPin,removePin:e.removePin},t))}}),r.a.createElement(b.a,{from:"/:id",to:"/"})):r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(g.a,null,r.a.createElement(m.a,{path:"/schedule",render:function(t){return r.a.createElement("div",null,r.a.createElement(j,e.context))}}),r.a.createElement(m.a,{path:"/",render:function(t){return r.a.createElement(Oe,Object.assign({classes:e.classes,teachers:e.teachers,quarters:e.quarters,selectedQuarter:e.selectedQuarter,loading:a,pinned:n,removePin:e.removePin,clearPins:e.clearPins,isMobile:i},t))}})),r.a.createElement(g.a,null,r.a.createElement(m.a,{path:"/schedule",render:function(e){return r.a.createElement(lt,Object.assign({isMobile:i,pinned:n},e))}}),r.a.createElement(m.a,{path:"/:id",render:function(t){return r.a.createElement(Ze,Object.assign({isMobile:i,pinned:n,addPin:e.addPin,removePin:e.removePin},t))}}),r.a.createElement(m.a,{render:function(){return r.a.createElement(st,{theme:e.context.theme})}})))}}]),t}(n.Component);ct.contextType=h;var ot=function(e){function t(e){var a;Object(s.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e))).changeTheme=function(){a.setState({theme:""===a.state.theme?"-dark":""},a.saveTheme)},a.saveTheme=function(){localStorage.setItem("theme",a.state.theme)};var n=localStorage.getItem("theme")||"";return a.state={theme:n,changeTheme:a.changeTheme},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(h.Provider,{value:this.state},r.a.createElement(m.a,{component:ct}))}}]),t}(n.Component),dt=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function ut(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var a=e.installing;a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}var mt=a(179);l.a.render(r.a.createElement(mt.a,{basename:"/triton"},r.a.createElement(ot,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/triton",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/triton","/service-worker.js");dt?(function(e,t){fetch(e).then(function(a){404===a.status||-1===a.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):ut(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")})):ut(t,e)})}}()}},[[100,2,1]]]);
//# sourceMappingURL=main.aa1c6b6f.chunk.js.map